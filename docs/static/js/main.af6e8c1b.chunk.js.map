{"version":3,"sources":["reducers/appSettings.ts","DTO/Tables.tsx","Images/Books.tsx","Images/report.tsx","Images/FSEmpty.tsx","Images/FSDone.tsx","Images/FSProgress.tsx","Images/FSError.tsx","commonTypes.ts","Images/Icons.tsx","ReusableComponents/DxStyleSimple.tsx","ReusableComponents/FormEditor.tsx","ReusableComponents/TableEditorPage.tsx","components/CommonComponents/MessagePopup.tsx","components/CommonComponents/ConfirmForm.tsx","DictionaryComponents/AvailabilitySchedules/AvailabilitySchedulesDictClass.tsx","DictionaryComponents/TerminalSchedules/TerminalSchedulesDictClass.tsx","DictionaryComponents/SynchronizationMenuClass.tsx","Routes.tsx","ReusableComponents/TEControllerBase.ts","ReusableComponents/TreeViewSelector.tsx","Pages/RoleConfig.tsx","DictionaryComponents/IssueCauses/Labels.tsx","DictionaryComponents/IssueCauses/Images.tsx","DictionaryComponents/IssueCauses/Item.tsx","DictionaryComponents/IssueCauses/Field.tsx","DictionaryComponents/IssueCauses/StateDeviceImage.tsx","DictionaryComponents/IssueCauses/IssueCausesDictClass.tsx","DictionaryComponents/DeviceStatus/Labels.tsx","DictionaryComponents/DeviceStatus/Images.tsx","DictionaryComponents/DeviceStatus/Item.tsx","DictionaryComponents/DeviceStatus/StateDeviceImage.tsx","DictionaryComponents/DeviceStatus/StatusFilteredList.tsx","DictionaryComponents/DeviceStatus/DeviceStatusDictClass.tsx","DictionaryComponents/IssueEmailTemplates/Labels.tsx","DictionaryComponents/IssueEmailTemplates/IssueEmailTemplatesDictClass.tsx","Pages/UserRoles.tsx","Pages/UploadTup.tsx","Pages/TaskTup.tsx","helpers.tsx","DictionaryComponents/MailingListUsers/Labels.tsx","DictionaryComponents/MailingListUsers/MailingListUsersDictClass.tsx","DictionaryComponents/MailingGroupUsers/Labels.tsx","DictionaryComponents/MailingGroupUsers/MailingGroupUsersDictClass.tsx","DictionaryComponents/TerminalDirectory/Labels.tsx","DictionaryComponents/TerminalDirectory/TerminalDirectoryDictClass.tsx","components/LinkList.tsx","Images/langImgs.tsx","ReusableComponents/SelectLang.tsx","components/Login.tsx","Pages/Root.tsx","App.tsx","reducers/tables.ts","reducers/index.ts","index.tsx","DbWrapper.ts","DictionaryComponents/IssueCauses/Images/Disabled.png","DictionaryComponents/IssueCauses/Images/DeviceWorking.png","DictionaryComponents/IssueCauses/Images/DeviceWarning.png","DictionaryComponents/IssueCauses/Images/DeviceNotWorking.png","DictionaryComponents/IssueCauses/Images/DeviceUndetermined.png","DictionaryComponents/IssueCauses/Images/PassiveMode.png","DictionaryComponents/DeviceStatus/Images/Disabled.png","DictionaryComponents/DeviceStatus/Images/DeviceWorking.png","DictionaryComponents/DeviceStatus/Images/DeviceWarning.png","DictionaryComponents/DeviceStatus/Images/DeviceNotWorking.png","DictionaryComponents/DeviceStatus/Images/DeviceUndetermined.png","DictionaryComponents/DeviceStatus/Images/PassiveMode.png","DictionaryComponents/DeviceStatus/Images/NA.png","DictionaryComponents/DeviceStatus/Images/TerminalNotWorking.png","DictionaryComponents/DeviceStatus/Images/TerminalWarning.png","DictionaryComponents/DeviceStatus/Images/TerminalWorking.png","Errors.ts","localization.ts"],"names":["ACT_CHANGE_LANG","ACT_JWT_TESTRESULT_CHANGED","ACT_ENABlEDGUIITEMS_CHANGED","defaultState","Language","LangEnum","ru","JWTTestResult","undefined","EnabledGuiItemIds","reducer","state","arguments","length","action","type","result","Object","D_PayStationWeb_PayStationWeb_Projects_AdminService_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","payload","tstRes","__webpack_require__","d","__webpack_exports__","Tables","customDataSource","GetColumns","GetDGColumns","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_localization__WEBPACK_IMPORTED_MODULE_1__","devextreme_react_data_grid__WEBPACK_IMPORTED_MODULE_2__","devextreme_react_data_grid__WEBPACK_IMPORTED_MODULE_2___default","_DbWrapper__WEBPACK_IMPORTED_MODULE_3__","_index__WEBPACK_IMPORTED_MODULE_4__","devextreme_data_custom_store__WEBPACK_IMPORTED_MODULE_5__","columnDataType","CountriesColumns","dataField","dataType","number","caption","allowEditing","string","captionId","LocMsgId","Column_Country","AreasColumns","Column_Area","lookup","dataSource","Countries","valueExpr","displayExpr","CitiesColumns","Column_City","Areas","tableName","dispatch","store","regionTable","getState","Table","find","itm","regionRows","rows","CustomStore","key","load","GetLookupRows","then","data","getColumns","cols","i","col","column","allowEditingProp","colKey","captionValue","getLocMsg","a","createElement","push","table","columns","eval","Icon","size","react_default","xmlns","width","height","fillRule","strokeLinejoin","strokeWidth","overflow","viewBox","fill","stroke","fontFamily","fontSize","transform","strokeMiterlimit","color","strokeLinecap","className","attributeName","attributeType","from","to","dur","repeatCount","updateState","screenSizeEnum","LoadingStage","GetCurrentColCountByScr","ccObj","window","innerWidth","Large","Medium","Small","ExtraSmall","lg","md","sm","BooksImg","ReportImg","Tooltips","VFBtnUpload","VFBtnDownload","VFBtnCancel","VFBtnRunQuery","VFFSEmpty","VFFSWait","VFFSUploading","VFFSUploaded","BtnAdd","BtnDelete","BtnEdit","BtnView","BtnRefresh","BtnSave","BtnExitWithoutSaveChanges","BtnAddDownloadLogTask","BtnDownloadLog","BtnInstall","UpdateTaskStatus_New","UpdateTaskStatus_InProcess","UpdateTaskStatus_Complete","AnmWaitIcon","id","x1","x2","y2","stopColor","offset","stopOpacity","y1","x","y","ry","rx","ErrorMsg","_ref","message","clist","style","position","role","ErrorMsgFromDict","errId","ErrorEnum","NoError","ParseFailed","lastNotParsedError","MessageType","error","errObj","AllErrors","TableEditorMode","colCountByScr","FormEditor","_React$Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSaveBtnClick","bind","assertThisInitialized","handleFieldChange","handleCancelBtnClick","inherits","createClass","value","e","fieldName","newValue","event","currentTarget","hs","checkChanges","tableEditorInstance","setState","hasChanges","editorMode","AddRow","EditRow","teInstance","actions","SaveRowChangesOnServer","newRowValue","RollbackChangesInRedux","currRow","currentRowIndex","None","oldRowValue","currFldValue","currRowValue","objectSpread","getFormData","oldFldValue","Number","changesBeforeLostFocus","changesAfterLostFocus","prop","tblEd","handleRowChange","console","log","emptyColCount","eCols","devextreme_react_form","itemType","_this2","getTableName","colDefinition","forEach","disableEdit","wdth","captId","newItem","editorType","editorOptions","onInput","disabled","text","onValueChanged","ronly","isRowSelected","disableSaveBtn","disableCancelBtn","form_default","formData","minColWidth","readOnly","colCount","renderColumns","display","justifyContent","marginBottom","marginTop","button_default","icon","Button_Save","onClick","marginLeft","Button_Cancel","React","Component","TableEditorPageClass","gridRef","innerHeight","updateWindowSize","createRef","GetRows","sessionStorage","setItem","handleButtonEditClick","handleButtonAddClick","handleButtonDeleteClick","handleContentReady","addEventListener","removeEventListener","HasChanges","TableName","instance","emptyRow","getEmptyRow","updatedRowValue","SaveRowChangesToRedux","rowUid","DeleteRow","rowIndex","getGrid","getRowIndexByKey","getSelectedRowKeys","editRow","Alert","variant","getErrorMessage","loadingStage","loading","renderWait","btnDeleteStyle","visibility","btnAddStyle","borderColor","borderWidth","textAlign","msgId","button_group","data_grid","location","FormEditor_FormEditor","data_grid_default","ref","gref","getRows","focusedRowEnabled","focusedRowIndex","keyExpr","showBorders","onContentReady","onFocusedRowChanging","NotSavedRowChanges","cancel","newRow","newRowIndex","newSelectedRowUID","SetSelectedRowByUID","mode","TableEditorPage","connect","storePar","ownProps","tbl","AppSettings","jsxContext","dbwrap","GetRowIndex","uid","findIndex","r","success","SelectRow","hasOwnProperty","getProp","row","newData","_this3","refresh","catch","err","rowUID","updateDataGrid","pageSize","newPage","pageIndex","selectRows","MessagePopup","closeButtonOptions","cancelPopupClick","Button_Close","hidePopup","react","popup","visible","showTitle","at","my","devextreme_react","title","toolbar","widget","options","ConfirmForm","confirmButtonOptions","cancelButtonOptions","confirmFormClick","cancelFormClick","confirmButtonText","cancelButtonText","confirmForm","cancelForm","dragEnabled","closeOnOutsideClick","showCloseButton","container","allowedPageSizes","l_dataGrid","l_dataGrid_ScheduleItems","AvailabilitySchedulesDictClass","onChangeName","changedItem","selectedAvailabilitySchedule","name","component","_changedValue","applyChange","onChangeComment","comment","availabilitySchedulesRows","scheduleItemsRows","usersRows","previousAvailabilityItem","selectedScheduleItem","previousScheduleItem","currentScheduleItems","editableScheduleItems","focusedRowKey","scheduleItemsFocusedRowKey","addEditFormVisible","addEditFormTitle","confirmDeleteFormVisible","scheduleItemFormVisible","editScheduleItemVisible","removeScheduleItemVisible","popupTitle","popupMessage","popupVisible","popupVisibleForCriticalError","hasCriticalError","dataIsCorrect","isValid","scheduleItemIsCorrect","weekDay","startTime","endTime","availableWeekDays","weekDays","weekDaySelectBoxHidden","refComponents","Map","isTrashEditButtonDisabled","isScheduleItemsGridVisible","renderAddEditForm","renderScheduleItemForm","handleButtonRemoveClick","handleButtonRefreshClick","onFocusedRowChanged","getLocalDateTime","getScheduleItemsRows","saveScheduleClick","cancelAddEditFormClick","onScheduleItemsFocusedRowChanged","onScheduleItemsContentReady","addScheduleItem","editScheduleItem","removeScheduleItem","saveScheduleItemClick","cancelScheduleItemFormClick","onWeekDayValueChanged","onStartTimeValueChanged","onEndTimeValueChanged","getWeekDays","getWeekDayName","hidePopupForCriticalError","confirmDeleteFormClick","closeConfirmFormClick","checkSelectedRow","margin","Column_Name","text_box_default","valueChangeEvent","maxLength","hint","Column_Comment","Button_AddSchedule","Button_EditSchedule","Button_DeleteSchedule","autoNavigateToFocusedRow","clearText","Button_ClearSorting","ascendingText","Button_SortAscending","descendingText","Button_SortDescending","defaultPageSize","displayMode","showPageSizeSelector","showInfo","showNavigationButtons","Column_WeekDay","alignment","Column_StartTime","format","Column_EndTime","Menu_Dicts_Managements_ScheduleItem","hidden","placeholder","Message_SelectWeekDay","pickerType","Menu_Dicts_Managements_AvailabilitySchedule","Message_DirectoryNotAvailable","Button_Add","Button_Delete","Button_Edit","Button_Refresh","ConfirmForm_ConfirmForm","Message_Confirm","Message_Deleting","Button_Yes","Button_No","MessagePopup_MessagePopup","enabled","Column_EditDate","Column_User","_this4","asyncToGenerator","regenerator_default","mark","_callee3","wrap","_context3","prev","next","errorMessage","parsedErrObject","request","responseText","PopupTitle_Error","schedules","element","date","Date","_callee2","_context2","_callee","_context","WeekDay_Monday","WeekDay_Tuesday","WeekDay_Wednesday","WeekDay_Thursday","WeekDay_Friday","WeekDay_Saturday","WeekDay_Sunday","render","stop","scheduleItems","Message_AddAvailabilitySchedule","resetDataForCorrect","items","values","Message_EditAvailabilitySchedule","componentDidMount","filter","scheduleId","filteredRows","_this5","item","keyExistsInFilteredRows","getDataSource","getCombinedFilter","getKeyByRowIndex","resultParse","parse","isNaN","toLocaleDateString","toLocaleTimeString","_this6","schedule","arr","checkDataForCorrect","trim","PopupTitle_Information","Message_Success","response","status","Message_AvailabilityScheduleSaveError","Message_AvailabilityScheduleEditError","resetScheduleItemForCorrect","_this7","index","splice","_this8","selectedItem","checkScheduleItemForCorrect","Message_InvalidTime","hour12","splittedStartTime","split","newStartTime","setHours","setMinutes","setSeconds","splittedEndTime","newEndTime","selectedDays","allowDays","some","weekDayName","_this9","Message_AvailabilityScheduleDeleteError","target","model","nameIsValid","nameMessage","Message_NameRequired","toUpperCase","Message_DuplicateName","Message_ScheduleItemsRequired","comp","txtName","focus","weekDayIsValid","weekDayMessage","Message_WeekDayRequired","startTimeIsValid","startTimeMessage","Message_StartTimeRequired","endTimeIsValid","endTimeMessage","Message_EndTimeRequired","selectWeekDay","open","dateStartTime","dateEndTime","Message_NoSelectedAvailabilitySchedule","AvailabilitySchedulesDict","TerminalSchedulesDictClass","terminalScheduleRows","terminalRows","availabilityScheduleRows","areaRows","cityRows","attributeRows","terminalAttributeRows","typePointPlaceRows","selectedAvailabilityScheduleId","confirmSaveFormVisible","rowData","terminalSchedulesModel","selectedTerminalSchedulesModel","dataGrid","isVisibleEditArea","isNeedSave","isNeedClearSelection","handleButtonSaveClick","getTerminalSchedulesModelRows","checkSelection","onSelectionChanged","onRowClick","onCellClick","onOptionChanged","onInitialized","getDateTime","Menu_Dicts_Managements_TerminalSchedule","activeStateEnabled","hoverStateEnabled","Column_Schedule","select_box_default","Message_NeedSelect","Message_ConfirmSaveTerminalSchedules","Column_Address","Column_AttributeType","Column_TypePointPlace","Column_ScheduleApplyDate","deferred","selectAllMode","showCheckBoxesMode","allowSelectAll","_callee8","_context8","_callee7","_context7","terminalSchedules","_callee6","_context6","_callee5","_context5","_callee4","_context4","localThis","getSelectedRowsData","terminalScheduleItem","terminalId","selectedAvailability","city","cityId","terminalAttribute","areaId","address","attributeId","typePointPlaceId","applyDate","terminalScheduleId","columnIndex","rowType","clearSelection","checkbox","getCellElement","click","fullName","endsWith","newSchedule","getHours","slice","getMinutes","syncOperationType","syncStage","TerminalSchedulesDict","SynchronizationMenuItems","rowsToBeSynchronized","processedRows","reportRows","stage","init","errorObj","guiElementId","guiElementCaption","operation","operationResult","newRepRows","toConsumableArray","IncrementProcessedRowCounter","oldRow","updatedRow","CheckCompleted","syncCompleted","syncStarted","rwToBeSync","srvRows","clientUids","_loop","itemKey","GuiElementsId","itmName","GuiElementNames","GetGuiElementName","UpdateExistingRow","AddNewRow","rowsForDeleting","srvRow","includes","DeleteMissingrow","cellData","errorParser","cellRender","opResultRender","parsedErrId","Button_Apply","handleApplyBtnClick","renderApplyBtn","renderErrDescription","renderReportRows","TEControllerBase","tableEditor","tblEditor","prevCurrRow","onRowListChanged","HandleSelectNewCurrentRow","_handleError","SaveChanges","CancelChanges","HandleFieldChange","getCurrentRow","parsedErr","onError","setCurrentRow","_checkNotSavedChanges","newRowVal","crIdx","setCurrentRowIndex","oldRowVal","currRowVal","_getEmptyRow","currRowIndex","getCurrentRowIndex","curRow","TreeViewSelector","tvRef","newSelIds","getItems","newSelectedIds","oldSelIds","oldSelectedIds","addRemoveNestedNodes","parentNode","add","chItm","itemData","selected","node","ni","parent","dataPropName","tree_view_default","allItems","dataStructure","parentIdExpr","selectByClick","selectionMode","onItemSelectionChanged","handleSelectionChanged","RoleConfigPage","formRef","teController","currentRow","roleRows","tvGuiData","tvAttrData","appMenuObjectsRows","allGuiItems","GetSidebarItems","currGuiItems","roleId","guiElmNode","menuItem","m","ID","menuId","ci","cr","selIds","map","attrTypeRows","attrs","treeId","parentId","typeId","expanded","roleAttr","attr","loadTvGuiData","handleError","loadTvAttrData","getEditor","nodesForAdding","addNestedNodes","categoryId","nestNode","currRoleId","RoleMenuObjIdsForDeleting","elm","roleMenuObjRowsForAdding","rowsForAdding","saveGuiTvSelection","saveAttrTvSelection","newTvGuiData","newTvAttrData","saveTvSelection","loadTvData","currInd","newRows","errorId","getHeight","Column_Description","Column_SuperAdmin","_this10","edOpt","_this11","frmRef","renderFormFld","TreeViewSelector_TreeViewSelector","_this12","rowSelected","Menu_AccessManagement_Role","handleAddBtnClick","handleDeleteBtnClick","renderForm","flexDirection","border","fontWeight","renderGuiElmTree","renderAttrTree","renderDataGrid","idx","heightForTviewsAndGrid","getLabelText","code","Menu_Dicts_Monitoring_Event","Column_EventName","Column_EquipmentEvent","Column_GroupName","Column_IncidentCreationWaitTimeOrPercentage","Column_IncidentCreationWaitTime","Column_IncidentCreationPercentage","Column_EquipmentStatus","Column_CreateIncidentForEvent","Column_SendEmailToUser","Column_ConsiderDeviceAvailabilityMode","Message_Error","Message_Saving","Message_Required","Message_Value_Incorrect","Message_EditMode","Message_MinValue","Message_MaxValue","getImage","Disabled","DeviceWorking","DeviceWarning","DeviceNotWorking","DeviceUndetermined","PassiveMode","Item","src","description","Field","defaultValue","StateDeviceImage","stateDeviceCode","displayValue","IssueCausesDictClass","onChangeCreateIncidentForEvent","currentItem","isCreate","onChangeSendEmailToUser","isSendEmail","onChangeConsiderDeviceAvailabilityMode","isTerminalAvailabilty","onChangeIncidentCreationWaitTime","reactionParameter","checkReactionParameterForCorrect","onChangeDescription","onChangeStateDeviceId","stateDeviceId","onChangeEventName","causes","checkCausesForCorrect","rowKey","equipmentStatusList","isNeedToSave","nextRow","causesIsCorrect","reactionParameterIsCorrect","isVisibleToastForEdit","handleButtonRevertClick","changeCurrentRow","onToastHiding","newDataSet","stateDevice","setStatesName","setToNextRow","dataRow","setToPrevRow","dgdData","JSON","stringify","hasChanged","causesIsValid","causesMessage","reactionParameterMin","reactionParameterMax","reactionParameterIsValid","reactionParameterMessage","saveItem","issuesCause","groupCauseId","isHeightening","isPercent","deviceIdleStatesId","enable","prevCurrentItem","navigateToRow","align","originalName","rowSpan","groupName","label","showSpinButtons","max","fieldRender","itemRender","allowColumnResizing","allowColumnReordering","onHiding","displayTime","IssueCausesDict","Menu_Dicts_Monitoring_TerminalStatesByDevice","Column_ObjectMonitoring","Column_ObjectMonitoringStatus","Column_TerminalStatus","getImageDevice","getImageTerminal","NA","TerminalWorking","TerminalWarning","TerminalNotWorking","itemTerminal","terminalState","stateDeviceImage","stateTerminalImage","stateTerminalCode","getStatusFilteredList","DeviceStatusDictClass","onChangeStateTerminalId","stateTerminalId","stateTerminal","deviceTypeId","equipmentStatusListFiltered","terminalStatesByDevice","box","direction","crossAlign","ratio","baseSize","deviceTypeName","DeviceStatusDict","Menu_Dicts_Monitoring_EmailTemplate","Column_EmailTemplateName","Column_Subject","Column_Body","Column_Username","Message_DataIntegrityViolationError","Button_EditEmailBody","Message_SubjectRequired","Message_BodyRequired","Message_EmailTemplateSaveError","sizeValues","headerValues","fontValues","escapeCharacters","IssueEmailTemplatesDictClass","onChangeSubject","subject","isNew","emailPlaceHolderRows","userRows","placeHolders","htmlEditorFormVisible","isSaveFromHtmlEditor","messageBody","renderEmailHtmlEditor","handleButtonEditEmailClick","htmlEditorValueChanged","saveHtmlEditorForm","closeHtmlEditorForm","closeConfirmDeleteFormClick","checkEmailBody","checkEmailTemplate","stylingMode","html_editor_default","valueType","html_editor","multiline","acceptedValues","escapeChar","placeHolder","first","emailTemplate","String","body","firstIndex","indexOf","lastIndex","isNeedRender","previousValue","isReplace","charAt","email","htmlEditor","undo","clearHistory","registerKeyHandler","htmlEditorBtnOk","subjectIsValid","subjectMessage","txtSubject","IssueEmailTemplatesDict","UserRolesPage","tvData","loadRolesRows","username","password","rolesRows","userRoles","cuurrUserId","ur","userId","userRoledIdsForDeleting","newUserRoleRows","FormField_Password","Menu_AccessManagement_UserRoles","renderTVRoles","UploadTupPage","selectedFiles","errFileAlreadyExists","otherError","onSelectedFilesChanged","onUploadError","deleteFileFromDatabase","perr","MSSQL_2601","ee","file","axios","url","params","fileName","method","errStr","emObj","callBackFunc","ErrorMsgYesNo","file_uploader_default","multiple","accept","uploadMode","uploadUrl","concat","lastModifiedDate","renderFileAlreadyExistsError","renderOtherError","TupRow","TaskTupPage","btnDwnlEnabled","btnInstallEnabled","btnCancelDwnlEnabled","btnCancelInstallEnabled","btnRollbackEnabled","updStatusRender","hadleSelectionChange","loadRows","filial","typeDev","subnet","New","InProcess","Complete","Error","fld","toolTipMsg","GetUpdateTooltipText","OverlayTrigger","placement","overlay","Tooltip","assign","RenderTooltip","EmptyImg","ProgressImg","DoneImg","ErrorImg","GetUpdateStateImg","dwnlEnabled","selectedRowsData","every","Unknown","Menu_Reports_AutoUpdates_Tup","flexWrap","Button_Update_Download","Button_Update_Install","Button_Update_CancelDownload","Button_Update_CancelInstall","Button_Update_Rollback","Menu_Dicts_Monitoring_MailingListUser","Column_EmailList","Column_IsGroupEmail","Message_EMails_Incorrect","MailingListUsersDictClass","onChangeIsGroupEmail","isGroupEmail","onChangeUserName","userName","onChangeEmailList","emailList","confirmFormVisible","confirmFormTitle","confirmFormMessage","confirmFormOkButtonText","confirmFormCancelButtonText","eMails","closeConfirmSaveFormClick","confirmSaveFormClick","handleButtonNewClick","confirmFormOkButton","confirmFormCancelButton","txtUserName","regexp","RegExp","splitted","val","test","userNameIsValid","userNameMessage","eMailsIsValid","checkEMailsForCorrect","eMailsMessage","txtEmailList","users","MailingListUsersDict","Menu_Dicts_Monitoring_MailingGroupUser","Column_Groups","Column_AllUsers","Column_GroupUsers","Column_GroupsName","Column_UsersName","Button_AddToGroup","Button_RemoveFromGroup","MailingGroupUsersDictClass","onChangeGroupName","getDeepClone_GroupUser","currentItem_GroupUser","applyChange_GroupUser","dataGroupUser","groupUserRelations","currentItem_ListUser","currentItem_GroupUserRelation","groupUserRelation","groupId","listUser","listUsers","isVisibleButtonAddToGroup","isVisibleButtonRemoveFromGroup","onResize","changeCurrentRow_GroupUser","onRowClick_GroupUser","onFocusedRowChanged_GroupUser","onContentReady_GroupUser","onFocusedRowChanging_GroupUser","onFocusedRowChanged_ListUser","onContentReady_ListUser","onFocusedRowChanged_GroupUserRelation","onContentReady_GroupUserRelation","handleButtonAddToGroupClick","handleButtonRemoveFromGroupClick","group","mailingGroupUserRelations","j","relation","user","setUserName","_loop2","newGroupUserRelations","prevCurrentItem_GroupUser","getListUser","clearFilters","dgdListUser","clearFilter","dgdGroupUserRelation","changeCurrentRow_ListUser","changeCurrentRow_GroupUserRelation","dgdGroupUser","oldItem","_loop3","v","_ret","equalGroupUsers","txtGroupName","groupNameIsValid","groupNameMessage","relations","responsive_box_default","responsive_box","rowspan","MailingGroupUsersDict","NeedSelect","Id","Column_Id","Name","Address","City","Area","Country","TerminalType","Column_TerminalType","TerminalKey","Column_TerminalKey","SerialNumber","Column_SerialNumber","RNM","Column_RNM","DeviceCode","Column_DeviceCode","TerminalSerialNumber","Column_TerminalSerialNumber","Account","Column_Account","CashDeskCode","Column_CashDeskCode","StackerCapacity","Column_StackerCapacity","Users","Column_Users","Enabled","Column_Enabled","InServing","Column_InServing","Subnet","Column_Subnet","NetType","Column_NetType","Profile","Column_Profile","Timezone","Column_TimeZoneOffset","AvailabilitySchedules","Column_AvailabilitySchedules","WarrantyPeriod","Column_WarrantyPeriod","TechnicalSupportNumbers","Column_TechnicalSupportNumbers","CallCenterNumbers","Column_CallCenterNumbers","EditButton","ChangeApiKeyButton","Button_ChangeApiKey","TerminalName_Unique","Message_TerminalNameUnique","TerminalKey_Unique","Message_TerminalKeyUnique","CashDeskCode_Unique","Message_CashDeskCodeUnique","TechnicalSupportNumbers_Required","Message_TechnicalSupportNumbersRequired","CallCenterNumbers_Required","Message_CallCenterNumbersRequired","TerminalDirectoryDictClass","onChangeInServing","inServing","foundItem","serviceNote","onChangeEnabled","onChangeTerminalName","checkTerminalNameForCorrect","onChangeSerialNumber","serialNumber","checkSerialNumberForCorrect","onChangeAddress","checkAddressForCorrect","onChangeTerminalKey","terminalKey","checkTerminalKeyForCorrect","onChangeRnm","rnm","checkRnmForCorrect","onChangeDeviceCode","deviceCode","checkDeviceCodeForCorrect","onChangeAccount","account","onChangeCashDeskCode","cashDeskCode","checkCashDeskCodeForCorrect","onChangeServiceNote","checkServiceNoteForCorrect","onChangeStackerCapacity","stackerCapacity","checkStackerCapacityForCorrect","onChangeTimezone","timezoneId","checkTimezoneForCorrect","onChangeTerminalType","terminalTypeId","terminalTypeList","newAttribute","terminalAttributes","previousAttribute","checkTerminalTypeForCorrect","onChangeSubnet","subnetId","subnetList","checkSubnetForCorrect","onChangeNetType","netTypeId","checkNetTypeForCorrect","onChangeAvailabilitySchedule","availabilitySchedulesId","availabilityScheduleList","terminalSchedule","checkAvailabilityScheduleForCorrect","onChangeTypePointPlace","checkTypePointPlaceForCorrect","onChangeProfile","profileId","checkProfileForCorrect","onChangeLocation","currentSelectedRowKeys","locationId","locationList","locationName","areaName","locationHint","cityName","checkLocationForCorrect","isLocationGridBoxOpened","dgdLocation","onChangeWarrantyPeriod","warrantyPeriod","onChangeTerminalSerialNumber","terminalSerialNumber","onChangeTechnicalSupportNumbers","properties","checkTechnicalSupportNumbersForCorrect","onChangeCallCenterNumbers","checkCallCenterNumbersForCorrect","onChangeApiKey","apiKey","onChangeDealer","dealerId","checkDealerForCorrect","onOptionChangedLocation","clearGrouping","clearSorting","onOptionChangedTechnicalSupportNumber","isTechnicalSupportNumberEdited","dgdTechnicalSupportNumbers","cancelEditData","ddbTechnicalSupportNumbers","repaint","technicalSupportNumbers","isTechnicalSupportNumberAllowAdding","technicalSupportProperty","phones","getPhoneModels","callCenterProperty","callCenterNumbers","isTechnicalSupportNumberGridOpened","onTechnicalSupportNumberInitNewRow","setTechnicalSupportNumberEditState","onTechnicalSupportNumberEditingStart","onTechnicalSupportNumberEditCanceled","onTechnicalSupportNumberSaving","changes","phoneNumber","isVisibleToast","toastMessage","Message_TechnicalSupportNumberRequired","Message_TechnicalSupportNumberMaxLength","checkUniqueNumber","Message_TechnicalSupportNumberUnique","onTechnicalSupportNumberSaved","Message_TechnicalSupportNumberMaxCount","technicalSupportNumbersString","getPhonesString","setCurrentItem","isEdited","onOptionChangedCallCenterNumber","isCallCenterNumberEdited","dgdCallCenterNumbers","ddbCallCenterNumbers","isCallCenterNumberAllowAdding","isCallCenterNumberGridOpened","onCallCenterNumberInitNewRow","setCallCenterNumberEditState","onCallCenterNumberEditingStart","onCallCenterNumberEditCanceled","onCallCenterNumberSaving","Message_CallCenterNumberRequired","Message_CallCenterNumberMaxLength","Message_CallCenterNumberUnique","onCallCenterNumberSaved","Message_CallCenterNumberMaxCount","callCenterNumbersString","createNewModel","isReady","terminalDTOList","timezoneList","attributesList","netTypeList","typePointPlaceList","servicesProfileList","cityList","areaList","countryList","userList","dealerList","userFilteredList","usersFormVisible","isVisibleButtonAddUser","isVisibleButtonRemoveUser","apiKeyFormVisible","terminalNameIsCorrect","addressIsCorrect","terminalKeyIsCorrect","dealerIsCorrect","technicalSupportNumbersIsCorrect","callCenterNumbersIsCorrect","stackerCapacityIsCorrect","locationIsCorrect","rnmIsCorrect","serialNumberIsCorrect","deviceCodeIsCorrect","serviceNoteIsCorrect","profileIsCorrect","typePointPlaceIsCorrect","netTypeIsCorrect","subnetIsCorrect","terminalTypeIsCorrect","cashDeskCodeIsCorrect","timezoneIsCorrect","availabilityScheduleIsCorrect","currentItem_ListUserSelected","currentUsersTerminalModels","applyChange_ListUser","onFocusedRowChanged_ListUserSelected","onContentReady_ListUserSelected","changeCurrentRow_ListUserSelected","getLocationGrid","getTechnicalSupportNumberGrid","getCallCenterNumberGrid","handleButtonUsersClick","usersFormCancelButton","handleButtonAddUserClick","handleButtonRemoveUserClick","apiKeyCloseButton","handleApiKeyClick","_callee14","_context14","labels","_callee13","_context13","_callee12","_context12","_callee11","_context11","_callee10","_context10","_callee9","_context9","convertToModelArray","setDataArray","mergeTerminalTypeWithTerminalAttributesAndAttributes","mergeSubnetWithTerminalAttributesAndAttributes","mergeAvailabilityScheduleWithTerminalSchedule","mergeCityWithAreaAndCountry","setPositionName","mergeTerminalUsersWithUsers","setProperties","modelItem","terminal","servicesProfileDate","userTerminals","_loop4","_loop5","_loop6","_loop7","foundArea","countryId","foundCountry","countryName","_loop8","supportPhones","callCenter","phonesString","phone","Message_ApiKeyRequired","terminals","terminalDTO","setUniqueViolationError","terminalIndex","copy","listUserSelected","reload","dgdListUserSelected","addedUserTerminalModel","_this13","_loop9","newItems","oldItems","_loop10","_ret3","equalListUsers","Message_TerminalNameRequired","Message_TerminalAddressRequired","checkAddressForCorrect_2","Message_AddressRegRus_Incorrect","Message_TerminalKeyRequired","Message_DealerRequired","technicalSupport","Message_StackerCapacityRequired","Message_TerminalLocationRequired","Message_RnmRequired","Message_TerminalSerialNumberRequired","Message_DeviceCodeRequired","Message_ServiceNoteRequired","Message_TerminalProfileRequired","Message_TerminalTypePointPlaceRequired","Message_NetTypeRequired","Message_SubnetRequired","Message_TerminalTypeRequired","Message_CashDeskCodeRequired","Message_TerminalTimezoneRequired","Message_AvailabilityScheduleRequider","terminalNameIsValid","addressIsValid","terminalKeyIsValid","dealerIsValid","technicalSupportNumbersIsValid","callCenterNumbersIsValid","stackerCapacityIsValid","locationIsValid","rnmIsValid","serialNumberIsValid","deviceCodeIsValid","serviceNoteIsValid","profileIsValid","typePointPlaceIsValid","netTypeIsValid","subnetIsValid","terminalTypeIsValid","timezoneIsValid","availabilityScheduleIsValid","_this14","_this15","onInitNewRow","onEditingStart","onEditCanceled","onSaving","onSaved","allowUpdating","allowAdding","allowDeleting","useIcons","confirmDelete","newRowPosition","_this16","numbers","_this17","Menu_Dicts_Managements_TerminalDirectory","toString","Column_Dealer","Column_Location","deferRendering","contentRender","opened","min","acceptCustomValue","invalidDateMessage","list_default","focusStateEnabled","PopupTitle_DeviceUsers","Message_NewApiKey","columnRenderingMode","TerminalDirectoryDict","Dict","Menu_Dicts","Dict_Location","Menu_Dicts_Locations","Dict_Location_Country","Menu_Dicts_Locations_Country","Dict_Location_Area","Menu_Dicts_Locations_Area","Dict_Location_City","Menu_Dicts_Locations_City","Dict_Management","Menu_Dicts_Managements","Dict_Management_AvailabilitySchedule","Dict_Management_TerminalSchedule","Dict_Management_TerminalDirectory","Dict_Monitoring","Menu_Dicts_Monitoring","Dict_Monitoring_Event","Dict_Monitoring_TerminalStatesByDevice","Menu_Dict_Monitoring_TerminalStatesByDevice","Dict_Monitoring_EmailTemplate","Dict_Monitoring_MailingListUser","Dict_Monitoring_MailingGroupUser","AccessManagement","Menu_AccessManagement","AccessManagement_Role","AccessManagement_UserRoles","AccessManagement_Synchronize","Menu_AccessManagement_Syncronize","Report","Menu_Reports","Report_Autoupdates","Report_Autoupdates_Upload","Menu_Reports_AutoUpdates_Upload","Report_Autoupdates_List","getPath","NewSidebarItem","parentUid","msgID","icn","exp","path","SidebarItems","Cities","RoleConfig_RoleConfigPage","UserRoles_UserRolesPage","SynchronizationMenuClass_SynchronizationMenuItems","PgSynchronization_Header","Menu_Reports_AutoUpdates","UploadTup_UploadTupPage","TaskTup_TaskTupPage","st","superAdmin","leafs","ei","addParentNodes","LinkList","selectItem","onItemClick","history","PureComponent","wr","withRouter","koef","SelectLng","hovered","isEnter","borderRadius","alignItems","top","w","lngImg","kz","en","onMouseEnter","handleOnHover","onMouseLeave","ChangeLang","Row","getStyle","renderImg","SelectLang","currLang","newLang","locale","titleTmpl","p1","p2","PopupTitle_Login","LoginDialogClass","JWT","lastLogin","localStorage","login","lastJWT","isJWTAlive","setTimeout","SetJWTTestResult","setEnabledGuiItems","newObj","newFldValue","Login","dataObj","accessToken","UpdateEnabledGuiItems","okBtnDisabled","ph","titleRender","FormField_Login","Button_Ok","handleOkBtnClick","LoginDialog","newResult","Root","initMessages","openedStateMode","revealMode","onOutsideClick","Logout","loadMessages","ruMessages","_this$state","toolbar_default","handleLogoutBtnClick","drawer_default","allNestedItems","routes","nestedItem","routeItem","react_router","getRoutes","RootPage","App","minWidth","react_router_dom","hist","getTableDflt","tblName","newTableObj","currTableObjIndex","newTbl","newState","loaded","combineReducers","src_store","createSagaMiddleware","createStore","composeWithDevTools","applyMiddleware","thunk","rootElement","document","getElementById","es","ACT_TABLEROWS_REQUEST","ACT_TABLEROWS_RECEIVE","ACT_TABLEROWS_ERROR","ACT_SETCURRENTROW_INDEX","ACT_ROW_ADD","ACT_ROW_UPDATE","ACT_ROW_DELETE","AddRowRange","UpdateRow","AddUser","returnOkResult","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","_Errors__WEBPACK_IMPORTED_MODULE_1__","_reducers_appSettings__WEBPACK_IMPORTED_MODULE_2__","_index__WEBPACK_IMPORTED_MODULE_3__","doRequest","apiUrl","headers","Authorization","commonErrHandling","repeatFunc","ERR401","Promise","resolve","prefix","RefreshJWT","res","toJSON","Array","isArray","func","userRow","Username","Password","User","module","exports","p","warning","MSSQL_547","WrongLoginOrPassword","ERR413","NetworkError","ServerErrStatuses","obj","propName","getPropEx","propChain","currObj","parseFailed","buildErrObject","pErrId","ServerStatusError","srvErr","s","msg","pErrObj","respData","errSrcObj","Data","evtSrc","evtId","MSSQLError","_index__WEBPACK_IMPORTED_MODULE_0__","locMessages","Column_CreateDate","Column_Date","Column_Deleted","Button_AddDay","Message_NoSelectedRow","Message_ConfirmIssueImailTemplates","Message_NoSelectedEmailTemplate","Message_Date_Incorrect","PopupTitle_Warning","msgObj"],"mappings":"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","file":"static/js/main.af6e8c1b.chunk.js","sourcesContent":["import {LangEnum} from '../localization';\r\nexport const ACT_CHANGE_LANG = 'ACT_CHANGE_LANG';\r\nexport const ACT_JWT_TESTRESULT_CHANGED = 'ACT_JWT_TESTRESULT_CHANGED';\r\nexport const ACT_ENABlEDGUIITEMS_CHANGED = 'ACT_ENABlEDGUIITEMS_CHANGED';\r\n\r\nexport interface AppSettingsState {\r\n    Language: LangEnum;\r\n    JWTTestResult?:boolean,\r\n    EnabledGuiItemIds:any[]\r\n}\r\n\r\n\r\nconst defaultState:AppSettingsState = {\r\n    Language:LangEnum.ru,\r\n    JWTTestResult:undefined,\r\n    EnabledGuiItemIds:[]\r\n}\r\n\r\n\r\ninterface ChangeLangAction {\r\n    type:string,\r\n    payload:any\r\n}\r\n\r\n\r\nfunction reducer(state:AppSettingsState = defaultState,action:ChangeLangAction){\r\n    if(action.type !=ACT_CHANGE_LANG && action.type != ACT_JWT_TESTRESULT_CHANGED && ACT_ENABlEDGUIITEMS_CHANGED != ACT_ENABlEDGUIITEMS_CHANGED ){\r\n        return state;\r\n    }\r\n    switch (action.type){\r\n        case ACT_CHANGE_LANG:\r\n            let result = {...state as AppSettingsState,Language:action.payload};\r\n            return result;\r\n        case ACT_JWT_TESTRESULT_CHANGED:\r\n            let tstRes = (action.payload?true:false);\r\n            let res = {...state as AppSettingsState,JWTTestResult:tstRes};\r\n            return res;\r\n        case ACT_ENABlEDGUIITEMS_CHANGED:\r\n            result = {...state as AppSettingsState,EnabledGuiItemIds:action.payload};\r\n            return result;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import React, { Dispatch } from \"react\";\r\nimport { Table } from 'react-bootstrap';\r\nimport { BoolFormatterSimple } from '../ReusableComponents/ReactDataGrid/ColumnFormatters';\r\nimport getLocMsg, { LocMsgId } from '../localization';\r\nimport { Column, Lookup, FormItem } from 'devextreme-react/data-grid';\r\nimport { GetLookupRows } from '../DbWrapper';\r\nimport { SimpleItem } from 'devextreme-react/form';\r\nimport { store } from '../index';\r\nimport { TableStoreItemType } from '../reducers/tables';\r\nimport CustomStore from 'devextreme/data/custom_store';\r\nimport { StaticRouter } from \"react-router\";\r\nimport axios from 'axios';\r\n\r\n\r\nexport enum Tables {\r\n    Cities = \"Cities\",\r\n    Countries = \"Countries\",\r\n    Areas = \"Areas\",\r\n    Roles = \"Roles\"\r\n}\r\n\r\n\r\nexport interface CityRow {\r\n    id: number,\r\n    name: string,\r\n    region: string,\r\n    date: Date,\r\n    bool: boolean\r\n}\r\n\r\nenum columnDataType {\r\n    number = \"number\",\r\n    string = \"string\",\r\n    date = \"date\",\r\n    bool = \"boolean\",\r\n}\r\n\r\ninterface ILookup {\r\n    dataSource: Tables,\r\n    valueExpr: string,\r\n    displayExpr: string\r\n}\r\n\r\ninterface IColumn {\r\n    allowEditing?: boolean,\r\n    dataField: string,\r\n    dataType: columnDataType,\r\n    caption?: string,\r\n    captionId?: LocMsgId,\r\n    lookup?: ILookup\r\n}\r\n\r\nconst CountriesColumns: IColumn[] = [\r\n    { dataField: 'id', dataType: columnDataType.number, caption: \"Id\", allowEditing: false },\r\n    { dataField: 'name', dataType: columnDataType.string, captionId: LocMsgId.Column_Country },\r\n];\r\n\r\nconst AreasColumns: IColumn[] = [\r\n    { dataField: 'id', dataType: columnDataType.number, caption: \"Id\", allowEditing: false },\r\n    { dataField: 'name', dataType: columnDataType.string, captionId: LocMsgId.Column_Area },\r\n    { dataField: 'countryId', dataType: columnDataType.number, captionId: LocMsgId.Column_Country, lookup: { dataSource: Tables.Countries, valueExpr: \"id\", displayExpr: \"name\" }, allowEditing: true },\r\n];\r\n\r\nconst CitiesColumns: IColumn[] = [\r\n    { dataField: 'id', dataType: columnDataType.number, caption: \"Id\", allowEditing: false },\r\n    { dataField: 'name', dataType: columnDataType.string, captionId: LocMsgId.Column_City, },\r\n    { dataField: 'areaId', dataType: columnDataType.number, captionId: LocMsgId.Column_Area, lookup: { dataSource: Tables.Areas, valueExpr: \"id\", displayExpr: \"name\" }, allowEditing: true },\r\n];\r\n\r\nexport function customDataSource(tableName: Tables) {\r\n    let dispatch: any = store.dispatch;\r\n    let regionTable = store.getState().Table.find((itm) => itm.tableName === tableName);\r\n    let regionRows: any[] = [];\r\n    if (regionTable) {\r\n        regionRows = regionTable.rows;\r\n    }\r\n    if (regionRows && regionRows.length > 0) {\r\n        return regionRows;\r\n    }\r\n    return new CustomStore({\r\n        key: 'id',\r\n        load: (): any => {\r\n            return GetLookupRows(tableName,dispatch)\r\n                .then((data: any) => {\r\n                    return data;\r\n                });\r\n\r\n        }\r\n    });\r\n}\r\n\r\nfunction getColumns(cols: IColumn[]): Column[] {\r\n    let result: Column[] = [];\r\n    for (let i: number = 0; i < cols.length; i++) {\r\n        let col: IColumn = cols[i];\r\n        let column: Column;\r\n        let allowEditingProp: boolean = true;\r\n        if (col.allowEditing !== undefined) {\r\n            allowEditingProp = col.allowEditing;\r\n        }\r\n        let colKey = col.dataField;\r\n        let captionValue = col.caption;\r\n        if (col.captionId) {\r\n            captionValue = getLocMsg(col.captionId);\r\n        }\r\n        //@ts-ignore\r\n        column = (<Column key={colKey} dataField={col.dataField} dataType={col.dataType} caption={captionValue} allowEditing={allowEditingProp} >\r\n        </Column>\r\n        );\r\n\r\n        if (col.lookup) {\r\n            //@ts-ignore\r\n            column = (\r\n                <Column key={colKey} dataField={col.dataField} dataType={col.dataType} caption={captionValue} allowEditing={allowEditingProp} >\r\n                    <Lookup dataSource={customDataSource(col.lookup.dataSource)} valueExpr={col.lookup.valueExpr} displayExpr={col.lookup.displayExpr} />\r\n                </Column>\r\n            );\r\n        }\r\n        result.push(column);\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function GetColumns(table: Tables): IColumn[] {\r\n    let columns: IColumn[] = eval(table + \"Columns\");\r\n    return columns;\r\n}\r\n\r\nexport function GetDGColumns(table: Tables): Column[] {\r\n    let columns: IColumn[] = GetColumns(table);\r\n    return getColumns(columns);\r\n}","import React from \"react\";\r\n\r\nfunction Icon(size:number=48) {\r\n    return (\r\n        <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width={size}\r\n            height={size}\r\n            fillRule=\"evenodd\"\r\n            strokeLinejoin=\"bevel\"\r\n            strokeWidth=\"0.501\"\r\n            overflow=\"visible\"\r\n            viewBox=\"0 0 96 96\"\r\n        >\r\n            <g\r\n                fill=\"none\"\r\n                stroke=\"#000\"\r\n                fontFamily=\"Times New Roman\"\r\n                fontSize=\"16\"\r\n                transform=\"scale(1 -1)\"\r\n            >\r\n                <g transform=\"translate(0 -96)\">\r\n                    <g>\r\n                        <g stroke=\"none\" strokeMiterlimit=\"79.84\">\r\n                            <g>\r\n                                <path\r\n                                    fill=\"#007f01\"\r\n                                    strokeWidth=\"0.5\"\r\n                                    d=\"M16.288 23.265c-2.901 2.202.849 10.001 4.781 11.545l21.656 10.201c12.964 1.188 26.251 1.303 38.712-2.31-2.482-3.511-3.274-7.595-.507-12.892 2.248.735 3.82.762 1.919-2.845-6.125-3.772-12.25-6.784-18.375-7.846-21.655 1.794-41.249-1.121-48.186 4.147z\"\r\n                                ></path>\r\n                                <path\r\n                                    fill=\"#fff\"\r\n                                    strokeWidth=\"0.5\"\r\n                                    d=\"M62.73 20.921c-4.348 4.444-3.448 8.791-1.311 13.114l19.585 8.45c-3.013-4.489-2.819-8.654-.037-12.555-5.689-4.206-11.851-6.955-18.237-9.009z\"\r\n                                ></path>\r\n                                <g fill=\"#000\">\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M16.153 23.011c-3.043 2.311.375 9.536 4.092 11.715l.732.361 21.656 10.201.072.021c12.973 1.188 26.291 1.306 38.79-2.319l.132-.483c-2.266-3.205-3.088-6.871-.953-11.584l.377-.771.615.182c.787.201 1.504.261 1.919-.073.668-.54.378-1.745-.525-3.457l-.097-.106c-6.134-3.779-12.288-6.808-18.454-7.877l-.053-.002c-21.634 1.793-41.277-1.142-48.303 4.192zm66.518 4.18l.289.583c.642 1.381.523 1.848.345 1.992-.32.259-1.14.136-2.31-.247l-.278.13c-2.475 4.739-2.164 8.566-.341 11.863l.629.998-1.966.531c-10.175 2.557-20.853 2.773-31.425 2.06l-4.836-.387-21.629-10.187c-3.937-1.546-7.317-9.045-4.727-11.01 6.42-4.876 23.91-2.629 44.015-3.816l4.022-.284 2.261.479c4.565 1.142 9.138 3.292 13.721 5.958l2.23 1.337z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeLinejoin=\"miter\"\r\n                                        strokeWidth=\"0.251\"\r\n                                        d=\"M70.961 34.655l8.269 4.051a7.983 7.983 0 01-.356-1.313l-7.913-2.738zM66.108 30.152l12.62 5.935a3.856 3.856 0 01-.018-.988l-12.602-4.947zM66.108 27.983l12.734 5.935c.05-.165.091-.43.248-.852l-12.982-5.083zM71.506 27.792l8.068 4.04c.287-.608.494-.902.684-1.119l-8.752-2.921z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M62.757 20.51l-.227.06c-4.482 4.582-3.529 9.112-1.365 13.495l.131.129 19.586 8.45.279-.468c-2.938-4.38-2.743-8.385-.041-12.173l-.059-.449c-5.716-4.227-11.903-6.986-18.304-9.044zm17.796 9.38l-.319.48c-2.209 3.544-2.348 7.325-.003 11.32l.032.05-18.708-8.071-.683-1.504c-1.408-3.447-1.671-6.848 1.251-10.333l.636-.701 2.246.759c4.732 1.675 9.315 3.791 13.647 6.667l1.901 1.333zM24.677 22.297l-5.343 1.234-.196.224c-.511 2.535-.52 4.965 1.109 6.683l.161.074 4.969.112.215-.46c-1.143-2.14-1.701-4.467-.637-7.457l-.278-.41zm.263 7.72l-4.425-.101-.186-.214c-1.009-1.269-1.151-2.952-.865-4.894l.128-.728 4.734-1.093-.027.082c-.755 2.547-.395 4.661.449 6.556l.192.392z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M61.332 33.468c-13.442 2.081-26.553 2.139-39.511 1.238-.206-.014-.384.175-.396.422-.012.246.146.46.353.473 12.988.904 26.149.846 39.651-1.244.205-.031.35-.256.323-.502-.026-.245-.214-.419-.42-.387zM32.734 22.833l-.231.182c-.673 1.899-.564 4.701.049 6.74l.226.197 15.281.672.238-.418c-.87-2.376-1.383-4.678-.742-6.96l-.236-.392-14.585-.021zm.171.597l14.078.019-.019.076c-.445 2.03-.082 4.044.56 6.015l.164.47-14.714-.648-.147-.567c-.37-1.697-.398-3.724.03-5.214l.048-.151zM57.349 31.784c-.315-2.847-.532-6.158 1.032-9.864l-1.594-.449c-1.191 4.169-.551 7.367.562 10.313z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M50.731 19.544c-1.675 3.942-2.041 6.909-1.592 9.317.448 2.403 1.693 4.162 3.078 5.714.151.171.388.161.53-.019a.512.512 0 00-.017-.634c-1.35-1.514-2.461-3.118-2.859-5.255-.398-2.133-.1-4.883 1.529-8.718.094-.22.02-.49-.165-.602-.184-.114-.41-.025-.504.197z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M54.332 19.284c-3.069 2.352-3.722 5.712-3.245 8.711.469 2.95 2.038 5.595 3.472 6.637.177.128.408.061.515-.15.107-.213.051-.489-.126-.617-1.225-.889-2.688-3.297-3.124-6.037-.429-2.695.138-5.662 2.913-7.79.174-.132.225-.411.113-.619-.11-.208-.344-.269-.518-.135zM27.186 20.046c-2.659 8.316.227 11.687 2.588 15.266.128.194.364.227.527.075a.513.513 0 00.062-.631c-2.343-3.549-4.98-6.56-2.476-14.391.074-.231-.024-.49-.217-.579-.193-.088-.41.028-.484.26z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M29.411 20.046c-2.659 8.316.227 11.687 2.588 15.266.128.194.363.227.527.075a.513.513 0 00.062-.631c-2.343-3.549-4.98-6.56-2.476-14.391.074-.231-.023-.49-.217-.579-.193-.088-.41.028-.484.26z\"\r\n                                    ></path>\r\n                                </g>\r\n                            </g>\r\n                            <g>\r\n                                <path\r\n                                    fill=\"#f4393d\"\r\n                                    strokeWidth=\"0.5\"\r\n                                    d=\"M14.099 38.694c-3.244 2.445.951 11.107 5.35 12.821l24.233 11.329c14.506 1.321 29.372 1.448 43.317-2.566-2.779-3.897-3.664-8.433-.568-14.317 2.515.816 4.273.845 2.147-3.16-6.854-4.19-13.706-7.535-20.561-8.714-24.23 1.991-46.154-1.243-53.918 4.607z\"\r\n                                ></path>\r\n                                <path\r\n                                    fill=\"#fff\"\r\n                                    strokeWidth=\"0.5\"\r\n                                    d=\"M66.066 36.09c-4.866 4.936-3.858 9.763-1.468 14.566l21.915 9.384c-3.371-4.987-3.152-9.612-.042-13.944-6.366-4.672-13.26-7.724-20.405-10.006z\"\r\n                                ></path>\r\n                                <g fill=\"#000\">\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M13.949 38.411c-3.405 2.566.419 10.591 4.579 13.011l.819.4 24.233 11.33.079.023c14.518 1.321 29.418 1.452 43.404-2.575l.148-.536c-2.536-3.558-3.455-7.631-1.067-12.867l.422-.856.688.202c.881.224 1.683.292 2.148-.079.746-.6.422-1.939-.587-3.84l-.11-.118c-6.864-4.196-13.75-7.561-20.649-8.748l-.06-.002c-24.205 1.99-46.186-1.269-54.047 4.655zm74.43 4.642l.323.646c.72 1.536.586 2.055.386 2.214-.358.288-1.276.152-2.584-.274l-.311.146c-2.77 5.261-2.423 9.513-.382 13.174l.703 1.108-2.199.59c-11.386 2.841-23.333 3.08-35.162 2.288l-5.413-.43-24.2-11.313c-4.406-1.719-8.188-10.046-5.289-12.229 7.182-5.416 26.753-2.919 49.251-4.238l4.499-.316 2.529.534c5.109 1.267 10.226 3.654 15.353 6.617l2.496 1.483z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeLinejoin=\"miter\"\r\n                                        strokeWidth=\"0.251\"\r\n                                        d=\"M75.276 51.344l9.253 4.498a8.861 8.861 0 01-.399-1.458l-8.854-3.04zM69.846 46.341l14.119 6.592a4.33 4.33 0 01-.018-1.096l-14.101-5.496zM69.846 43.933l14.248 6.592c.056-.183.102-.478.277-.946l-14.525-5.646zM75.886 43.723l9.028 4.486c.321-.676.553-1.002.764-1.244l-9.792-3.242z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M66.096 35.633l-.254.068c-5.016 5.088-3.949 10.119-1.527 14.988l.147.143 21.914 9.384.313-.52c-3.288-4.865-3.068-9.311-.046-13.519l-.066-.499c-6.396-4.695-13.318-7.757-20.481-10.045zm19.912 10.419l-.356.532c-2.471 3.936-2.627 8.136-.002 12.573l.035.056-20.934-8.965-.764-1.67c-1.575-3.829-1.87-7.605 1.4-11.476l.712-.778 2.513.842c5.296 1.86 10.423 4.211 15.27 7.405l2.126 1.481zM23.487 37.618l-5.978 1.37-.22.25c-.572 2.815-.582 5.515 1.24 7.421l.181.081 5.56.126.241-.51c-1.279-2.376-1.902-4.963-.714-8.282l-.31-.456zm.294 8.574l-4.951-.111-.208-.238c-1.127-1.41-1.288-3.279-.967-5.436l.142-.808 5.297-1.214-.03.091c-.847 2.829-.441 5.175.503 7.282l.214.434z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M64.502 50.025c-15.041 2.312-29.711 2.376-44.211 1.375-.23-.017-.429.195-.443.469-.012.274.165.51.394.526 14.535 1.005 29.261.94 44.368-1.383.23-.034.392-.284.362-.557-.029-.272-.24-.464-.47-.43zM32.503 38.213l-.259.202c-.754 2.11-.631 5.222.054 7.485l.253.22 17.1.746.265-.465c-.974-2.638-1.546-5.194-.829-7.729l-.265-.436-16.319-.023zm.192.662l15.751.023-.02.084c-.499 2.254-.094 4.492.626 6.68l.183.523-16.465-.719-.163-.631c-.414-1.885-.446-4.135.033-5.79l.055-.17zM60.044 48.154c-.352-3.162-.594-6.838 1.156-10.956l-1.783-.496c-1.333 4.63-.617 8.181.627 11.452z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M52.639 34.559c-1.872 4.379-2.283 7.675-1.781 10.35.501 2.668 1.895 4.622 3.444 6.346.169.188.434.179.594-.022a.568.568 0 00-.019-.704c-1.51-1.682-2.754-3.465-3.199-5.836-.447-2.37-.112-5.424 1.71-9.684.105-.243.023-.543-.184-.668-.205-.125-.459-.026-.565.218z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M56.669 34.272c-3.434 2.613-4.164 6.343-3.629 9.674.524 3.277 2.279 6.214 3.883 7.371.199.143.458.067.576-.167.121-.234.058-.542-.14-.684-1.371-.988-3.008-3.662-3.496-6.707-.48-2.991.153-6.286 3.26-8.649.195-.147.25-.456.125-.688-.123-.231-.385-.298-.579-.15zM26.296 35.118c-2.977 9.236.253 12.981 2.895 16.955.142.215.407.252.59.082.18-.169.211-.482.069-.7-2.623-3.943-5.573-7.287-2.772-15.983.085-.255-.024-.545-.241-.642-.217-.099-.459.03-.541.288z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M28.785 35.118c-2.976 9.236.253 12.981 2.895 16.955.144.215.408.252.59.082.181-.169.213-.482.069-.7-2.62-3.943-5.572-7.287-2.77-15.983.082-.255-.026-.545-.243-.642-.216-.099-.459.03-.541.288z\"\r\n                                    ></path>\r\n                                </g>\r\n                            </g>\r\n                            <g>\r\n                                <path\r\n                                    fill=\"#17afdc\"\r\n                                    strokeWidth=\"0.5\"\r\n                                    d=\"M12.247 56.193c-2.901 2.203.849 10.002 4.781 11.546L38.684 77.94c12.964 1.188 26.251 1.303 38.712-2.31-2.482-3.51-3.274-7.594-.507-12.892 2.248.735 3.82.761 1.918-2.845-6.123-3.772-12.249-6.784-18.374-7.846-21.655 1.794-41.249-1.12-48.186 4.146z\"\r\n                                ></path>\r\n                                <path\r\n                                    fill=\"#fff\"\r\n                                    strokeWidth=\"0.5\"\r\n                                    d=\"M58.689 53.85c-4.348 4.444-3.448 8.791-1.312 13.114l19.586 8.45c-3.013-4.49-2.818-8.655-.037-12.554-5.69-4.207-11.851-6.955-18.237-9.01z\"\r\n                                ></path>\r\n                                <g fill=\"#000\">\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M12.112 55.94c-3.043 2.31.375 9.536 4.092 11.715l.732.36 21.656 10.202.072.02c12.973 1.188 26.291 1.307 38.79-2.319l.132-.482c-2.266-3.205-3.088-6.871-.953-11.584l.377-.772.615.183c.787.201 1.504.262 1.919-.072.668-.541.378-1.746-.525-3.458l-.097-.107c-6.134-3.778-12.288-6.807-18.454-7.876l-.052-.002c-21.635 1.793-41.278-1.142-48.304 4.192zm66.518 4.18l.289.582c.641 1.382.522 1.849.344 1.993-.319.258-1.139.136-2.309-.247l-.278.13c-2.475 4.739-2.164 8.567-.341 11.863l.63.998-1.967.531c-10.175 2.557-20.853 2.773-31.425 2.061l-4.836-.388-21.629-10.187c-3.937-1.546-7.318-9.044-4.727-11.01 6.42-4.876 23.91-2.63 44.015-3.815l4.022-.285 2.261.479c4.565 1.143 9.138 3.292 13.721 5.959l2.23 1.336z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeLinejoin=\"miter\"\r\n                                        strokeWidth=\"0.251\"\r\n                                        d=\"M66.92 67.584l8.269 4.05a8.043 8.043 0 01-.356-1.312l-7.913-2.738zM62.067 63.08l12.62 5.936a3.857 3.857 0 01-.018-.988L62.067 63.08zM62.067 60.911l12.734 5.936c.05-.165.091-.43.248-.852l-12.982-5.084zM67.466 60.722l8.067 4.04c.287-.609.495-.902.684-1.121l-8.751-2.919z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M58.716 53.439l-.227.061c-4.482 4.582-3.53 9.111-1.365 13.494l.131.129 19.586 8.45.279-.469c-2.938-4.379-2.743-8.384-.041-12.173l-.059-.449c-5.716-4.226-11.903-6.985-18.304-9.043zm17.796 9.379l-.319.481c-2.209 3.543-2.348 7.325-.003 11.321l.032.049-18.708-8.07-.683-1.504c-1.408-3.448-1.671-6.848 1.251-10.334l.636-.701 2.246.758c4.732 1.675 9.315 3.793 13.647 6.669l1.901 1.331zM20.636 55.226l-5.343 1.234-.196.224c-.511 2.535-.52 4.965 1.109 6.683l.161.074 4.969.112.215-.459c-1.143-2.14-1.701-4.468-.637-7.457l-.278-.411zm.263 7.719l-4.425-.1-.186-.214c-1.009-1.27-1.151-2.953-.865-4.894l.128-.728 4.734-1.093-.027.082c-.756 2.548-.395 4.66.449 6.557l.192.39z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M57.291 66.398c-13.442 2.08-26.553 2.139-39.511 1.238-.206-.015-.384.174-.396.421-.012.247.146.459.353.473 12.989.904 26.148.846 39.651-1.244.205-.031.35-.256.323-.502-.026-.245-.214-.418-.42-.386zM28.693 55.762l-.231.182c-.673 1.9-.564 4.701.049 6.739l.226.198 15.281.672.238-.418c-.87-2.376-1.383-4.678-.742-6.959l-.236-.394-14.585-.02zm.171.596l14.078.02-.019.076c-.444 2.03-.082 4.044.561 6.015l.163.469-14.714-.646-.147-.567c-.37-1.698-.398-3.725.03-5.214l.048-.153zM53.308 64.713c-.315-2.847-.532-6.158 1.032-9.865l-1.594-.447c-1.191 4.168-.551 7.366.562 10.312z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M46.69 52.473c-1.674 3.942-2.041 6.91-1.592 9.318.448 2.403 1.693 4.16 3.078 5.714.151.17.388.16.53-.021a.51.51 0 00-.017-.633c-1.35-1.514-2.461-3.118-2.859-5.255-.398-2.133-.1-4.883 1.529-8.718.095-.22.02-.491-.165-.603-.184-.112-.41-.024-.504.198z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M50.291 52.213c-3.069 2.353-3.722 5.712-3.245 8.711.469 2.949 2.038 5.595 3.472 6.637.177.128.408.061.515-.151.107-.212.051-.488-.126-.616-1.225-.889-2.688-3.297-3.124-6.037-.43-2.695.138-5.663 2.913-7.789.174-.133.226-.412.113-.62-.111-.208-.344-.269-.518-.135zM23.145 52.975c-2.659 8.316.228 11.688 2.588 15.267.128.192.364.226.527.073a.511.511 0 00.062-.63c-2.343-3.55-4.98-6.56-2.476-14.391.074-.23-.023-.49-.217-.579-.193-.089-.41.028-.484.26z\"\r\n                                    ></path>\r\n                                    <path\r\n                                        strokeWidth=\"0.5\"\r\n                                        d=\"M25.37 52.975c-2.659 8.316.227 11.688 2.588 15.267.128.192.364.226.527.073a.511.511 0 00.062-.63c-2.343-3.55-4.98-6.56-2.476-14.391.074-.23-.024-.49-.217-.579-.193-.089-.41.028-.484.26z\"\r\n                                    ></path>\r\n                                </g>\r\n                            </g>\r\n                        </g>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\n\r\nfunction Icon(size:number) {\r\n    if (!size) {\r\n        size = 48;\r\n    }\r\n    return (\r\n        <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width={size}\r\n            height={size}\r\n            fillRule=\"evenodd\"\r\n            strokeLinejoin=\"bevel\"\r\n            strokeWidth=\"0.501\"\r\n            overflow=\"visible\"\r\n            viewBox=\"0 0 96 96\"\r\n        >\r\n            <g\r\n                fill=\"none\"\r\n                stroke=\"#000\"\r\n                fontFamily=\"Times New Roman\"\r\n                fontSize=\"16\"\r\n                transform=\"scale(1 -1)\"\r\n            >\r\n                <g transform=\"translate(0 -96)\">\r\n                    <g>\r\n                        <g strokeMiterlimit=\"79.84\">\r\n                            <path\r\n                                fill=\"#f4393d\"\r\n                                stroke=\"none\"\r\n                                strokeWidth=\"0.5\"\r\n                                d=\"M18.381 17.475v61.549a4.523 4.523 0 004.522 4.522h50.075a4.524 4.524 0 004.522-4.522V17.475a4.523 4.523 0 00-4.522-4.522H22.903a4.523 4.523 0 00-4.522 4.522zm56.476 0v61.549a1.88 1.88 0 01-1.879 1.878H22.903a1.88 1.88 0 01-1.879-1.878V17.475a1.88 1.88 0 011.879-1.878h50.075a1.88 1.88 0 011.879 1.878z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#17afdc\"\r\n                                stroke=\"none\"\r\n                                strokeWidth=\"0.5\"\r\n                                d=\"M24.971 41.847v-.001c0-1.082 1.203-1.962 2.686-1.962h14.867c1.482 0 2.686.88 2.686 1.962v.001c0 1.082-1.204 1.961-2.686 1.961H27.657c-1.483 0-2.686-.879-2.686-1.961zM24.972 31.518v-.001c0-1.082 1.203-1.962 2.686-1.962h14.867c1.482 0 2.686.88 2.686 1.962v.001c0 1.082-1.204 1.962-2.686 1.962H27.658c-1.483 0-2.686-.88-2.686-1.962zM24.972 20.95v-.001c0-1.082 1.203-1.961 2.686-1.961h14.867c1.482 0 2.686.879 2.686 1.961v.001c0 1.082-1.204 1.962-2.686 1.962H27.658c-1.483 0-2.686-.88-2.686-1.962zM51.303 53.102v-.001c0-1.082 1.204-1.962 2.686-1.962h14.867c1.482 0 2.686.88 2.686 1.962v.001c0 1.082-1.204 1.962-2.686 1.962H53.989c-1.482 0-2.686-.88-2.686-1.962zM51.303 63.433c0-1.083 1.204-1.962 2.686-1.962h14.867c1.482 0 2.686.879 2.686 1.962s-1.204 1.962-2.686 1.962H53.989c-1.482 0-2.686-.879-2.686-1.962zM51.303 73.962c0-1.083 1.204-1.962 2.686-1.962h14.867c1.482 0 2.686.879 2.686 1.962s-1.204 1.962-2.686 1.962H53.989c-1.482 0-2.686-.879-2.686-1.962z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#007f01\"\r\n                                stroke=\"none\"\r\n                                strokeLinejoin=\"miter\"\r\n                                strokeWidth=\"0.172\"\r\n                                d=\"M43.661 54.446v11.462l2.48 4.028-.023-15.436-2.457-.054z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#f4393d\"\r\n                                stroke=\"none\"\r\n                                strokeLinejoin=\"miter\"\r\n                                strokeWidth=\"0.172\"\r\n                                d=\"M39.667 54.447v7.772c1.083-.418 1.977-.017 2.644 1.375l.053-9.147h-2.697z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#007f01\"\r\n                                stroke=\"none\"\r\n                                strokeLinejoin=\"miter\"\r\n                                strokeWidth=\"0.172\"\r\n                                d=\"M35.807 54.447v4.705l1.851 3.754.846-.369-.106-8.09h-2.591z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#17afdc\"\r\n                                stroke=\"none\"\r\n                                strokeLinejoin=\"miter\"\r\n                                strokeWidth=\"0.172\"\r\n                                d=\"M31.947 54.447L32 58.73l2.644-.794-.106-3.542-2.591.053z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#f4393d\"\r\n                                stroke=\"none\"\r\n                                strokeLinejoin=\"miter\"\r\n                                strokeWidth=\"0.172\"\r\n                                d=\"M28.247 54.447l2.431 4.705.107-4.705h-2.538z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#f4393d\"\r\n                                stroke=\"none\"\r\n                                strokeWidth=\"0.5\"\r\n                                d=\"M46.104 71.293l-5.008-8.331a.664.664 0 00-.793-.285l-3.073 1.011-2.268-4.743a.662.662 0 00-.827-.301l-3.576 1.421-2.576-4.82a.661.661 0 00-1.166.623l2.855 5.34a.66.66 0 00.827.302l3.576-1.421 2.419 4.504a.66.66 0 00.805.31l2.87-1.031 4.798 8.095-.434.198 2.232 1.686-.183-2.794-.478.236z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#17afdc\"\r\n                                stroke=\"none\"\r\n                                strokeWidth=\"0.5\"\r\n                                d=\"M26.21 52.443l-.662.661v20.859c.39.805.822.943 1.323 0V53.765h20.406c.424-.335.443-.771 0-1.322H26.21z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#17afdc\"\r\n                                stroke=\"none\"\r\n                                strokeLinejoin=\"miter\"\r\n                                strokeWidth=\"0.172\"\r\n                                d=\"M47.803 30.372l11.318.083-5.04-10.244c-4.777 3.068-6.73 6.439-6.278 10.161z\"\r\n                            ></path>\r\n                            <path\r\n                                stroke=\"#f4393d\"\r\n                                strokeLinejoin=\"miter\"\r\n                                strokeWidth=\"0.75\"\r\n                                d=\"M59.369 32.521H48.628c.715 7.071 4.697 10.06 10.658 10.574l.083-10.574z\"\r\n                            ></path>\r\n                            <path\r\n                                fill=\"#007f01\"\r\n                                stroke=\"none\"\r\n                                strokeLinejoin=\"miter\"\r\n                                strokeWidth=\"0.172\"\r\n                                d=\"M61.185 42.269l-.247-11.565-4.709-10.244c18.01-5.702 22.306 20.488 4.956 21.809z\"\r\n                            ></path>\r\n                        </g>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\n\r\n\r\nfunction Icon(size=32,color=\"#17a2b8\") {\r\n    return (\r\n        <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width={size}\r\n            height={size}\r\n            fillRule=\"evenodd\"\r\n            strokeLinejoin=\"bevel\"\r\n            strokeWidth=\"0.501\"\r\n            overflow=\"visible\"\r\n            viewBox=\"0 0 96 96\"\r\n        >\r\n            <g\r\n                fill=\"none\"\r\n                stroke=\"#000\"\r\n                fontFamily=\"Times New Roman\"\r\n                fontSize=\"16\"\r\n                transform=\"scale(1 -1)\"\r\n            >\r\n                <g transform=\"translate(0 -96)\">\r\n                    <path\r\n                        stroke={color}\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"miter\"\r\n                        strokeMiterlimit=\"79.84\"\r\n                        strokeWidth=\"4.5\"\r\n                        d=\"M8.089 77.737V17.508c0-6.229 5.056-11.285 11.285-11.285h59.329c6.229 0 11.285 5.056 11.285 11.285v60.229c0 6.229-5.056 11.285-11.285 11.285H19.374c-6.229 0-11.285-5.056-11.285-11.285z\"\r\n                    ></path>\r\n                </g>\r\n            </g>\r\n            </svg>\r\n    );\r\n}\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\n\r\n\r\nfunction Icon(size=32,color=\"#17a2b8\") {\r\n    return (\r\n        <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width={size}\r\n            height={size}\r\n            fillRule=\"evenodd\"\r\n            strokeLinejoin=\"bevel\"\r\n            strokeWidth=\"0.501\"\r\n            overflow=\"visible\"\r\n            viewBox=\"0 0 96 96\"\r\n        >\r\n            <g\r\n                fill=\"none\"\r\n                stroke=\"#000\"\r\n                fontFamily=\"Times New Roman\"\r\n                fontSize=\"16\"\r\n                transform=\"scale(1 -1)\"\r\n            >\r\n                <g transform=\"translate(0 -96)\">\r\n                    <g strokeMiterlimit=\"79.84\">\r\n                        <path\r\n                            stroke={color}\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"miter\"\r\n                            strokeWidth=\"4.5\"\r\n                            d=\"M8.089 77.737V17.508c0-6.229 5.056-11.285 11.285-11.285h59.329c6.229 0 11.285 5.056 11.285 11.285v60.229c0 6.229-5.056 11.285-11.285 11.285H19.374c-6.229 0-11.285-5.056-11.285-11.285z\"\r\n                        ></path>\r\n                        <path\r\n                            fill=\"#00ff03\"\r\n                            stroke=\"none\"\r\n                            strokeLinejoin=\"miter\"\r\n                            strokeWidth=\"3\"\r\n                            d=\"M23.396 53.191l12.921-37.875 3.364-.178 42.123 56.284-11.858 9.204-27.257-36.814-5.133 14.158-14.16-4.779z\"\r\n                        ></path>\r\n                        <path\r\n                            fill=\"#004c8d\"\r\n                            stroke=\"none\"\r\n                            strokeWidth=\"0.5\"\r\n                            d=\"M40.634 12.369l-6.102.323L20.383 54.17l18.413 6.214 4.449-12.273 26.124 35.284 15.448-11.99-44.183-59.036zm-2.177 4.653L78.52 70.555l-8.268 6.419L41.863 38.63l-5.818 16.043-9.906-3.344 11.693-34.273.625-.034z\"\r\n                        ></path>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n            </svg>\r\n    );\r\n}\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\n\r\n\r\nfunction Icon(size=32,color=\"#17a2b8\") {\r\n    return (\r\n        <svg className = \"rot\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width={size}\r\n            height={size}\r\n            fillRule=\"evenodd\"\r\n            strokeLinejoin=\"bevel\"\r\n            strokeWidth=\"0.501\"\r\n            overflow=\"visible\"\r\n            viewBox=\"0 0 96 96\"\r\n        >\r\n            <g\r\n                fill=\"none\"\r\n                stroke=\"#000\"\r\n                fontFamily=\"Times New Roman\"\r\n                fontSize=\"16\"\r\n                transform=\"scale(1 -1)\"\r\n            >\r\n                <g transform=\"translate(0 -96)\">\r\n                    <g fill={color} strokeMiterlimit=\"79.84\">\r\n                        <path\r\n                            stroke={color}\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth=\"0.188\"\r\n                            d=\"M41.965 14.917C11.8 22.382 10.054 51.714 22.684 66.856c7.034 8.432 19.497 12.735 31.007 10.49 11.293-2.204 21.339-10.604 24.983-26.527.194-.847-1.324-3.264-3.363-3.624-2.038-.359-3.793 1.278-3.965 2.022-3.037 13.205-10.955 19.181-19.091 20.768-8.978 1.751-18.628-1.719-23.812-7.934-9.316-11.167-8.999-33.835 15.323-39.853a3.752 3.752 0 002.74-4.541 3.752 3.752 0 00-4.541-2.74zM74.207 30.59L62.333 46.601c-.401.769-.312 1.255.771 1.158l10.056-2.951c1.303-.38 2.557-.406 3.731.088l8.393 2.431c1.242.446 1.296-.129.804-1.166L74.207 30.59z\"\r\n                        ></path>\r\n                        <animateTransform fill=\"freeze\" attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"360 50 46\" to=\"0 50 46\" dur=\"3s\" repeatCount=\"indefinite\" />\r\n                    </g>\r\n                    <g fill={color} strokeMiterlimit=\"79.84\">\r\n                        <path\r\n                            stroke=\"none\"\r\n                            strokeWidth=\"0.5\"\r\n                            d=\"M5.839 17.508v60.229c0 7.471 6.063 13.535 13.535 13.535h59.329c7.471 0 13.535-6.064 13.535-13.535V17.508c0-7.472-6.064-13.535-13.535-13.535H19.374c-7.472 0-13.535 6.063-13.535 13.535zm81.899 0v60.229c0 4.986-4.049 9.035-9.035 9.035H19.374c-4.987 0-9.035-4.049-9.035-9.035V17.508c0-4.987 4.048-9.035 9.035-9.035h59.329c4.986 0 9.035 4.048 9.035 9.035z\"\r\n                        ></path>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n            </svg>\r\n    );\r\n}\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\n\r\n\r\nfunction Icon(size=32,color=\"#17a2b8\") {\r\n    return (\r\n        <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width={size}\r\n        height={size}\r\n        fillRule=\"evenodd\"\r\n        strokeLinejoin=\"bevel\"\r\n        strokeWidth=\"0.501\"\r\n        overflow=\"visible\"\r\n        viewBox=\"0 0 96 96\"\r\n      >\r\n        <g\r\n          fill=\"none\"\r\n          stroke=\"#000\"\r\n          fontFamily=\"Times New Roman\"\r\n          fontSize=\"16\"\r\n          transform=\"scale(1 -1)\"\r\n        >\r\n          <g transform=\"translate(0 -96)\">\r\n            <path\r\n              stroke=\"none\"\r\n              strokeLinejoin=\"miter\"\r\n              strokeMiterlimit=\"79.84\"\r\n              strokeWidth=\"4.163\"\r\n              d=\"M15.107 68.877l13.029 12.572L49.28 60.421l21.259 21.258 12.458-12.688-20.915-21.828 20.915-21.031-12.572-12.573-21.031 21.145-21.641-21.145L15.45 26.246l20.916 21.26-21.259 21.371z\"\r\n            ></path>\r\n            <g strokeLinejoin=\"miter\" strokeMiterlimit=\"79.84\">\r\n              <path\r\n                fill=\"#fff\"\r\n                stroke={color}\r\n                strokeLinecap=\"round\"\r\n                strokeWidth=\"4.5\"\r\n                d=\"M8.089 77.737V17.508c0-6.229 5.056-11.285 11.285-11.285h59.329c6.229 0 11.285 5.056 11.285 11.285v60.229c0 6.229-5.056 11.285-11.285 11.285H19.374c-6.229 0-11.285-5.056-11.285-11.285z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#fe0000\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.27\"\r\n                d=\"M14.777 68.558l13.359 12.891 21.679-21.562 21.797 21.796 12.773-13.008-21.444-22.381 21.444-21.563-12.89-12.891-21.563 21.679L27.743 11.84 15.129 24.847l21.445 21.798-21.797 21.913z\"\r\n              ></path>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </svg>        \r\n    );\r\n}\r\n\r\nexport default Icon;\r\n","import BooksImg from './Images/Books';\r\nimport CameraImg from './Images/Camera';\r\nimport ReportImg from './Images/report';\r\nimport EmptyImg from './Images/FSEmpty';\r\nimport DoneImg from './Images/FSDone';\r\nimport ProgressImg from './Images/FSProgress';\r\nimport ErrorImg from './Images/FSError';\r\n\r\nexport enum updateState{\r\n    Unknown,\r\n    New,\r\n    InProcess,\r\n    Complete,\r\n    Error\r\n}\r\n\r\nexport enum screenSizeEnum{\r\n    ExtraSmall=767,\r\n    Small=768,\r\n    Medium=992,\r\n    Large=1200\r\n}\r\n\r\nexport function ScreenByWidth():screenSizeEnum{\r\n    if(window.innerWidth >= screenSizeEnum.Large) return screenSizeEnum.Large;\r\n    if(window.innerWidth >= screenSizeEnum.Medium) return screenSizeEnum.Medium;\r\n    if(window.innerWidth >= screenSizeEnum.Small) return screenSizeEnum.Small;\r\n    return screenSizeEnum.ExtraSmall;\r\n}\r\n\r\nexport interface ColCountByScr{\r\n    sm: number,\r\n    md: number,\r\n    lg: number    \r\n}\r\n\r\nexport function GetCurrentColCountByScr(ccObj:ColCountByScr):number{\r\n    let scrType = ScreenByWidth();\r\n    switch (scrType) {\r\n        case screenSizeEnum.Large:\r\n            return ccObj.lg;\r\n        case screenSizeEnum.Medium:\r\n            return ccObj.md\r\n        default:        \r\n            return ccObj.sm\r\n    }\r\n}\r\n\r\nexport enum LoadingStage {\r\n    undefined,\r\n    loading,\r\n    error,\r\n    loaded\r\n}\r\n\r\nexport const SidebarImages =\r\n{\r\n    Dictionary: BooksImg(32),\r\n    Report : ReportImg(32)\r\n}\r\n\r\nexport function GetUpdateStateImg(state:updateState,color:any) {\r\n    switch (state){\r\n        case updateState.New:\r\n            return EmptyImg(24,color);\r\n        case updateState.InProcess:\r\n            return ProgressImg(24,color);\r\n        case updateState.Complete:\r\n            return DoneImg(24,color);\r\n        case updateState.Error:\r\n            return ErrorImg(24,color);\r\n    }\r\n}\r\n\r\nexport function GetUpdateTooltipText(state:updateState):string {\r\n    switch (state){\r\n        case updateState.New:\r\n            return Tooltips.UpdateTaskStatus_New;\r\n        case updateState.InProcess:\r\n            return Tooltips.UpdateTaskStatus_InProcess;\r\n        case updateState.Complete:\r\n            return Tooltips.UpdateTaskStatus_Complete;\r\n        case updateState.Error:\r\n            return \"Ошибка\";\r\n        default:\r\n            return \"\";\r\n    }\r\n}\r\n\r\n\r\nexport const EnumColors = {\r\n    border: \"#17a2b8\"\r\n}\r\n\r\nexport const Tooltips = {\r\n    VFBtnUpload: \"Запросить отправку отмеченных файлов с терминала на сервер\",\r\n    VFBtnDownload: \"Загрузить отмеченные файлы\",\r\n    VFBtnCancel: \"Отменить запрос на отправку\",\r\n    VFBtnRunQuery: \"Отправить запрос на сервер (обновить список записей)\",\r\n    VFFSEmpty: \"Файл не загружен\",\r\n    VFFSWait: \"Ожидание отправки файла с терминала\",\r\n    VFFSUploading: \"Идет отправка файла с терминала\",\r\n    VFFSUploaded: \"Отправка файла с терминала завершена\",\r\n    BtnAdd: \"Добавить новую запись\",\r\n    BtnDelete: \"Удалить текущую запись\",\r\n    BtnEdit: \"Редактировать текущую запись\",\r\n    BtnView: \"Просмотр текущей записи\",\r\n    BtnRefresh: \"Обновить список записей\",\r\n    BtnSave: \"Сохранить и выйти\",\r\n    BtnExitWithoutSaveChanges: \"Выйти без сохранения изменений\",\r\n    BtnAddDownloadLogTask: \"Запросить лог файлы c выбранного терминала\",\r\n    BtnDownloadLog:\"Скачать архив с лог файлами\",\r\n    BtnInstall:\"Установить обновление\",\r\n    UpdateTaskStatus_New:\"Новая задача\",\r\n    UpdateTaskStatus_InProcess:\"Задача выполняется\",\r\n    UpdateTaskStatus_Complete:\"Задача завершена успешно\"\r\n}\r\n\r\n\r\n","import React from 'react'\r\n\r\nexport function FilterIcon(){\r\n    return(                                                 \r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-filter-square\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n        <path d=\"M6 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z\"/>\r\n      </svg>\r\n    ); \r\n}\r\n\r\nexport function CancelIcon(){\r\n    return(\r\n    <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"22\"\r\n    height=\"22\"\r\n    fillRule=\"evenodd\"\r\n    strokeLinejoin=\"bevel\"\r\n    strokeWidth=\"0.501\"\r\n    overflow=\"visible\"\r\n    viewBox=\"0 0 96 96\"\r\n        >\r\n        <g\r\n    fill=\"none\"\r\n    stroke=\"#000\"\r\n    fontFamily=\"Times New Roman\"\r\n    fontSize=\"16\"\r\n    transform=\"scale(1 -1)\"\r\n        >\r\n        <g transform=\"translate(0 -96)\">\r\n        <g stroke=\"none\" strokeMiterlimit=\"79.84\">\r\n        <path\r\n    fill=\"#fff\"\r\n    strokeWidth=\"0.5\"\r\n    d=\"M7.205 71.416c12.766 22.807 41.638 30.957 64.445 18.191 22.807-12.766 30.957-41.638 18.191-64.445C77.075 2.355 48.203-5.795 25.396 6.971 2.589 19.737-5.561 48.609 7.205 71.416z\"\r\n    ></path>\r\n        <g\r\n    fill=\"red\"\r\n    fillRule=\"evenodd\"\r\n    strokeLinejoin=\"miter\"\r\n    strokeWidth=\"13.235\"\r\n        >\r\n        <path d=\"M48 12.87c-19.401 0-35.128 15.729-35.128 35.13 0 19.401 15.727 35.128 35.128 35.128S83.128 67.401 83.128 48 67.401 12.87 48 12.87zm0-5.017c22.172 0 40.147 17.974 40.147 40.147 0 22.172-17.975 40.147-40.147 40.147C25.828 88.147 7.853 70.172 7.853 48 7.853 25.827 25.828 7.853 48 7.853z\"></path>\r\n        <path d=\"M31.169 64.831a2.505 2.505 0 003.552 0L48 51.548l13.279 13.283a2.51 2.51 0 003.552 0 2.51 2.51 0 000-3.552L51.548 48l13.283-13.279a2.511 2.511 0 10-3.552-3.553L48 44.452 34.721 31.168a2.511 2.511 0 10-3.552 3.553L44.452 48 31.169 61.279a2.502 2.502 0 000 3.552z\"></path>\r\n        </g>\r\n        </g>\r\n        </g>\r\n        </g>\r\n        </svg>  \r\n    );\r\n}\r\n\r\n\r\nexport function PlusIcon(){\r\n    return(\r\n    <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"22\"\r\n    height=\"22\"\r\n    fillRule=\"evenodd\"\r\n    strokeLinejoin=\"bevel\"\r\n    strokeWidth=\"0.501\"\r\n    overflow=\"visible\"\r\n    viewBox=\"0 0 96 96\"\r\n        >\r\n        <g\r\n    fill=\"none\"\r\n    stroke=\"#000\"\r\n    fontFamily=\"Times New Roman\"\r\n    fontSize=\"16\"\r\n    transform=\"scale(1 -1)\"\r\n        >\r\n        <g transform=\"translate(0 -96)\">\r\n        <g stroke=\"none\" strokeMiterlimit=\"79.84\">\r\n        <path\r\n    fill=\"#fff\"\r\n    strokeWidth=\"0.5\"\r\n    d=\"M7.095 71.437c12.766 22.807 41.638 30.957 64.445 18.191 22.807-12.766 30.957-41.638 18.191-64.445C76.965 2.376 48.093-5.774 25.286 6.992 2.479 19.758-5.671 48.63 7.095 71.437z\"\r\n    ></path>\r\n        <g\r\n    fill=\"#00bf02\"\r\n    fillRule=\"evenodd\"\r\n    strokeLinejoin=\"miter\"\r\n    strokeWidth=\"13.235\"\r\n        >\r\n        <path d=\"M48.302 12.33c-19.402 0-35.129 15.727-35.129 35.129 0 19.4 15.727 35.128 35.129 35.128 19.4 0 35.129-15.728 35.129-35.128 0-19.402-15.729-35.129-35.129-35.129zm0-5.018c22.172 0 40.147 17.975 40.147 40.147 0 22.172-17.975 40.147-40.147 40.147-22.172 0-40.147-17.975-40.147-40.147 0-22.172 17.975-40.147 40.147-40.147z\"></path>\r\n        <path d=\"M48.302 67.533a2.51 2.51 0 002.51-2.51V49.969h15.054a2.51 2.51 0 000-5.02H50.812V29.895a2.51 2.51 0 00-5.02 0v15.054H30.738a2.51 2.51 0 000 5.02h15.054v15.054a2.51 2.51 0 002.51 2.51z\"></path>\r\n        </g>\r\n        </g>\r\n        </g>\r\n        </g>\r\n        </svg>\r\n    );\r\n}\r\n\r\n\r\nexport function PencilIcon(){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function RefreshIcon(){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z\"/>\r\n            <path d=\"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function ApplyIcon(){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-check-circle\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n            <path d=\"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function ExitIcon(){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left-circle\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function GasolineIcon(){\r\n    return(\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-plus-circle\" viewBox=\"0 0 45.441 45.441\">\r\n            <path d=\"M34.054,18.128v-5.352L30.206,7.35V3.174C30.204,1.422,28.784,0,27.031,0H14.008c-1.753,0-3.173,1.422-3.173,3.174V44.03\r\n\t\tH6.449v1.411h29.58V44.03h-5.824l0.001-16.185l1.398-0.001c0.108-0.019,0.487,0.028,0.694,0.229\r\n\t\tc0.149,0.144,0.225,0.393,0.225,0.74l0.001,6.859c-0.006,0.134-0.037,1.336,0.813,2.226c0.378,0.396,1.072,0.868,2.233,0.868\r\n\t\tc2.525,0,3.422-1.776,3.422-3.297V22.253L34.054,18.128z M26.997,11.346c0,1.082-0.877,1.959-1.959,1.959h-9.04\r\n\t\tc-1.082,0-1.958-0.877-1.958-1.959V5.777c0-1.082,0.877-1.959,1.958-1.959h9.04c1.082,0,1.959,0.877,1.959,1.959V11.346z\r\n\t\t M36.991,35.471c0,1.149-0.76,1.297-1.422,1.297c-0.36,0-0.623-0.081-0.78-0.242c-0.227-0.231-0.27-0.635-0.267-0.805v-6.906\r\n\t\tc0-1.153-0.469-1.836-0.861-2.204c-0.873-0.819-2.039-0.771-2.107-0.765h-1.349l0.001-15.032l1.848,2.601v5.649l4.938,4.125\r\n\t\tL36.991,35.471L36.991,35.471z\"/>\r\n        </svg>   \r\n    );\r\n}\r\n\r\n//@ts-ignore\r\nexport const AnmWaitIcon = (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"96\" height=\"96\"><linearGradient id=\"a\" x1=\".5\" x2=\".5\" y2=\"1\">\r\n        <stop stopColor=\"#191919\" offset=\"0\" /><stop stopColor=\"#999\" offset=\"1\" />\r\n    </linearGradient><linearGradient id=\"b\" x1=\"1\" x2=\"0\" y2=\"1\"><stop offset=\"0\" stopColor=\"#191919\" stopOpacity=\".9\" /><stop offset=\"1\" stopColor=\"#999\" stopOpacity=\".9\" />\r\n        </linearGradient><linearGradient id=\"c\" x1=\"1\" x2=\"0\" y1=\".5\" y2=\".5\"><stop offset=\"0\" stopColor=\"#191919\" stopOpacity=\".8\" /><stop offset=\"1\" stopColor=\"#999\" stopOpacity=\".8\" />\r\n        </linearGradient><linearGradient id=\"d\" x1=\"1\" x2=\"0\" y1=\"1\"><stop offset=\"0\" stopColor=\"#191919\" stopOpacity=\".6\" /><stop offset=\"1\" stopColor=\"#999\" stopOpacity=\".6\" />\r\n        </linearGradient><linearGradient id=\"e\" x1=\".5\" x2=\".5\" y1=\"1\"><stop offset=\"0\" stopColor=\"#191919\" stopOpacity=\".5\" /><stop offset=\"1\" stopColor=\"#999\" stopOpacity=\".5\" />\r\n        </linearGradient><linearGradient id=\"f\" x2=\"1\" y1=\"1\"><stop offset=\"0\" stopColor=\"#191919\" stopOpacity=\".4\" /><stop offset=\"1\" stopColor=\"#999\" stopOpacity=\".4\" />\r\n    </linearGradient><linearGradient id=\"g\" x2=\"1\" y1=\".5\" y2=\".5\"><stop offset=\"0\" stopColor=\"#191919\" stopOpacity=\".3\" /><stop offset=\"1\" stopColor=\"#999\" stopOpacity=\".3\" /></linearGradient><linearGradient id=\"h\" x2=\"1\" y2=\"1\"><stop offset=\"0\" stopColor=\"#191919\" stopOpacity=\".1\" /><stop offset=\"1\" stopColor=\"#999\" stopOpacity=\".1\" /></linearGradient><g><rect width=\"10\" height=\"25\" x=\"43\" y=\"4\" fill=\"url(#a)\" stroke=\"#000\" ry=\"5\" rx=\"5\" /><rect width=\"25\" height=\"10\" x=\"61.4\" y=\"29.6\" fill=\"url(#b)\" stroke=\"#000\" ry=\"5\" rx=\"5\" transform=\"rotate(-45 61.44 34.56)\" /><rect width=\"25\" height=\"10\" x=\"67\" y=\"43\" fill=\"url(#c)\" stroke=\"#000\" ry=\"5\" rx=\"5\" /><rect width=\"25\" height=\"10\" x=\"61.4\" y=\"56.4\" fill=\"url(#d)\" stroke=\"#000\" ry=\"5\" rx=\"5\" transform=\"rotate(45 61.44 61.44)\" /><rect width=\"10\" height=\"25\" x=\"43\" y=\"67\" fill=\"url(#e)\" stroke=\"#000\" ry=\"5\" rx=\"5\" /><rect width=\"25\" height=\"10\" x=\"9.6\" y=\"56.4\" fill=\"url(#f)\" stroke=\"#000\" ry=\"5\" rx=\"5\" transform=\"rotate(-45 34.56 61.44)\" /><rect width=\"25\" height=\"10\" x=\"4\" y=\"43\" fill=\"url(#g)\" stroke=\"#000\" ry=\"5\" rx=\"5\" /><rect width=\"25\" height=\"10\" x=\"9.6\" y=\"29.6\" fill=\"url(#h)\" stroke=\"#000\" ry=\"5\" rx=\"5\" transform=\"rotate(45 34.56 34.56)\" /><animateTransform fill=\"freeze\" attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" from=\"0 48 48\" to=\"360 48 48\" dur=\"3s\" repeatCount=\"indefinite\" /></g></svg>\r\n);\r\n\r\n//@ts-ignore\r\nexport const FailIcon = (\r\n    <svg version=\"1.1\" id=\"aa_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\" width=\"96\" height=\"96\" viewBox=\"0 0 100 100\" >\r\n        <path fill=\"none\" stroke=\"#e15b64\" strokeWidth=\"16\" strokeMiterlimit=\"10\"\r\n            d=\"M22 78l56-56\" /><path fill=\"none\" stroke=\"#e15b64\" strokeWidth=\"16\" strokeMiterlimit=\"10\" d=\"M78 78L22 22\" />\r\n    </svg >\r\n);\r\n\r\nexport function EyeIcon() {\r\nreturn (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-eye-fill\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z\" />\r\n        <path d=\"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z\" />\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function MenuIcon() {\r\n    return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-list\" viewBox=\"0 0 16 16\">\r\n        <path fill-rule=\"evenodd\" d=\"M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\" />\r\n        </svg>\r\n);\r\n}\r\n\r\n\r\nexport function SortNone(size:number=32) {\r\n    return (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width={size}\r\n        height={size}\r\n        fillRule=\"evenodd\"\r\n        strokeLinejoin=\"bevel\"\r\n        strokeWidth=\"0.501\"\r\n        overflow=\"visible\"\r\n        viewBox=\"0 0 36 36\"\r\n      >\r\n        <g\r\n          fill=\"none\"\r\n          stroke=\"#000\"\r\n          fontFamily=\"Times New Roman\"\r\n          fontSize=\"16\"\r\n          transform=\"scale(1 -1)\"\r\n        >\r\n          <g transform=\"translate(0 -36)\">\r\n            <path\r\n              stroke=\"#999\"\r\n              strokeMiterlimit=\"79.84\"\r\n              strokeWidth=\"1.5\"\r\n              d=\"M5.894 30.106c6.682 6.683 17.53 6.683 24.212 0 6.683-6.682 6.683-17.53 0-24.212-6.682-6.683-17.53-6.683-24.212 0-6.683 6.682-6.683 17.53 0 24.212z\"\r\n            ></path>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    );\r\n  }\r\n\r\nexport function SortAsc(size:number=32) {\r\n    return (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width={size}\r\n        height={size}\r\n        fillRule=\"evenodd\"\r\n        strokeLinejoin=\"bevel\"\r\n        strokeWidth=\"0.501\"\r\n        overflow=\"visible\"\r\n        viewBox=\"0 0 36 36\"\r\n      >\r\n        <g\r\n          fill=\"none\"\r\n          stroke=\"#000\"\r\n          fontFamily=\"Times New Roman\"\r\n          fontSize=\"16\"\r\n          transform=\"scale(1 -1)\"\r\n        >\r\n          <g transform=\"translate(0 -36)\">\r\n            <g strokeMiterlimit=\"79.84\">\r\n              <path\r\n                stroke=\"#999\"\r\n                strokeWidth=\"1.5\"\r\n                d=\"M5.941 5.864c6.682-6.683 17.53-6.683 24.212 0 6.683 6.682 6.683 17.53 0 24.212-6.682 6.683-17.53 6.683-24.212 0-6.683-6.682-6.683-17.53 0-24.212z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#000\"\r\n                stroke=\"none\"\r\n                strokeLinejoin=\"miter\"\r\n                strokeWidth=\"0.339\"\r\n                d=\"M31.442 9.769L18.026 33.006 4.61 9.769h26.832z\"\r\n              ></path>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    );\r\n  }\r\n\r\nexport function SortDesc(size:number=32) {\r\n    return (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width={size}\r\n        height={size}\r\n        fillRule=\"evenodd\"\r\n        strokeLinejoin=\"bevel\"\r\n        strokeWidth=\"0.501\"\r\n        overflow=\"visible\"\r\n        viewBox=\"0 0 36 36\"\r\n      >\r\n        <g\r\n          fill=\"none\"\r\n          stroke=\"#000\"\r\n          fontFamily=\"Times New Roman\"\r\n          fontSize=\"16\"\r\n          transform=\"scale(1 -1)\"\r\n        >\r\n          <g transform=\"translate(0 -36)\">\r\n            <g strokeMiterlimit=\"79.84\">\r\n              <path\r\n                stroke=\"#999\"\r\n                strokeWidth=\"1.5\"\r\n                d=\"M5.894 30.106c6.682 6.683 17.53 6.683 24.212 0 6.683-6.682 6.683-17.53 0-24.212-6.682-6.683-17.53-6.683-24.212 0-6.683 6.682-6.683 17.53 0 24.212z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#000\"\r\n                stroke=\"none\"\r\n                strokeLinejoin=\"miter\"\r\n                strokeWidth=\"0.339\"\r\n                d=\"M31.395 26.201L17.979 2.964 4.563 26.201h26.832z\"\r\n              ></path>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    );\r\n  }  ","import React, { ReactNode } from 'react';\r\nimport {ErrorEnum,MessageType,AllErrors,lastNotParsedError} from '../Errors';\r\nimport Button from 'devextreme-react/button';\r\n\r\nexport type ErrorMsgProps = {\r\n    message:string,\r\n    type:MessageType\r\n}\r\n\r\n\r\nexport function ErrorMsg({message,type}:ErrorMsgProps){\r\n    if(!message){\r\n        return (<div />);\r\n    } \r\n    let clist = \"dx-overlay-content dx-toast-content dx-resizable \" + type;\r\n    return(\r\n        <div className={clist} style={{position:\"relative\"}} >\r\n            <div className=\"dx-toast-icon\"/>    \r\n            <div className=\"dx-toast-message\" role=\"alert\">{message}</div>\r\n        </div>\r\n        );\r\n}\r\n\r\n\r\n\r\nexport function ErrorMsgYesNo(emObj:ErrorMsgProps,callBackFunc:(result:boolean)=>void){\r\n    if(!emObj.message){\r\n        return (<div />);\r\n    } \r\n    let clist = \"dx-overlay-content dx-toast-content dx-resizable \" + emObj.type;\r\n    return(\r\n        <div className={clist} style={{position:\"relative\"}} >\r\n            <div className=\"dx-toast-icon\"/>    \r\n            <div className=\"dx-toast-message\" role=\"alert\">{emObj.message}</div>\r\n            <div>\r\n                <Button style={{marginLeft:\"10px\"}} text=\"Да\" onClick={()=>callBackFunc(true)} /> \r\n                <Button style={{marginLeft:\"10px\"}} text=\"Нет\" onClick={()=>callBackFunc(false)} />\r\n            </div>\r\n        </div>\r\n        );\r\n}\r\n\r\n\r\nexport function ErrorMsgFromDict(errId:ErrorEnum ){\r\n    if(errId === ErrorEnum.NoError){\r\n        return (<div />);\r\n    }\r\n    if(errId === ErrorEnum.ParseFailed){\r\n        let msg = lastNotParsedError.message;\r\n        return ErrorMsg({message:msg,type:MessageType.error});\r\n    }\r\n    let errObj = AllErrors.find(itm=>itm.id === errId);\r\n    if(errObj) {\r\n        return ErrorMsg({message:errObj.message,type:errObj.type});\r\n    } else {\r\n        return {message:\"ErrorMsgFromDict. Ошибка с кодом \"+errId+\" не найдена\",type:MessageType.error};\r\n    }\r\n}\r\n\r\nexport interface DxButtonProps {\r\n    icon?:string,\r\n    message?:string,\r\n    disabled?:boolean,\r\n    onClick?(e:any):void\r\n}\r\n\r\n/*\r\nexport function DxButton(props:DxButtonProps){\r\n    let classStr = \"dx-widget dx-button dx-button-mode-contained dx-button-normal dx-button-has-text dx-button-has-icon \";\r\n    let iconClass = \"dx-icon dx-icon-\"+props.icon;\r\n    if(props.disabled){\r\n        classStr += \"dx-state-disabled\";\r\n    }\r\n    return (\r\n    <div className={classStr} style={{marginLeft:\"10px\"}}\r\n        role=\"button\" aria-label={props.message} aria-disabled={props.disabled} \r\n        onClick={props.onClick}>\r\n        <div className=\"dx-button-content\">\r\n            <i className={iconClass}></i>\r\n            <span className=\"dx-button-text\">{props.message}</span>\r\n        </div>\r\n    </div>        \r\n    );\r\n}\r\n*/","import React, { ReactNode } from 'react';\r\nimport Lookup from 'devextreme-react/lookup';\r\nimport { customDataSource } from '../DTO/Tables';\r\nimport getLocMsg, { LocMsgId } from '../localization';\r\n\r\nimport Form, {\r\n    Item,\r\n    SimpleItem,\r\n    Label,\r\n} from 'devextreme-react/form';\r\n\r\n\r\nimport { TableEditorPageClass, TableEditorMode } from './TableEditorPage';\r\nimport { GetColumns } from '../DTO/Tables';\r\nimport { ErrorMsgFromDict } from './DxStyleSimple';\r\nimport { GetCurrentColCountByScr } from '../commonTypes';\r\nimport Button from 'devextreme-react/button';\r\n\r\ninterface FEProps {\r\n    tableEditorInstance: TableEditorPageClass\r\n}\r\n\r\ninterface FEState {\r\n}\r\n\r\nconst colCountByScr = {\r\n    sm: 2,\r\n    md: 4,\r\n    lg: 5\r\n}\r\n\r\nexport class FormEditor extends React.Component<FEProps, FEState> {\r\n    constructor(props: FEProps) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n        this.handleSaveBtnClick = this.handleSaveBtnClick.bind(this);\r\n        this.handleFieldChange = this.handleFieldChange.bind(this);\r\n        this.handleCancelBtnClick = this.handleCancelBtnClick.bind(this);\r\n    }\r\n\r\n    handleFieldChange(e: any, fieldName: string) {\r\n        let newValue = \"\";\r\n        if (e.event && e.event.currentTarget) {\r\n            newValue = e.event.currentTarget.value;\r\n        }\r\n        if (e.value) {\r\n            newValue = e.value;\r\n        }\r\n        let hs = this.checkChanges(fieldName, newValue);\r\n        //@ts-ignore\r\n        let tblEditor = this.props.tableEditorInstance;\r\n        tblEditor.setState({ hasChanges: hs });\r\n        if(hs && this.props.tableEditorInstance.state.editorMode !== TableEditorMode.AddRow){\r\n            this.props.tableEditorInstance.setState({editorMode:TableEditorMode.EditRow})\r\n        }\r\n    }\r\n\r\n    handleSaveBtnClick() {\r\n        let teInstance = this.props.tableEditorInstance;\r\n        if (teInstance) {\r\n            teInstance.props.actions.SaveRowChangesOnServer(teInstance, teInstance.state.newRowValue);\r\n            teInstance.setState({ hasChanges: false });\r\n        }\r\n    }\r\n\r\n    handleCancelBtnClick() {\r\n        let teInstance = this.props.tableEditorInstance;\r\n        if (teInstance) {\r\n            if (teInstance.state.editorMode !== TableEditorMode.AddRow) {\r\n                teInstance.props.actions.RollbackChangesInRedux(teInstance);\r\n                teInstance.setState({ hasChanges: false });\r\n                return;\r\n            }\r\n            let currRow = teInstance.props.rows[teInstance.props.currentRowIndex];\r\n            teInstance.setState({ hasChanges:false,editorMode: TableEditorMode.None, oldRowValue: currRow, newRowValue: currRow });\r\n        }\r\n    }\r\n\r\n    getTableName() {\r\n        //@ts-ignore\r\n        let tableName = this.props.tableEditorInstance.props.tableName;\r\n        return tableName;\r\n    }\r\n\r\n    getFormData() {\r\n        return this.props.tableEditorInstance.state.newRowValue;\r\n    }\r\n\r\n\r\n    checkChanges(fieldName: string, currFldValue: any): boolean {\r\n        let currRowValue = { ...this.getFormData() }; // запись после последнего редактирования (сохраненное в свойствах tableEditor и в Redux)\r\n        let oldRowValue = this.props.tableEditorInstance.state.oldRowValue;//первоначальное значение (до начала редактирования)\r\n        let prevFldValue = undefined;\r\n        if (currRowValue) {\r\n            prevFldValue = currRowValue[fieldName]; //значение поля после последнего редактирования (сохраненное в свойствах tableEditor и в Redux)\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n        let oldFldValue = undefined;\r\n        if (oldRowValue) {\r\n            //@ts-ignore\r\n            oldFldValue = oldRowValue[fieldName]; //первоначальное значение поля\r\n        }\r\n        let fieldType = typeof (oldFldValue);\r\n        if (fieldType === 'number') {\r\n            currFldValue = Number(currFldValue);\r\n        }\r\n        //@ts-ignore\r\n        let changesBeforeLostFocus = (oldFldValue !== currFldValue);\r\n        let changesAfterLostFocus = false;\r\n        for (let prop in oldRowValue) {\r\n            if (prop === fieldName) {\r\n                continue;\r\n            }\r\n            //@ts-ignore            \r\n            if (currRowValue[prop] !== oldRowValue[prop]) {\r\n                changesAfterLostFocus = true;\r\n                break;\r\n            }\r\n        }\r\n        currRowValue[fieldName] = currFldValue;\r\n        let result = changesBeforeLostFocus || changesAfterLostFocus;\r\n        let tblEd = this.props.tableEditorInstance;\r\n        if (result) {\r\n            tblEd.handleRowChange(currRowValue);\r\n        }\r\n        console.log(currRowValue, result);\r\n        return result;\r\n    }\r\n\r\n    renderEmptyColumns() {\r\n        let allColumnCount = GetCurrentColCountByScr(colCountByScr);\r\n        let emptyColCount: number = allColumnCount - 2;\r\n        let eCols = [];\r\n        for (let i: number = 0; i < emptyColCount; i++) {\r\n            eCols.push(<Item key={\"emptyCol\" + i} itemType=\"empty\" />);\r\n        }\r\n        return eCols;\r\n    }\r\n\r\n    renderColumns(): any {\r\n        let tableName = this.getTableName();\r\n        let colDefinition = GetColumns(tableName);\r\n        let result: any = [];\r\n        colDefinition.forEach((itm) => {\r\n            let disableEdit = false;\r\n            let wdth = undefined;\r\n            let ratio = undefined;\r\n            if (itm.dataField === 'id') {\r\n                disableEdit = true;\r\n                wdth = 200;\r\n                ratio = 1;\r\n            }\r\n            let caption = itm.dataField;\r\n            if (itm.captionId) {\r\n                let captId = itm.captionId;\r\n                caption = getLocMsg(captId);\r\n            }\r\n            let newItem = (\r\n                <SimpleItem key={itm.dataField} dataField={itm.dataField} editorType=\"dxTextBox\"\r\n                    editorOptions={{ onInput: (e: any) => this.handleFieldChange(e, itm.dataField), disabled: disableEdit, width: wdth }}>\r\n                    <Label text={caption} />\r\n                </SimpleItem>\r\n            );\r\n            if (itm.lookup) {\r\n                newItem = (<SimpleItem key={itm.dataField} dataField={itm.dataField} editorType=\"dxSelectBox\" editorOptions={{\r\n                    dataSource: customDataSource(itm.lookup.dataSource),\r\n                    displayExpr: itm.lookup.displayExpr,\r\n                    valueExpr: itm.lookup.valueExpr,\r\n                    onValueChanged: (e: any) => this.handleFieldChange(e, itm.dataField)\r\n                }} >\r\n                    <Label text={caption} />\r\n                </SimpleItem>);\r\n            }\r\n            result.push(newItem);\r\n        });\r\n        return result;\r\n    }\r\n\r\n    render() {\r\n        let ronly = !(this.props.tableEditorInstance.state.isRowSelected || this.props.tableEditorInstance.state.editorMode === TableEditorMode.AddRow);\r\n        let disableSaveBtn = !this.props.tableEditorInstance.state.hasChanges;\r\n        let disableCancelBtn = !this.props.tableEditorInstance.state.hasChanges && this.props.tableEditorInstance.state.editorMode!==TableEditorMode.AddRow;\r\n        return (\r\n            <div>\r\n                <Form id=\"FormEditor\" formData={this.getFormData()} minColWidth={350}\r\n                    readOnly={ronly}\r\n                    colCount={\"auto\"} >\r\n                    {this.renderColumns()}\r\n                </Form>\r\n                {ErrorMsgFromDict(this.props.tableEditorInstance.state.error)}\r\n                <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginBottom: \"10px\", marginTop:\"10px\" }}>\r\n                    <Button icon=\"save\" text={getLocMsg(LocMsgId.Button_Save)} disabled={disableSaveBtn} onClick={this.handleSaveBtnClick} style={{ marginLeft: \"10px\" }} />\r\n                    <Button icon=\"clear\" text={getLocMsg(LocMsgId.Button_Cancel)} disabled={disableCancelBtn} onClick={this.handleCancelBtnClick} style={{ marginLeft: \"10px\" }} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n","import React, { useRef, useContext, useEffect, useLayoutEffect as useOriginalLayoutEffect, createContext } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../DbWrapper';\r\n//import DataGrid,{DataGridHandle,TextEditor,Column,SortColumn,HeaderRendererProps} from 'react-data-grid';\r\n\r\nimport { LoadingStage, EnumColors, Tooltips } from '../commonTypes';\r\nimport { RenderTooltip } from '../helpers';\r\nimport { AnmWaitIcon, PlusIcon, CancelIcon, PencilIcon, RefreshIcon } from '../Images/Icons';\r\nimport { Alert, Row, OverlayTrigger, NavItem } from \"react-bootstrap\"\r\nimport getLocMsg, { LocMsgId } from '../localization';\r\nimport { Tables, GetDGColumns, GetColumns } from '../DTO/Tables';\r\nimport DataGrid, {\r\n    Column,\r\n    Grouping,\r\n    GroupPanel,\r\n    Paging,\r\n    SearchPanel,\r\n    ColumnChooser,\r\n    Editing,\r\n    Form,\r\n    Selection,\r\n    Popup,\r\n    Toolbar,\r\n    Lookup,\r\n    Item,\r\n} from 'devextreme-react/data-grid';\r\nimport Button from 'devextreme-react/button';\r\nimport { ButtonGroup } from 'devextreme-react/button-group';\r\nimport { RowValidatingInfo, RowRemovingInfo } from 'devextreme/ui/data_grid';\r\nimport { FormEditor } from './FormEditor';\r\nimport { ErrorEnum, getProp } from '../Errors';\r\n\r\ninterface TEPProps {\r\n    TableName: Tables;\r\n    msgId: LocMsgId;\r\n    rows: [];\r\n    loadingStage: LoadingStage;\r\n    error: object;\r\n    currentRowIndex: number;\r\n    actions: {\r\n        GetRows(JSXContext: TableEditorPageClass): Array<any>,\r\n        GetRowIndex(jsxContext: TableEditorPageClass, rowUid: object): number,\r\n        HasChanges(jsxContext: TableEditorPageClass): boolean,\r\n        DeleteRow(jsxContext: TableEditorPageClass, rowUid: number): void,\r\n        RollbackChangesInRedux(jsxContext: TableEditorPageClass): void,\r\n        SelectRow(JSXContext: TableEditorPageClass, rowIndex: number): void,\r\n        SetSelectedRowByUID(jsxContext: TableEditorPageClass, row: object, updateDataGrid: boolean): void,\r\n        SaveRowChangesToRedux(jsxContext: TableEditorPageClass, oldRowValue: any, newRowValue: any): void\r\n        SaveRowChangesOnServer(jsxContext: TableEditorPageClass, newData: any): void,\r\n    };\r\n}\r\n\r\n\r\ndeclare type Maybe<T> = T | undefined | null;\r\n\r\nexport enum TableEditorMode {\r\n    None,\r\n    EditRow,\r\n    AddRow\r\n}\r\n\r\ntype TEPState = {\r\n    width: number;\r\n    height: number;\r\n    isRowSelected: boolean;\r\n    oldRowValue: any;\r\n    newRowValue: any;\r\n    error: ErrorEnum;\r\n    editorMode: TableEditorMode;\r\n    hasChanges: boolean\r\n}\r\n\r\nconst headerHeight = 50;\r\nconst headerStyle = { marginLeft: \"10px\", marginTop: \"5px\", color: EnumColors.border };\r\nconst btnGroupStyle = {\r\n    marginLeft: \"20px\",\r\n    border: \"solid 1px \" + EnumColors.border,\r\n    borderRadius: \"2px\",\r\n    padding: \"3px\"\r\n}\r\n\r\nexport class TableEditorPageClass extends React.Component<TEPProps, TEPState> {\r\n    gridRef: object;\r\n    constructor(props: TEPProps) {\r\n        super(props);\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            isRowSelected: false,\r\n            oldRowValue: null,\r\n            newRowValue: null,\r\n            error: ErrorEnum.NoError,\r\n            editorMode: TableEditorMode.None,\r\n            hasChanges: false\r\n        };\r\n        this.updateWindowSize = this.updateWindowSize.bind(this);\r\n        this.gridRef = React.createRef();\r\n        this.props.actions.GetRows(this);\r\n        sessionStorage.setItem('locale', 'ru');\r\n        this.handleButtonEditClick = this.handleButtonEditClick.bind(this);\r\n        this.handleButtonAddClick = this.handleButtonAddClick.bind(this);\r\n        this.handleButtonDeleteClick = this.handleButtonDeleteClick.bind(this);\r\n        this.handleContentReady = this.handleContentReady.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.updateWindowSize);\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateWindowSize);\r\n        if (this.props.actions.HasChanges(this)) {\r\n            this.props.actions.RollbackChangesInRedux(this);\r\n        }\r\n    }\r\n\r\n    updateWindowSize(): void {\r\n        this.setState({ width: window.innerWidth, height: window.innerHeight })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n    }\r\n\r\n    getColumns(): Column[] {\r\n        return GetDGColumns(this.props.TableName);\r\n    }\r\n\r\n    getRows() {\r\n        return this.props.rows;\r\n    }\r\n\r\n    getGrid(): DataGrid<any, any> {\r\n        //@ts-ignore\r\n        return this.gridRef.instance;\r\n    }\r\n\r\n    getEmptyRow(): object {\r\n        let cols = GetColumns(this.props.TableName);\r\n        let emptyRow = {};\r\n        cols.forEach((itm) => {\r\n            //@ts-ignore\r\n            emptyRow[itm.dataField] = undefined;\r\n        });\r\n        return emptyRow;\r\n    }\r\n\r\n    getErrorMessage(): string {\r\n        //@ts-ignore\r\n        return this.props.error.message;\r\n    }\r\n\r\n    handleButtonAddClick() {\r\n        if (this.props.actions.HasChanges(this)) {\r\n            this.props.actions.RollbackChangesInRedux(this);\r\n        }\r\n        this.setState({ editorMode: TableEditorMode.AddRow, hasChanges: false, oldRowValue: null, newRowValue: this.getEmptyRow(), error: ErrorEnum.NoError });\r\n    }\r\n\r\n    handleRowChange(updatedRowValue: any) {\r\n        this.setState({ newRowValue: updatedRowValue })\r\n        this.props.actions.SaveRowChangesToRedux(this, this.state.oldRowValue, updatedRowValue);\r\n    }\r\n\r\n    handleButtonDeleteClick() {\r\n        let currRow = this.props.rows[this.props.currentRowIndex];\r\n        //@ts-ignore\r\n        let rowUid = currRow.id;\r\n        this.props.actions.DeleteRow(this, rowUid);\r\n    }\r\n\r\n    handleContentReady() {\r\n        if (this.state.oldRowValue === null && this.state.newRowValue === null) {\r\n            let currRow = this.props.rows[this.props.currentRowIndex];\r\n            this.setState({ oldRowValue: currRow, newRowValue: currRow, isRowSelected: true });\r\n        }\r\n    }\r\n\r\n    handleButtonEditClick() {\r\n        //@ts-ignore\r\n        let rowIndex = this.getGrid().getRowIndexByKey(this.getGrid().getSelectedRowKeys()[0]);\r\n        //@ts-ignore        \r\n        this.getGrid().editRow(rowIndex);\r\n    }\r\n\r\n    handleRefreshButtonClick() {\r\n\r\n    }\r\n\r\n    renderWait() {\r\n        return (<h2>{AnmWaitIcon} Загрузка данных...</h2>);\r\n    }\r\n\r\n    renderError() {\r\n        return (<Alert variant={\"danger\"} >{this.getErrorMessage()}</Alert>);\r\n    }\r\n\r\n    render() {\r\n        if (this.props.loadingStage === LoadingStage.loading) {\r\n            return (\r\n                <div style={{ width: \"100%\" }}>\r\n                    {this.renderWait()}\r\n                </div>\r\n            );\r\n        }\r\n        if (this.props.loadingStage === LoadingStage.error && this.state.error === ErrorEnum.NoError) {\r\n            //return (\r\n            //    <div style={{ width: \"100%\" }}>\r\n            //        {this.renderError()}\r\n            //    </div>\r\n            //);\r\n        }\r\n        let rowSelected = (this.state.isRowSelected && this.props.currentRowIndex != -1);\r\n        let btnDeleteStyle = rowSelected && this.state.editorMode !== TableEditorMode.AddRow ? { visibility: \"visible\" } : { visibility: \"hidden\" };\r\n        let btnAddStyle = this.state.editorMode === TableEditorMode.AddRow ? { borderColor: \"lightGreen\", borderWidth: \"4px\" } : {};\r\n        return (\r\n            <div>\r\n                <h3 style={{ display: \"inline-block\", width: \"300px\", textAlign: \"left\" }}>{getLocMsg(this.props.msgId)}</h3>\r\n                <ButtonGroup>\r\n                    <Item key=\"btnAdd\" location=\"before\" disabled={this.state.editorMode === TableEditorMode.AddRow} ><Button style={btnAddStyle} icon=\"add\" onClick={() => this.handleButtonAddClick()} /></Item>\r\n                    <Item key=\"btnDelete\" location=\"before\"><Button style={btnDeleteStyle} icon=\"remove\" onClick={this.handleButtonDeleteClick} /></Item>\r\n                </ButtonGroup>\r\n                <FormEditor tableEditorInstance={this} />\r\n                <DataGrid\r\n                    ref={(gref) => {\r\n                        if (gref) {\r\n                            this.gridRef = gref;\r\n                        }\r\n                    }}\r\n                    dataSource={this.getRows()}\r\n                    focusedRowEnabled={true}\r\n                    focusedRowIndex={this.props.currentRowIndex}\r\n                    keyExpr=\"id\"\r\n                    showBorders={true}\r\n                    onContentReady={() => this.handleContentReady()}\r\n                    onFocusedRowChanging={(e) => {\r\n                        if (this.props.actions.HasChanges(this)) {\r\n                            this.setState({ error: ErrorEnum.NotSavedRowChanges });\r\n                            e.cancel = true;\r\n                            return;\r\n                        }\r\n                        let newRow: object = this.getRows()[e.newRowIndex];\r\n                        //@ts-ignore\r\n                        let newSelectedRowUID: object = newRow.id;\r\n                        this.setState({ isRowSelected: true, oldRowValue: { ...newRow }, newRowValue: { ...newRow }, editorMode: TableEditorMode.None, error: ErrorEnum.NoError });\r\n                        this.props.actions.SetSelectedRowByUID(this, newSelectedRowUID, false);\r\n                    }}\r\n                >\r\n                    <Selection mode=\"single\" />\r\n                    <Editing mode=\"form\" />\r\n                    {this.getColumns()}\r\n                </DataGrid>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) {\r\n    let store = storePar;\r\n    let result = store.Table.find((tbl: any) => tbl.tableName === ownProps.TableName);\r\n    result = { ...result, ...storePar.AppSettings };\r\n    return result\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: any) {\r\n    return {\r\n        actions: {\r\n            GetRows: (jsxContext: TableEditorPageClass): void => {\r\n                return dbwrap.GetRows(jsxContext.props.TableName, dispatch);\r\n            },\r\n            GetRowIndex: (jsxContext: TableEditorPageClass, uid: object): number => {\r\n                let result: number = jsxContext.props.rows.findIndex((r) => {\r\n                    //@ts-ignore\r\n                    let id: number = r.id;\r\n                    //@ts-ignore\r\n                    return id === uid;\r\n                });\r\n                return result;\r\n            },\r\n            HasChanges(jsxContext: TableEditorPageClass) {\r\n                for (let prop in jsxContext.state.oldRowValue) {\r\n                    //@ts-ignore            \r\n                    if (jsxContext.state.newRowValue[prop] !== jsxContext.state.oldRowValue[prop]) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            DeleteRow(jsxContext: TableEditorPageClass, rowUid: number) {\r\n                //@ts-ignore \r\n                dbwrap.DeleteRow(jsxContext.props.TableName, rowUid, dispatch)\r\n                    .then((result: dbwrap.responseResult) => {\r\n                        if (result.success) {\r\n                            let newRowIndex = jsxContext.props.currentRowIndex - 1;\r\n                            if (jsxContext.props.rows.length >= newRowIndex) {\r\n                                jsxContext.props.actions.SelectRow(jsxContext, newRowIndex);\r\n                                let newRow = jsxContext.props.rows[newRowIndex] as object;\r\n                                jsxContext.setState({ isRowSelected: true, oldRowValue: { ...newRow }, newRowValue: { ...newRow }, editorMode: TableEditorMode.None });\r\n                            }\r\n                        } else {\r\n                            if (result.data.hasOwnProperty(\"parsedErrId\")) {\r\n                                let errId: ErrorEnum = getProp(result.data, \"parsedErrId\");\r\n                                jsxContext.setState({ error: errId });\r\n                            }\r\n                        }\r\n                    });\r\n            },\r\n            RollbackChangesInRedux(jsxContext: TableEditorPageClass) {\r\n                dispatch({\r\n                    type: dbwrap.ACT_ROW_UPDATE,\r\n                    payload: { tableName: jsxContext.props.TableName, row: jsxContext.state.oldRowValue, error: null }\r\n                });\r\n                let value = { ...jsxContext.state.oldRowValue };\r\n                jsxContext.setState({ newRowValue: value, error: ErrorEnum.NoError });\r\n            },\r\n            SaveRowChangesToRedux(jsxContext: TableEditorPageClass, oldRowValue: any, newRowValue: any) {\r\n                if (oldRowValue === undefined) {\r\n                    // add new row\r\n                } else {\r\n                    // update existing row\r\n                    dispatch({\r\n                        type: dbwrap.ACT_ROW_UPDATE,\r\n                        payload: { tableName: jsxContext.props.TableName, row: newRowValue, error: null }\r\n                    });\r\n                }\r\n            },\r\n            SaveRowChangesOnServer(jsxContext: TableEditorPageClass, newData: any) {\r\n                if (jsxContext.state.oldRowValue) {\r\n                    // Сохранить изменения в существующей записи\r\n                    jsxContext.props.actions.SaveRowChangesToRedux(jsxContext, jsxContext.state.oldRowValue, jsxContext.state.newRowValue);\r\n                    dbwrap.UpdateRow(jsxContext.props.TableName, newData, dispatch)\r\n                        .then((data: any) => {\r\n                            jsxContext.setState({ oldRowValue: data, newRowValue: data, error: ErrorEnum.NoError })\r\n                            //@ts-ignore\r\n                            jsxContext.getGrid().refresh()\r\n                        })\r\n                        .catch((err: any) => {\r\n                            console.log(\"err\");\r\n                        });\r\n                } else {\r\n                    // Добавить новую запись\r\n                    dbwrap.AddRow(jsxContext.props.TableName, newData, dispatch)\r\n                        .then((data: any) => {\r\n                            jsxContext.setState({ oldRowValue: data, newRowValue: data, error: ErrorEnum.NoError, editorMode: TableEditorMode.None })\r\n                            //@ts-ignore\r\n                            jsxContext.getGrid().refresh();\r\n                            let rowUID = data.id;\r\n                            let rowIndex = this.GetRowIndex(jsxContext, rowUID);\r\n                            jsxContext.props.actions.SetSelectedRowByUID(jsxContext, data.id, false);\r\n                        })\r\n                        .catch((err: any) => {\r\n                            console.log(\"err\");\r\n                        });\r\n                }\r\n            },\r\n            SelectRow(jsxContext: TableEditorPageClass, rowIndex: number) {\r\n                dispatch({ type: dbwrap.ACT_SETCURRENTROW_INDEX, payload: { tableName: jsxContext.props.TableName, currentRowIndex: rowIndex } });\r\n            },\r\n            SetSelectedRowByUID: (jsxContext: TableEditorPageClass, rowUID: object, updateDataGrid: boolean = false): void => {\r\n                let rowIndex: number = jsxContext.props.actions.GetRowIndex(jsxContext, rowUID);\r\n                if (rowIndex === -1) return;\r\n                if (!updateDataGrid) {\r\n                    jsxContext.props.actions.SelectRow(jsxContext, rowIndex);\r\n                    return;\r\n                }\r\n                //@ts-ignore\r\n                let pageSize = jsxContext.getGrid().pageSize();\r\n                let newPage = (rowIndex - rowIndex % pageSize) / pageSize + (rowIndex % pageSize === 0 ? -1 : 0);\r\n                //@ts-ignore\r\n                jsxContext.getGrid().pageIndex(newPage);\r\n                //@ts-ignore\r\n                jsxContext.getGrid().selectRows([rowUID]);\r\n            },\r\n        }\r\n    }\r\n}\r\n\r\nexport const TableEditorPage = connect(mapStateToProps, mapDispatchToProps)(TableEditorPageClass);\r\n","import * as React from 'react';\r\nimport { Popup, Position } from 'devextreme-react/popup';\r\nimport { ToolbarItem } from 'devextreme-react/data-grid';\r\nimport getLocMsg, { LocMsgId } from '../../localization';\r\nimport { TextArea } from 'devextreme-react';\r\n\r\ninterface MessagePopupProps {\r\n    title: string,\r\n    message: string,\r\n    visible: boolean,\r\n    hidePopup(): void\r\n}\r\n\r\nexport class MessagePopup extends React.Component<MessagePopupProps> {\r\n    closeButtonOptions: { text: string; onClick: () => void; };\r\n\r\n    constructor(props: MessagePopupProps) {\r\n        super(props);\r\n\r\n        this.cancelPopupClick = this.cancelPopupClick.bind(this);\r\n        \r\n        this.closeButtonOptions = {\r\n            text: getLocMsg(LocMsgId.Button_Close),\r\n            onClick: this.cancelPopupClick,\r\n          };\r\n    }\r\n\r\n    cancelPopupClick() {\r\n        this.props.hidePopup()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Popup\r\n                visible={this.props.visible}\r\n                showTitle={false}\r\n                width={500}\r\n                height={300}>\r\n                <Position at=\"center\" my=\"center\" />\r\n\r\n                <TextArea\r\n                    height={150}\r\n                    value={this.props.message}\r\n                    readOnly={true}\r\n                />\r\n\r\n                <ToolbarItem location=\"before\" text={this.props.title}></ToolbarItem>\r\n                <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={this.closeButtonOptions}></ToolbarItem>\r\n            </Popup>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { Popup, Position, ToolbarItem } from 'devextreme-react/popup';\r\nimport { TextArea } from 'devextreme-react';\r\n\r\ninterface ConfirmFormProps {\r\n    title: string,\r\n    message: string,\r\n    visible: boolean,\r\n    confirmButtonText: string,\r\n    confirmForm(): void,\r\n    cancelButtonText: string,\r\n    cancelForm(): void\r\n}\r\n\r\nexport class ConfirmForm extends React.Component<ConfirmFormProps> {\r\n    confirmButtonOptions: { text: string; onClick: () => void; };\r\n    cancelButtonOptions: { text: string; onClick: () => void; };\r\n\r\n    constructor(props: ConfirmFormProps) {\r\n        super(props);\r\n\r\n        this.confirmFormClick = this.confirmFormClick.bind(this);\r\n        this.cancelFormClick = this.cancelFormClick.bind(this);\r\n\r\n        this.confirmButtonOptions = {\r\n            text: this.props.confirmButtonText,\r\n            onClick: this.confirmFormClick,\r\n        };\r\n\r\n        this.cancelButtonOptions = {\r\n            text: this.props.cancelButtonText,\r\n            onClick: this.cancelFormClick,\r\n        };\r\n    }\r\n\r\n    confirmFormClick() {\r\n        this.props.confirmForm();\r\n    }\r\n\r\n    cancelFormClick() {\r\n        this.props.cancelForm();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Popup\r\n                visible={this.props.visible}\r\n                dragEnabled={false}\r\n                closeOnOutsideClick={false}\r\n                showCloseButton={false}\r\n                showTitle={true}\r\n                width={500}\r\n                height={300}\r\n                title={this.props.title}\r\n                container=\".dx-viewport\">\r\n                <Position at=\"center\" my=\"center\" />\r\n\r\n                <TextArea\r\n                    height={150}\r\n                    value={this.props.message}\r\n                    readOnly={true}\r\n                />\r\n\r\n                <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={this.confirmButtonOptions}></ToolbarItem>\r\n                <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={this.cancelButtonOptions}></ToolbarItem>\r\n            </Popup>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../../DbWrapper';\r\nimport getLocMsg, { LocMsgId } from '../../localization';\r\nimport DataGrid, {\r\n    Column,\r\n    Paging,\r\n    Lookup,\r\n    Sorting,\r\n    FilterRow,\r\n    HeaderFilter,\r\n    ColumnChooser,\r\n    SearchPanel,\r\n    Pager\r\n} from 'devextreme-react/data-grid';\r\nimport { Popup, Position } from 'devextreme-react/popup';\r\nimport Button from 'devextreme-react/button';\r\nimport { MessagePopup } from '../../components/CommonComponents/MessagePopup';\r\nimport { AvailabilitySchedule } from '../../Models/AvailabilitySchedule';\r\nimport { ScheduleItem } from '../../Models/ScheduleItem';\r\nimport { User } from '../../Models/User';\r\nimport { ConfirmForm } from '../../components/CommonComponents/ConfirmForm';\r\nimport TextBox from 'devextreme-react/text-box';\r\nimport { IncorrectData } from '../AvailabilitySchedules/IncorrectData';\r\nimport { DateBox, SelectBox } from 'devextreme-react';\r\n\r\ninterface AvailabilitySchedulesProps {\r\n\r\n}\r\n\r\ntype AvailabilitySchedulesState = {\r\n    availabilitySchedulesRows: AvailabilitySchedule[],\r\n    scheduleItemsRows: ScheduleItem[],\r\n    usersRows: User[],\r\n\r\n    selectedAvailabilitySchedule: AvailabilitySchedule,\r\n    previousAvailabilityItem: AvailabilitySchedule,\r\n\r\n    selectedScheduleItem: ScheduleItem,\r\n    previousScheduleItem: ScheduleItem,\r\n\r\n    currentScheduleItems: ScheduleItem[],\r\n    editableScheduleItems: ScheduleItem[],\r\n\r\n    focusedRowKey: number,\r\n    scheduleItemsFocusedRowKey: number | undefined,\r\n\r\n    addEditFormVisible: boolean\r\n    addEditFormTitle: string,\r\n    confirmDeleteFormVisible: boolean,\r\n\r\n    scheduleItemFormVisible: boolean,\r\n\r\n    editScheduleItemVisible: boolean,\r\n    removeScheduleItemVisible: boolean,\r\n\r\n    popupTitle: string,\r\n    popupMessage: string,\r\n    popupVisible: boolean,\r\n    popupVisibleForCriticalError: boolean,\r\n    hasCriticalError: boolean,\r\n\r\n    dataIsCorrect: { name: IncorrectData },\r\n    scheduleItemIsCorrect: { weekDay: IncorrectData, startTime: IncorrectData, endTime: IncorrectData },\r\n\r\n    availableWeekDays: any,\r\n    weekDays: any,\r\n    weekDaySelectBoxHidden: boolean,\r\n\r\n    refComponents: any,\r\n    isTrashEditButtonDisabled: boolean,\r\n    isScheduleItemsGridVisible: boolean\r\n}\r\n\r\nconst allowedPageSizes = [5, 10, 15, 20];\r\nvar l_dataGrid: any = null;\r\nvar l_dataGrid_ScheduleItems: any = null;\r\n\r\nexport class AvailabilitySchedulesDictClass extends React.Component<AvailabilitySchedulesProps, AvailabilitySchedulesState> {\r\n    constructor(props: AvailabilitySchedulesProps) {\r\n        super(props);\r\n        this.state = {\r\n            availabilitySchedulesRows: [],\r\n            scheduleItemsRows: [],\r\n            usersRows: [],\r\n\r\n            selectedAvailabilitySchedule: { id: 0, name: '' },\r\n            previousAvailabilityItem: { id: 0, name: '' },\r\n\r\n            selectedScheduleItem: { id: 0 },\r\n            previousScheduleItem: { id: 0 },\r\n\r\n            currentScheduleItems: [],\r\n            editableScheduleItems: [],\r\n\r\n            focusedRowKey: 0,\r\n            scheduleItemsFocusedRowKey: 0,\r\n\r\n            addEditFormVisible: false,\r\n            addEditFormTitle: '',\r\n            confirmDeleteFormVisible: false,\r\n\r\n            scheduleItemFormVisible: false,\r\n\r\n            editScheduleItemVisible: false,\r\n            removeScheduleItemVisible: false,\r\n\r\n            popupTitle: \"\",\r\n            popupMessage: \"\",\r\n            popupVisible: false,\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: false,\r\n\r\n            dataIsCorrect: { name: { isValid: true } },\r\n            scheduleItemIsCorrect: {\r\n                weekDay: { isValid: true },\r\n                startTime: { isValid: true },\r\n                endTime: { isValid: true }\r\n            },\r\n\r\n            availableWeekDays: [],\r\n            weekDays: [],\r\n            weekDaySelectBoxHidden: false,\r\n\r\n            refComponents: new Map(),\r\n            isTrashEditButtonDisabled: false,\r\n            isScheduleItemsGridVisible: false\r\n        };\r\n\r\n        //#region Render functions\r\n        this.renderAddEditForm = this.renderAddEditForm.bind(this);\r\n        this.renderScheduleItemForm = this.renderScheduleItemForm.bind(this);\r\n        //#endregion\r\n\r\n        //#region Toolbar buttons functions\r\n        this.handleButtonAddClick = this.handleButtonAddClick.bind(this);\r\n        this.handleButtonRemoveClick = this.handleButtonRemoveClick.bind(this);\r\n        this.handleButtonEditClick = this.handleButtonEditClick.bind(this);\r\n        this.handleButtonRefreshClick = this.handleButtonRefreshClick.bind(this);\r\n        //#endregion\r\n\r\n        //#region AvailabilitySchedules DataGrid functions\r\n        this.onFocusedRowChanged = this.onFocusedRowChanged.bind(this);\r\n        this.onContentReady = this.onContentReady.bind(this);\r\n        this.getLocalDateTime = this.getLocalDateTime.bind(this);\r\n        //#endregion\r\n\r\n        //#region ScheduleItems DataGrid functions\r\n        this.getScheduleItemsRows = this.getScheduleItemsRows.bind(this);\r\n        //#endregion\r\n\r\n        //#region ScheduleItems AddEditForm functions\r\n        this.saveScheduleClick = this.saveScheduleClick.bind(this);\r\n        this.cancelAddEditFormClick = this.cancelAddEditFormClick.bind(this);\r\n        //#region ScheduleItems DataGrid functions\r\n        this.onScheduleItemsFocusedRowChanged = this.onScheduleItemsFocusedRowChanged.bind(this);\r\n        this.onScheduleItemsContentReady = this.onScheduleItemsContentReady.bind(this);\r\n        this.addScheduleItem = this.addScheduleItem.bind(this);\r\n        this.editScheduleItem = this.editScheduleItem.bind(this);\r\n        this.removeScheduleItem = this.removeScheduleItem.bind(this);\r\n        //#endregion\r\n        //#endregion\r\n\r\n        //#region ScheduleItem Form functions\r\n        this.saveScheduleItemClick = this.saveScheduleItemClick.bind(this);\r\n        this.cancelScheduleItemFormClick = this.cancelScheduleItemFormClick.bind(this);\r\n        this.onWeekDayValueChanged = this.onWeekDayValueChanged.bind(this);\r\n        this.onStartTimeValueChanged = this.onStartTimeValueChanged.bind(this);\r\n        this.onEndTimeValueChanged = this.onEndTimeValueChanged.bind(this);\r\n        this.getWeekDays = this.getWeekDays.bind(this);\r\n        this.getWeekDayName = this.getWeekDayName.bind(this);\r\n        //#endregion\r\n\r\n        //#region Popup functions\r\n        this.hidePopup = this.hidePopup.bind(this);\r\n        this.hidePopupForCriticalError = this.hidePopupForCriticalError.bind(this);\r\n        //#endregion\r\n\r\n        //#region Confirm functions\r\n        this.confirmDeleteFormClick = this.confirmDeleteFormClick.bind(this);\r\n        this.closeConfirmFormClick = this.closeConfirmFormClick.bind(this);\r\n        //#endregion\r\n\r\n        //#region Validation functions\r\n        this.onChangeName = this.onChangeName.bind(this);\r\n        this.onChangeComment = this.onChangeComment.bind(this);\r\n        this.applyChange = this.applyChange.bind(this);\r\n        this.checkSelectedRow = this.checkSelectedRow.bind(this);\r\n        //#endregion\r\n    }\r\n\r\n    //#region Render\r\n    // Форма добавления и редактирования режима доступности.\r\n    renderAddEditForm() {\r\n        if (!this.state.addEditFormVisible) {\r\n            return (<div />);\r\n        }\r\n        return (\r\n            <Popup\r\n                visible={this.state.addEditFormVisible}\r\n                dragEnabled={false}\r\n                closeOnOutsideClick={false}\r\n                showCloseButton={false}\r\n                showTitle={true}\r\n                title={this.state.addEditFormTitle}\r\n                container=\".dx-viewport\">\r\n                <Position at=\"center\" my=\"center\" />\r\n\r\n                <Button\r\n                    style={{ margin: \"0 10px 10px 0\" }}\r\n                    text={getLocMsg(LocMsgId.Button_Save)}\r\n                    onClick={this.saveScheduleClick} />\r\n\r\n                <Button\r\n                    style={{ margin: \"0 0 10px 0\" }}\r\n                    text={getLocMsg(LocMsgId.Button_Cancel)}\r\n                    onClick={this.cancelAddEditFormClick} />\r\n\r\n                <div className='mb-2'>\r\n                    <div className='row mb-2'>\r\n                        <div className='col-2 my-auto'>\r\n                            {getLocMsg(LocMsgId.Column_Name)}:\r\n                        </div>\r\n                        <div className='col'>\r\n                            <TextBox value={this.state.selectedAvailabilitySchedule.name}\r\n                                valueChangeEvent=\"input\" onInput={this.onChangeName} maxLength={100}\r\n                                isValid={this.state.dataIsCorrect.name.isValid} hint={this.state.dataIsCorrect.name.message}\r\n                                ref={(ref) => { this.state.refComponents[\"txtName\"] = ref }} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='row'>\r\n                        <div className='col-2 my-auto'>\r\n                            {getLocMsg(LocMsgId.Column_Comment)}:\r\n                        </div>\r\n                        <div className='col'>\r\n                            <TextBox value={this.state.selectedAvailabilitySchedule.comment} maxLength={250}\r\n                                valueChangeEvent=\"input\" onInput={this.onChangeComment} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Button icon=\"add\" hint={getLocMsg(LocMsgId.Button_AddSchedule)} onClick={this.addScheduleItem} className='mb-2 mr-2' visible={this.state.editableScheduleItems.length < 7} />\r\n                <Button icon=\"edit\" hint={getLocMsg(LocMsgId.Button_EditSchedule)} onClick={this.editScheduleItem} className='mb-2 mr-2' visible={this.state.editableScheduleItems.length != 0} />\r\n                <Button icon=\"trash\" hint={getLocMsg(LocMsgId.Button_DeleteSchedule)} onClick={this.removeScheduleItem} className='mb-2 mr-2' visible={this.state.editableScheduleItems.length != 0} />\r\n\r\n                <DataGrid\r\n                    dataSource={this.state.editableScheduleItems}\r\n                    keyExpr=\"weekDay\"\r\n                    showBorders={true}\r\n                    focusedRowEnabled={true}\r\n                    focusedRowKey={this.state.scheduleItemsFocusedRowKey}\r\n                    onFocusedRowChanged={this.onScheduleItemsFocusedRowChanged}\r\n                    autoNavigateToFocusedRow={true}\r\n                    onContentReady={this.onScheduleItemsContentReady}\r\n                    ref={(ref) => { l_dataGrid_ScheduleItems = ref }}>\r\n                    <Sorting clearText={getLocMsg(LocMsgId.Button_ClearSorting)} ascendingText={getLocMsg(LocMsgId.Button_SortAscending)}\r\n                        descendingText={getLocMsg(LocMsgId.Button_SortDescending)} mode=\"multiple\" />\r\n                    <Paging defaultPageSize={20} />\r\n                    <Pager\r\n                        visible={true}\r\n                        allowedPageSizes={allowedPageSizes}\r\n                        displayMode={'full'}\r\n                        showPageSizeSelector={true}\r\n                        showInfo={true}\r\n                        showNavigationButtons={true} />\r\n                    <Column dataField=\"scheduleId\" dataType=\"number\" caption=\"ScheduleId\" visible={false} />\r\n                    <Column dataField=\"weekDay\" caption={getLocMsg(LocMsgId.Column_WeekDay)} alignment=\"left\">\r\n                        <Lookup dataSource={this.state.weekDays} displayExpr=\"name\" valueExpr=\"id\" />\r\n                    </Column>\r\n                    <Column dataField=\"startTime\" caption={getLocMsg(LocMsgId.Column_StartTime)}\r\n                        alignment=\"left\" format=\"HH:mm\" allowEditing=\"true\" dataType=\"datetime\">\r\n                    </Column>\r\n                    <Column dataField=\"endTime\" caption={getLocMsg(LocMsgId.Column_EndTime)}\r\n                        alignment=\"left\" format=\"HH:mm\" allowEditing=\"true\" dataType=\"datetime\">\r\n                    </Column>\r\n                </DataGrid>\r\n            </Popup>\r\n        )\r\n    }\r\n\r\n    // Форма для добавления и редактирования деталей режима доступности.\r\n    renderScheduleItemForm() {\r\n        if (!this.state.scheduleItemFormVisible) {\r\n            return (<div />);\r\n        }\r\n        return (\r\n            <Popup\r\n                visible={this.state.scheduleItemFormVisible}\r\n                dragEnabled={false}\r\n                closeOnOutsideClick={false}\r\n                showCloseButton={false}\r\n                showTitle={true}\r\n                width=\"600px\"\r\n                height=\"300px\"\r\n                title={getLocMsg(LocMsgId.Menu_Dicts_Managements_ScheduleItem)}\r\n                container=\".dx-viewport\">\r\n                <Position at=\"center\" my=\"center\" />\r\n\r\n                <Button\r\n                    style={{ margin: \"0 10px 10px 0\" }}\r\n                    text={getLocMsg(LocMsgId.Button_Save)}\r\n                    onClick={this.saveScheduleItemClick} />\r\n\r\n                <Button\r\n                    style={{ margin: \"0 0 10px 0\" }}\r\n                    text={getLocMsg(LocMsgId.Button_Cancel)}\r\n                    onClick={this.cancelScheduleItemFormClick} />\r\n\r\n                <div className='mb-2'>\r\n                    <div className='row mb-2'>\r\n                        <div className='col-3 my-auto'>\r\n                            {getLocMsg(LocMsgId.Column_WeekDay)}:\r\n                        </div>\r\n                        <div className='col' hidden={this.state.weekDaySelectBoxHidden}>\r\n                            <SelectBox dataSource={this.state.availableWeekDays} displayExpr=\"name\" valueExpr=\"id\" onValueChanged={this.onWeekDayValueChanged}\r\n                                placeholder={getLocMsg(LocMsgId.Message_SelectWeekDay)} value={this.state.selectedScheduleItem.weekDay}\r\n                                isValid={this.state.scheduleItemIsCorrect.weekDay.isValid} hint={this.state.scheduleItemIsCorrect.weekDay.message}\r\n                                ref={(ref) => { this.state.refComponents[\"selectWeekDay\"] = ref }} />\r\n                        </div>\r\n                        <div className='col my-auto' hidden={!this.state.weekDaySelectBoxHidden}>\r\n                            {this.getWeekDayName(this.state.selectedScheduleItem)}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='row mb-2'>\r\n                        <div className='col-3 my-auto'>\r\n                            {getLocMsg(LocMsgId.Column_StartTime)}:\r\n                        </div>\r\n                        <div className='col'>\r\n                            <DateBox value={this.state.selectedScheduleItem.startTime} pickerType=\"rollers\" type=\"time\" cancelButtonText=\"Отмена\"\r\n                                onValueChanged={this.onStartTimeValueChanged} isValid={this.state.scheduleItemIsCorrect.startTime.isValid}\r\n                                hint={this.state.scheduleItemIsCorrect.startTime.message}\r\n                                ref={(ref) => { this.state.refComponents[\"dateStartTime\"] = ref }} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='row mb-2'>\r\n                        <div className='col-3 my-auto'>\r\n                            {getLocMsg(LocMsgId.Column_EndTime)}:\r\n                        </div>\r\n                        <div className='col'>\r\n                            <DateBox value={this.state.selectedScheduleItem.endTime} pickerType=\"rollers\" type=\"time\" cancelButtonText=\"Отмена\"\r\n                                onValueChanged={this.onEndTimeValueChanged} isValid={this.state.scheduleItemIsCorrect.endTime.isValid}\r\n                                hint={this.state.scheduleItemIsCorrect.endTime.message}\r\n                                ref={(ref) => { this.state.refComponents[\"dateEndTime\"] = ref }} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Popup>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                    {getLocMsg(LocMsgId.Menu_Dicts_Managements_AvailabilitySchedule)}\r\n                </h3>\r\n\r\n                <div hidden={this.state.hasCriticalError === false}>\r\n                    <div style={{ height: '80vh' }} className=\"d-flex flex-column justify-content-center align-items-center\">\r\n                        <h1>{getLocMsg(LocMsgId.Message_DirectoryNotAvailable)}</h1>\r\n                    </div>\r\n                </div>\r\n\r\n                <div hidden={this.state.hasCriticalError}>\r\n                    <Button icon=\"add\" hint={getLocMsg(LocMsgId.Button_Add)} onClick={this.handleButtonAddClick} className='mb-2 mr-2' />\r\n                    <Button icon=\"trash\" hint={getLocMsg(LocMsgId.Button_Delete)} onClick={this.handleButtonRemoveClick} disabled={this.state.isTrashEditButtonDisabled} className='mb-2 mr-2' />\r\n                    <Button icon=\"edit\" hint={getLocMsg(LocMsgId.Button_Edit)} onClick={this.handleButtonEditClick} disabled={this.state.isTrashEditButtonDisabled} className='mb-2 mr-2' />\r\n                    <Button icon=\"refresh\" hint={getLocMsg(LocMsgId.Button_Refresh)} onClick={this.handleButtonRefreshClick} className='mb-2 mr-2' />\r\n\r\n                    {this.renderAddEditForm()}\r\n                    {this.renderScheduleItemForm()}\r\n\r\n                    <ConfirmForm title={getLocMsg(LocMsgId.Message_Confirm)} message={getLocMsg(LocMsgId.Message_Deleting)}\r\n                        visible={this.state.confirmDeleteFormVisible} confirmButtonText={getLocMsg(LocMsgId.Button_Yes)} confirmForm={this.confirmDeleteFormClick}\r\n                        cancelButtonText={getLocMsg(LocMsgId.Button_No)} cancelForm={this.closeConfirmFormClick} />\r\n\r\n                    <MessagePopup title={this.state.popupTitle} hidePopup={this.hidePopup} message={this.state.popupMessage} visible={this.state.popupVisible} />\r\n                    <MessagePopup title={this.state.popupTitle} hidePopup={this.hidePopupForCriticalError} message={this.state.popupMessage} visible={this.state.popupVisibleForCriticalError} />\r\n\r\n                    <DataGrid\r\n                        dataSource={this.state.availabilitySchedulesRows}\r\n                        keyExpr=\"id\"\r\n                        showBorders={true}\r\n                        focusedRowEnabled={true}\r\n                        focusedRowKey={this.state.focusedRowKey}\r\n                        onFocusedRowChanged={this.onFocusedRowChanged}\r\n                        autoNavigateToFocusedRow={true}\r\n                        onContentReady={this.onContentReady}\r\n                        ref={(ref) => { l_dataGrid = ref }}>\r\n                        <Paging defaultPageSize={10} />\r\n                        <Pager\r\n                            visible={true}\r\n                            allowedPageSizes={allowedPageSizes}\r\n                            displayMode={'full'}\r\n                            showPageSizeSelector={true}\r\n                            showInfo={true}\r\n                            showNavigationButtons={true} />\r\n                        <FilterRow visible={true} />\r\n                        <HeaderFilter visible={true} />\r\n                        <ColumnChooser enabled={true} mode=\"select\" />\r\n                        <Sorting mode=\"multiple\" />\r\n                        <SearchPanel visible={true} />\r\n                        <Column dataField=\"id\" dataType=\"number\" caption=\"Id\" visible={false} />\r\n                        <Column dataField=\"name\" caption={getLocMsg(LocMsgId.Column_Name)} alignment=\"left\" />\r\n                        <Column dataField=\"date\" dataType=\"datetime\" caption={getLocMsg(LocMsgId.Column_EditDate)} alignment=\"left\" />\r\n                        <Column dataField=\"userId\" caption={getLocMsg(LocMsgId.Column_User)} alignment=\"left\">\r\n                            <Lookup dataSource={this.state.usersRows} valueExpr=\"id\" displayExpr=\"username\" />\r\n                        </Column>\r\n                        <Column dataField=\"comment\" caption={getLocMsg(LocMsgId.Column_Comment)} alignment=\"left\" />\r\n                    </DataGrid>\r\n                    <br />\r\n                    <div hidden={this.state.isScheduleItemsGridVisible === false}>\r\n                        <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                            {getLocMsg(LocMsgId.Menu_Dicts_Managements_ScheduleItem)}\r\n                        </h3>\r\n                        <DataGrid\r\n                            dataSource={this.state.currentScheduleItems}\r\n                            keyExpr=\"id\"\r\n                            showBorders={true}>\r\n                            <Paging defaultPageSize={10} />\r\n                            <Pager\r\n                                visible={true}\r\n                                allowedPageSizes={allowedPageSizes}\r\n                                displayMode={'full'}\r\n                                showPageSizeSelector={true}\r\n                                showInfo={true}\r\n                                showNavigationButtons={true} />\r\n                            <Column dataField=\"id\" dataType=\"number\" caption=\"Id\" visible={false} />\r\n                            <Column dataField=\"scheduleId\" dataType=\"number\" caption=\"ScheduleId\" visible={false} />\r\n                            <Column dataField=\"weekDay\" caption={getLocMsg(LocMsgId.Column_WeekDay)} alignment=\"left\">\r\n                                <Lookup dataSource={this.state.weekDays} displayExpr=\"name\" valueExpr=\"id\" />\r\n                            </Column>\r\n                            <Column dataField=\"startTime\" caption={getLocMsg(LocMsgId.Column_StartTime)} dataType=\"datetime\" alignment=\"left\" format=\"HH:mm\" />\r\n                            <Column dataField=\"endTime\" caption={getLocMsg(LocMsgId.Column_EndTime)} dataType=\"datetime\" alignment=\"left\" format=\"HH:mm\" />\r\n                        </DataGrid>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    //#endregion\r\n\r\n    //#region Code\r\n    componentDidMount() {\r\n        (async () => {\r\n            await dbwrap.GetRows(\"AvailabilitySchedules\", null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    var schedules: AvailabilitySchedule[] = [];\r\n\r\n                    // Приведение к локальному времени.\r\n                    data.data.forEach((element: AvailabilitySchedule) => {\r\n                        element.date = new Date(element.date + 'Z');\r\n                        schedules.push(element);\r\n                    });\r\n\r\n                    this.setState({ availabilitySchedulesRows: schedules });\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                        popupMessage: errorMessage,\r\n                        popupVisibleForCriticalError: true\r\n                    });\r\n\r\n                    return;\r\n                }\r\n\r\n                (async () => {\r\n                    await dbwrap.GetRows(\"ScheduleItems\", null).then((data: dbwrap.responseResult) => {\r\n                        if (data.success) {\r\n                            this.setState({ scheduleItemsRows: data.data });\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                popupMessage: errorMessage,\r\n                                popupVisibleForCriticalError: true\r\n                            });\r\n\r\n                            return;\r\n                        }\r\n\r\n                        (async () => {\r\n                            await dbwrap.GetRows(\"Users\", null).then((data: dbwrap.responseResult) => {\r\n                                if (data.success) {\r\n                                    this.setState({ usersRows: data.data });\r\n\r\n                                    var weekDays = [{\r\n                                        id: 0,\r\n                                        name: getLocMsg(LocMsgId.WeekDay_Monday)\r\n                                    }, {\r\n                                        id: 1,\r\n                                        name: getLocMsg(LocMsgId.WeekDay_Tuesday)\r\n                                    }, {\r\n                                        id: 2,\r\n                                        name: getLocMsg(LocMsgId.WeekDay_Wednesday)\r\n                                    }, {\r\n                                        id: 3,\r\n                                        name: getLocMsg(LocMsgId.WeekDay_Thursday)\r\n                                    }, {\r\n                                        id: 4,\r\n                                        name: getLocMsg(LocMsgId.WeekDay_Friday)\r\n                                    }, {\r\n                                        id: 5,\r\n                                        name: getLocMsg(LocMsgId.WeekDay_Saturday)\r\n                                    }, {\r\n                                        id: 6,\r\n                                        name: getLocMsg(LocMsgId.WeekDay_Sunday)\r\n                                    }]\r\n\r\n                                    this.setState({ weekDays: weekDays });\r\n\r\n                                    this.render();\r\n                                }\r\n                                else {\r\n                                    let errorMessage: string = '';\r\n\r\n                                    if (data.data.parsedErrObject == null) {\r\n                                        errorMessage = data.data.request.responseText\r\n                                    }\r\n                                    else {\r\n                                        errorMessage = data.data.parsedErrObject.message\r\n                                    }\r\n\r\n                                    this.setState({\r\n                                        popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                        popupMessage: errorMessage,\r\n                                        popupVisibleForCriticalError: true\r\n                                    });\r\n                                }\r\n                            });\r\n                        })();\r\n                    });\r\n                })();\r\n            });\r\n        })();\r\n    }\r\n\r\n    //#region Toolbar buttons functions\r\n    // Добавление режима доступности.\r\n    handleButtonAddClick() {\r\n        this.setState({\r\n            selectedAvailabilitySchedule: { id: 0, name: '', scheduleItems: [] },\r\n            editableScheduleItems: [],\r\n            selectedScheduleItem: { id: 0 },\r\n            previousAvailabilityItem: { ...this.state.selectedAvailabilitySchedule },\r\n            focusedRowKey: -1,\r\n            addEditFormVisible: true,\r\n            addEditFormTitle: getLocMsg(LocMsgId.Message_AddAvailabilitySchedule)\r\n        });\r\n\r\n        this.resetDataForCorrect();\r\n    }\r\n\r\n    // Удаление режима доступности.\r\n    handleButtonRemoveClick() {\r\n        if (!this.checkSelectedRow()) return;\r\n\r\n        this.setState({\r\n            confirmDeleteFormVisible: true\r\n        });\r\n    }\r\n\r\n    // Изменение режима доступности.\r\n    handleButtonEditClick() {\r\n        if (!this.checkSelectedRow()) return;\r\n\r\n        var availabilitySchedule = { ...this.state.selectedAvailabilitySchedule };\r\n        //@ts-ignore\r\n        var items: ScheduleItem[] = availabilitySchedule.scheduleItems;\r\n        items = Object.values(items);\r\n\r\n        this.setState({\r\n            editableScheduleItems: items,\r\n            previousAvailabilityItem: { ...this.state.selectedAvailabilitySchedule },\r\n            selectedScheduleItem: { id: 0 },\r\n            addEditFormVisible: true,\r\n            addEditFormTitle: getLocMsg(LocMsgId.Message_EditAvailabilitySchedule)\r\n        });\r\n\r\n        this.resetDataForCorrect();\r\n    }\r\n\r\n    // Обновление grid.\r\n    handleButtonRefreshClick() {\r\n        this.componentDidMount();\r\n    }\r\n    //#endregion\r\n\r\n    //#region AvailabilitySchedules DataGrid functions\r\n    // Переход по строкам в DataGrid.\r\n    onFocusedRowChanged(e: any) {\r\n        if (e == null || e.row == null) {\r\n            return;\r\n        }\r\n\r\n        var data = e.row.data;\r\n        if (data == null) {\r\n            return;\r\n        }\r\n\r\n        data.scheduleItems = this.state.scheduleItemsRows.filter(x => x.scheduleId === data.id);\r\n\r\n        this.setState({\r\n            selectedAvailabilitySchedule: { ...data },\r\n            currentScheduleItems: data.scheduleItems,\r\n            focusedRowKey: data.id\r\n        });\r\n    }\r\n\r\n    onContentReady(e: any) {\r\n        var item = this.state.selectedAvailabilitySchedule;\r\n        var key = item.id;\r\n        var keyExistsInFilteredRows = -1;\r\n        var filteredRows: any;\r\n\r\n        if (item.id != 0) {\r\n            item.scheduleItems = this.state.scheduleItemsRows.filter(x => x.scheduleId === item.id);\r\n            this.setState({\r\n                previousAvailabilityItem: { ...item },\r\n                currentScheduleItems: item.scheduleItems\r\n            });\r\n        }\r\n\r\n        // Пытаемся установить фокус на нужной нам записи.\r\n        this.setState({ selectedAvailabilitySchedule: { ...item }, focusedRowKey: key });\r\n\r\n        if (item != null && l_dataGrid != null) {\r\n            // Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n            l_dataGrid.instance.getDataSource().store()\r\n                .load({ filter: l_dataGrid.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    // Записываем результат во временную переменную filteredRows.\r\n                    filteredRows = result;\r\n                });\r\n\r\n            //Проверяем на наличие нужной нам записи в текущей выборке.\r\n            keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        // Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись.\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {\r\n            if (l_dataGrid != null) {\r\n                // Определяем Key по нулевому индексу(нулевой индекс - это всегда первая запись).\r\n                key = l_dataGrid.instance.getKeyByRowIndex(0)\r\n            }\r\n        }\r\n\r\n        if (key != null && l_dataGrid != null) {\r\n            l_dataGrid.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    filteredRows = result;\r\n                });\r\n            item = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        item.scheduleItems = this.state.scheduleItemsRows.filter(x => x.scheduleId === item.id);\r\n        this.setState({ selectedAvailabilitySchedule: { ...item }, focusedRowKey: key, currentScheduleItems: item.scheduleItems });\r\n        // Проверяем, если список пустой, то область редактирования скрываем.\r\n        if (l_dataGrid != null) {\r\n            // Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n            l_dataGrid.instance.getDataSource().store()\r\n                .load({ filter: l_dataGrid.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    // Записываем результат во временную переменную filteredRows.\r\n                    filteredRows = result;\r\n                    if (result.length === 0) {\r\n                        this.setState({\r\n                            currentScheduleItems: [],\r\n                            isTrashEditButtonDisabled: true,\r\n                            isScheduleItemsGridVisible: false\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.setState({\r\n                            isTrashEditButtonDisabled: false,\r\n                            isScheduleItemsGridVisible: true\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    //@ts-ignore\r\n    getLocalDateTime(data) {\r\n        var resultParse = Date.parse(data.date + 'Z');\r\n        if (isNaN(resultParse))\r\n            return \"\";\r\n        var date = new Date(resultParse);\r\n        return date.toLocaleDateString() + \" \" + date.toLocaleTimeString();\r\n    }\r\n    //#endregion\r\n\r\n    //#region ScheduleItems DataGrid functions\r\n    // Выбирает детали режима доступности.\r\n    getScheduleItemsRows(id: number) {\r\n        //@ts-ignore\r\n        return this.state.scheduleItemsRows.filter(x => x.scheduleId === id)\r\n    }\r\n    //#endregion\r\n\r\n    //#region ScheduleItems AddEditForm functions\r\n    // Сохранение режима доступности.\r\n    saveScheduleClick() {\r\n        var schedule = { ...this.state.selectedAvailabilitySchedule };\r\n\r\n        var arr: ScheduleItem[] = [];\r\n\r\n        this.state.editableScheduleItems.forEach((element) => {\r\n            arr.push({\r\n                \"id\": element.id,\r\n                \"scheduleId\": element.scheduleId,\r\n                \"weekDay\": element.weekDay,\r\n                \"startTime\": element.startTime,\r\n                \"endTime\": element.endTime\r\n            })\r\n        });\r\n\r\n        schedule.scheduleItems = arr;\r\n\r\n        if (this.checkDataForCorrect(schedule) === false) {\r\n            return;\r\n        }\r\n\r\n        //@ts-ignore\r\n        schedule.name = schedule.name.trim();\r\n        \r\n        if (schedule.comment != null && schedule.comment != '') {\r\n            //@ts-ignore\r\n            schedule.comment = schedule.comment.trim();\r\n        }\r\n\r\n        if (schedule.id == 0) {\r\n            dbwrap.AddRow(\"AvailabilitySchedules\", schedule, null)\r\n                .then((data: dbwrap.responseResult) => {\r\n                    if (data.success) {\r\n                        var currentItem = this.state.selectedAvailabilitySchedule;\r\n                        currentItem.id = data.data.id;\r\n\r\n                        this.setState({\r\n                            popupTitle: getLocMsg(LocMsgId.PopupTitle_Information),\r\n                            popupMessage: getLocMsg(LocMsgId.Message_Success),\r\n                            popupVisible: true,\r\n                            addEditFormVisible: false\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (data.data.response != null && data.data.response.status == 453) {\r\n                            this.setState({\r\n                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                popupMessage: getLocMsg(LocMsgId.Message_AvailabilityScheduleSaveError),\r\n                                popupVisible: true\r\n                            });\r\n\r\n                            return;\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                popupMessage: errorMessage,\r\n                                popupVisible: true\r\n                            });\r\n                        }\r\n                    }\r\n                    this.handleButtonRefreshClick();\r\n                })\r\n        }\r\n        else {\r\n            // Сохранение объекта AvailabilitySchedule.\r\n            dbwrap.UpdateRow(\"AvailabilitySchedules\", schedule, null)\r\n                .then((data: dbwrap.responseResult) => {\r\n                    if (data.success) {\r\n                        this.setState({\r\n                            selectedAvailabilitySchedule: { ...schedule },\r\n                            focusedRowKey: this.state.selectedAvailabilitySchedule.id\r\n                        });\r\n\r\n                        this.setState({\r\n                            popupTitle: getLocMsg(LocMsgId.PopupTitle_Information),\r\n                            popupMessage: getLocMsg(LocMsgId.Message_Success),\r\n                            popupVisible: true\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (data.data.response != null && data.data.response.status == 452) {\r\n                            this.setState({\r\n                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                popupMessage: getLocMsg(LocMsgId.Message_AvailabilityScheduleEditError),\r\n                                popupVisible: true\r\n                            });\r\n\r\n                            return;\r\n                        }\r\n                        else if (data.data.response.status == 453) {\r\n                            this.setState({\r\n                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                popupMessage: getLocMsg(LocMsgId.Message_AvailabilityScheduleSaveError),\r\n                                popupVisible: true\r\n                            });\r\n\r\n                            return;\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                popupMessage: errorMessage,\r\n                                popupVisible: true\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    this.setState({\r\n                        addEditFormVisible: false\r\n                    });\r\n\r\n                    this.handleButtonRefreshClick();\r\n                });\r\n        }\r\n    }\r\n\r\n    // Закрытие формы добавления и редактирования режима доступности.\r\n    cancelAddEditFormClick() {\r\n        this.setState({\r\n            addEditFormVisible: false,\r\n            selectedAvailabilitySchedule: { ...this.state.previousAvailabilityItem },\r\n            focusedRowKey: this.state.previousAvailabilityItem.id\r\n        });\r\n    }\r\n\r\n    //#region ScheduleItems DataGrid functions\r\n    onScheduleItemsFocusedRowChanged(e: any) {\r\n        if (e == null || e.row == null) {\r\n            return;\r\n        }\r\n\r\n        var data = e.row.data;\r\n        if (data == null) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            selectedScheduleItem: { ...data },\r\n            scheduleItemsFocusedRowKey: data.weekDay\r\n        });\r\n    }\r\n\r\n    onScheduleItemsContentReady(e: any) {\r\n        var item = this.state.selectedScheduleItem;\r\n        var key = item.weekDay;\r\n        var keyExistsInFilteredRows = -1;\r\n        var filteredRows: any;\r\n\r\n        if (item.id != 0) {\r\n            this.setState({ previousScheduleItem: { ...item } });\r\n        }\r\n\r\n        // Пытаемся установить фокус на нужной нам записи.\r\n        this.setState({ selectedScheduleItem: { ...item }, scheduleItemsFocusedRowKey: key });\r\n\r\n        if (item != null && l_dataGrid_ScheduleItems != null) {\r\n            // Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n            l_dataGrid_ScheduleItems.instance.getDataSource().store()\r\n                .load({ filter: l_dataGrid_ScheduleItems.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    // Записываем результат во временную переменную filteredRows.\r\n                    filteredRows = result;\r\n                });\r\n\r\n            //Проверяем на наличие нужной нам записи в текущей выборке.\r\n            keyExistsInFilteredRows = filteredRows.find((x: any) => x.weekDay === key)\r\n        }\r\n\r\n        // Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись.\r\n        if (item == null || keyExistsInFilteredRows == null) {\r\n            if (l_dataGrid_ScheduleItems != null) {\r\n                // Определяем Key по нулевому индексу(нулевой индекс - это всегда первая запись).\r\n                key = l_dataGrid_ScheduleItems.instance.getKeyByRowIndex(0)\r\n            }\r\n        }\r\n\r\n        if (key != null && l_dataGrid_ScheduleItems != null) {\r\n            l_dataGrid_ScheduleItems.instance.getDataSource().store().load({ filter: ['weekDay', '=', key] })\r\n                .then((result: any) => {\r\n                    filteredRows = result;\r\n                });\r\n            item = filteredRows.find((x: any) => x.weekDay === key)\r\n        }\r\n\r\n        this.setState({ selectedScheduleItem: { ...item }, scheduleItemsFocusedRowKey: key });\r\n\r\n        // Проверяем, если список пустой, то область редактирования скрываем.\r\n        if (l_dataGrid_ScheduleItems != null) {\r\n            // Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n            l_dataGrid_ScheduleItems.instance.getDataSource().store()\r\n                .load({ filter: l_dataGrid_ScheduleItems.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    // Записываем результат во временную переменную filteredRows.\r\n                    filteredRows = result;\r\n                });\r\n\r\n            if (filteredRows.length === 0) {\r\n                this.setState({\r\n                    editScheduleItemVisible: false,\r\n                    removeScheduleItemVisible: false\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    // Создание элемента расписания.\r\n    addScheduleItem() {\r\n        this.getWeekDays();\r\n\r\n        this.setState({\r\n            previousScheduleItem: { ...this.state.selectedScheduleItem },\r\n            selectedScheduleItem: { id: 0 },\r\n            weekDaySelectBoxHidden: false,\r\n            scheduleItemFormVisible: true\r\n        });\r\n\r\n        this.resetScheduleItemForCorrect();\r\n    }\r\n\r\n    // Изменение элемента расписания.\r\n    editScheduleItem() {\r\n        this.getWeekDays();\r\n\r\n        this.setState({\r\n            previousScheduleItem: { ...this.state.selectedScheduleItem },\r\n            weekDaySelectBoxHidden: true,\r\n            scheduleItemFormVisible: true\r\n        });\r\n\r\n        this.resetScheduleItemForCorrect();\r\n    }\r\n\r\n    // Удаление элемента расписани.\r\n    removeScheduleItem() {\r\n        var items: ScheduleItem[] = this.state.editableScheduleItems;\r\n        items = Object.values(items);\r\n\r\n        var index = items.findIndex(x => x.weekDay === this.state.selectedScheduleItem.weekDay);\r\n        items.splice(index, 1);\r\n\r\n        this.setState({\r\n            editableScheduleItems: items\r\n        });\r\n\r\n        l_dataGrid_ScheduleItems.instance.refresh();\r\n    }\r\n    //#endregion\r\n    //#endregion\r\n\r\n    //#region ScheduleItem Form functions\r\n    // Сохранение элемента расписания.\r\n    saveScheduleItemClick() {\r\n        var items: ScheduleItem[] = this.state.editableScheduleItems;\r\n        items = Object.values(items);\r\n\r\n        var selectedItem: ScheduleItem = this.state.selectedScheduleItem;\r\n\r\n        if (this.checkScheduleItemForCorrect(selectedItem) === false) {\r\n            return;\r\n        }\r\n\r\n        //@ts-ignore\r\n        if (selectedItem.startTime >= selectedItem.endTime) {\r\n            this.setState({\r\n                scheduleItemIsCorrect: {\r\n                    weekDay: { isValid: true, message: '' },\r\n                    startTime: { isValid: false, message: getLocMsg(LocMsgId.Message_InvalidTime) },\r\n                    endTime: { isValid: false, message: getLocMsg(LocMsgId.Message_InvalidTime) }\r\n                }\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        if (selectedItem.scheduleId == null) {\r\n            // Если расписание создается.\r\n            selectedItem.scheduleId = this.state.selectedAvailabilitySchedule.id;\r\n\r\n            items.push(selectedItem);\r\n\r\n            this.setState({\r\n                scheduleItemsFocusedRowKey: selectedItem.weekDay\r\n            });\r\n        }\r\n        else {\r\n            // Если расписание обновляется.\r\n            var index = items.findIndex(x => x.weekDay === this.state.selectedScheduleItem.weekDay);\r\n            items[index] = this.state.selectedScheduleItem;\r\n        }\r\n\r\n        this.setState({\r\n            editableScheduleItems: items,\r\n            scheduleItemFormVisible: false,\r\n            editScheduleItemVisible: true,\r\n            removeScheduleItemVisible: true\r\n        });\r\n\r\n        l_dataGrid_ScheduleItems.instance.refresh();\r\n    }\r\n\r\n    cancelScheduleItemFormClick() {\r\n        this.setState({\r\n            selectedScheduleItem: this.state.previousScheduleItem,\r\n            scheduleItemFormVisible: false\r\n        });\r\n    }\r\n\r\n    // Выбор дня расписания.\r\n    onWeekDayValueChanged(e: any) {\r\n        var item = this.state.selectedScheduleItem;\r\n        item.weekDay = e.value;\r\n\r\n        this.setState({\r\n            selectedScheduleItem: item\r\n        });\r\n    }\r\n\r\n    // Выбор времени начала.\r\n    onStartTimeValueChanged(e: any) {\r\n        if (typeof e.value == 'object') {\r\n            e.value = e.value.toLocaleTimeString('en-US', { hour12: false });\r\n        }\r\n\r\n        var splittedStartTime = e.value.split(':');\r\n        var newStartTime = new Date();\r\n        newStartTime.setHours(splittedStartTime[0]);\r\n        newStartTime.setMinutes(splittedStartTime[1]);\r\n        newStartTime.setSeconds(0);\r\n        e.value = newStartTime.toLocaleTimeString();\r\n\r\n        var item = this.state.selectedScheduleItem;\r\n        item.startTime = e.value;\r\n\r\n        this.setState({\r\n            selectedScheduleItem: item\r\n        });\r\n    }\r\n\r\n    // Выбор времени завершения.\r\n    onEndTimeValueChanged(e: any) {\r\n        if (typeof e.value == 'object') {\r\n            e.value = e.value.toLocaleTimeString('en-US', { hour12: false });\r\n        }\r\n\r\n        var splittedEndTime = e.value.split(':');\r\n        var newEndTime = new Date();\r\n        newEndTime.setHours(splittedEndTime[0]);\r\n        newEndTime.setMinutes(splittedEndTime[1]);\r\n        newEndTime.setSeconds(0);\r\n        e.value = newEndTime.toLocaleTimeString();\r\n\r\n        var item = this.state.selectedScheduleItem;\r\n        item.endTime = e.value;\r\n\r\n        this.setState({\r\n            selectedScheduleItem: item\r\n        });\r\n    }\r\n\r\n    // Фильтрация доступных для заполнения расписания дней.\r\n    getWeekDays() {\r\n        var selectedDays: any = [];\r\n        this.state.editableScheduleItems.forEach((element) => selectedDays.push(element.weekDay));\r\n\r\n        var allowDays: any = [];\r\n\r\n        //@ts-ignore\r\n        this.state.weekDays.forEach((element) => {\r\n            //@ts-ignore\r\n            if (!selectedDays.some(x => x === element.id)) {\r\n                allowDays.push(element);\r\n            }\r\n        });\r\n\r\n        this.setState({ availableWeekDays: allowDays });\r\n    }\r\n\r\n    // Определение наименования дня недели.\r\n    getWeekDayName(e: ScheduleItem): string {\r\n        var weekDayName: string = \"\";\r\n\r\n        //@ts-ignore\r\n        this.state.weekDays.forEach((element) => {\r\n            if (element.id === e.weekDay) {\r\n                weekDayName = element.name;\r\n            }\r\n        });\r\n\r\n        return weekDayName;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Popup functions\r\n    // Закрытие popup.\r\n    hidePopup() {\r\n        this.setState({ popupVisible: false })\r\n    }\r\n\r\n    hidePopupForCriticalError() {\r\n        this.setState({\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: true\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region ConfirmForm functions\r\n    // Действие при подтверждении формы удаления.\r\n    confirmDeleteFormClick() {\r\n        this.closeConfirmFormClick();\r\n\r\n        //@ts-ignore\r\n        dbwrap.DeleteRow(\"AvailabilitySchedules\", this.state.selectedAvailabilitySchedule.id, null)\r\n            .then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.setState({\r\n                        popupTitle: getLocMsg(LocMsgId.PopupTitle_Information),\r\n                        popupMessage: getLocMsg(LocMsgId.Message_Success),\r\n                        popupVisible: true\r\n                    });\r\n                }\r\n                else {\r\n                    if (data.data.response != null && data.data.response.status == 452) {\r\n                        this.setState({\r\n                            popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                            popupMessage: getLocMsg(LocMsgId.Message_AvailabilityScheduleDeleteError),\r\n                            popupVisible: true\r\n                        });\r\n\r\n                        return;\r\n                    }\r\n                    else {\r\n                        let errorMessage: string = ''\r\n\r\n                        if (data.data.parsedErrObject == null) {\r\n                            errorMessage = data.data.request.responseText\r\n                        }\r\n                        else {\r\n                            errorMessage = data.data.parsedErrObject.message\r\n                        }\r\n\r\n                        this.setState({\r\n                            popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                            popupMessage: errorMessage,\r\n                            popupVisible: true\r\n                        });\r\n                    }\r\n                }\r\n\r\n                this.setState({\r\n                    selectedAvailabilitySchedule: { id: 0, name: '' }\r\n                });\r\n\r\n                this.handleButtonRefreshClick();\r\n            });\r\n    }\r\n\r\n    // Действие при отмене удаления.\r\n    closeConfirmFormClick() {\r\n        this.setState({\r\n            confirmDeleteFormVisible: false\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Validation functions\r\n    // Действие при изменении наименования.\r\n    onChangeName = (e: any) => {\r\n        var changedItem = this.state.selectedAvailabilitySchedule;\r\n\r\n        changedItem.name = e.component._changedValue;\r\n        this.applyChange(changedItem);\r\n    }\r\n\r\n    // Дествие при изменении.\r\n    onChangeComment = (e: any) => {\r\n        var changedItem = this.state.selectedAvailabilitySchedule;\r\n\r\n        changedItem.comment = e.component._changedValue;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n\r\n    // Применение изменений и пометка на сохранение.\r\n    applyChange(target: any) {\r\n        this.setState({ selectedAvailabilitySchedule: target })\r\n    }\r\n\r\n    // Сброс индикаторов проверки.\r\n    resetDataForCorrect() {\r\n        this.setState({ dataIsCorrect: { name: { isValid: true, message: '' } } })\r\n    }\r\n\r\n    // Проверка данных на корректность перед записью в БД.\r\n    checkDataForCorrect(model: AvailabilitySchedule): boolean {\r\n        let name = model.name == null ? '' : model.name.trim();\r\n\r\n        var nameIsValid = model.name != null && model.name != '' && model.name != undefined && model.name.trim().length != 0\r\n        var nameMessage = nameIsValid ? '' : getLocMsg(LocMsgId.Message_NameRequired)\r\n\r\n        if (nameIsValid) {\r\n            nameIsValid = this.state.availabilitySchedulesRows.find(x => x.name.toUpperCase() === name.toUpperCase() && x.id != model.id) === undefined\r\n            nameMessage = nameIsValid ? '' : getLocMsg(LocMsgId.Message_DuplicateName)\r\n        }\r\n\r\n        this.setState({ dataIsCorrect: { name: { isValid: nameIsValid, message: nameMessage } } })\r\n\r\n        if (model.scheduleItems != null && model.scheduleItems.length == 0) {\r\n            this.setState({\r\n                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                popupMessage: getLocMsg(LocMsgId.Message_ScheduleItemsRequired),\r\n                popupVisible: true\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if (nameIsValid === false) {\r\n            let comp = this.state.refComponents.txtName;\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus();\r\n            }\r\n        }\r\n\r\n        return nameIsValid;\r\n    }\r\n\r\n    // Сброс индикаторов проверки ScheduleItem.\r\n    resetScheduleItemForCorrect() {\r\n        this.setState({\r\n            scheduleItemIsCorrect: {\r\n                weekDay: { isValid: true, message: '' },\r\n                startTime: { isValid: true, message: '' },\r\n                endTime: { isValid: true, message: '' }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Проверка ScheduleItem на корректность перед записью в БД.\r\n    checkScheduleItemForCorrect(model: ScheduleItem): boolean {\r\n        var weekDayIsValid = model.weekDay != null && model.weekDay != undefined;\r\n        var weekDayMessage = weekDayIsValid ? '' : getLocMsg(LocMsgId.Message_WeekDayRequired);\r\n\r\n        var startTimeIsValid = model.startTime != null && model.startTime != undefined;\r\n        var startTimeMessage = startTimeIsValid ? '' : getLocMsg(LocMsgId.Message_StartTimeRequired);\r\n\r\n        var endTimeIsValid = model.endTime != null && model.endTime != undefined;\r\n        var endTimeMessage = endTimeIsValid ? '' : getLocMsg(LocMsgId.Message_EndTimeRequired);\r\n\r\n        this.setState({\r\n            scheduleItemIsCorrect: {\r\n                weekDay: { isValid: weekDayIsValid, message: weekDayMessage },\r\n                startTime: { isValid: startTimeIsValid, message: startTimeMessage },\r\n                endTime: { isValid: endTimeIsValid, message: endTimeMessage }\r\n            }\r\n        });\r\n\r\n        if (weekDayIsValid === false) {\r\n            let comp = this.state.refComponents.selectWeekDay;\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus();\r\n                comp.instance.open();\r\n            }\r\n        }\r\n        else if (startTimeIsValid === false) {\r\n            let comp = this.state.refComponents.dateStartTime;\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus();\r\n                comp.instance.open();\r\n            }\r\n        }\r\n        else if (endTimeIsValid === false) {\r\n            let comp = this.state.refComponents.dateEndTime;\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus();\r\n                comp.instance.open();\r\n            }\r\n        }\r\n\r\n        return weekDayIsValid && startTimeIsValid && endTimeIsValid;\r\n    }\r\n\r\n    // Проверка на выбор строки.\r\n    checkSelectedRow() {\r\n        if (this.state.focusedRowKey == 0) {\r\n            this.setState({\r\n                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                popupMessage: getLocMsg(LocMsgId.Message_NoSelectedAvailabilitySchedule),\r\n                popupVisible: true\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    //#endregion \r\n    //#endregion\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) {\r\n    return {}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: any) {\r\n    return {\r\n        actions: {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport const AvailabilitySchedulesDict = connect(mapStateToProps, mapDispatchToProps)(AvailabilitySchedulesDictClass);","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../../DbWrapper';\r\nimport getLocMsg, { LocMsgId } from '../../localization';\r\nimport DataGrid, {\r\n    Column,\r\n    ColumnChooser,\r\n    FilterRow,\r\n    HeaderFilter,\r\n    Lookup,\r\n    SearchPanel,\r\n    Selection,\r\n    Sorting,\r\n    Scrolling\r\n} from 'devextreme-react/data-grid';\r\nimport Button from 'devextreme-react/button';\r\nimport { MessagePopup } from '../../components/CommonComponents/MessagePopup';\r\nimport { ConfirmForm } from '../../components/CommonComponents/ConfirmForm';\r\nimport { TerminalSchedule } from '../../Models/TerminalSchedule';\r\nimport { Terminal } from '../../Models/Terminal';\r\nimport SelectBox from 'devextreme-react/select-box';\r\nimport TextBox from 'devextreme-react/text-box';\r\nimport { AvailabilitySchedule } from '../../Models/AvailabilitySchedule';\r\nimport { TypePointPlace } from '../../Models/TypePointPlace';\r\nimport { City } from '../../Models/City';\r\nimport { Area } from '../../Models/Area';\r\nimport { TerminalAttribute } from '../../Models/TerminalAttribute';\r\nimport { Attribute } from '../../Models/Attribute';\r\nimport { TerminalSchedulesModel } from './TerminalSchedulesModel';\r\n\r\ninterface TerminalSchedulesProps {\r\n\r\n}\r\n\r\ntype TerminalSchedulesState = {\r\n    terminalScheduleRows: TerminalSchedule[],\r\n    terminalRows: Terminal[],\r\n    availabilityScheduleRows: AvailabilitySchedule[],\r\n    areaRows: Area[],\r\n    cityRows: City[],\r\n    attributeRows: Attribute[],\r\n    terminalAttributeRows: TerminalAttribute[],\r\n    typePointPlaceRows: TypePointPlace[],\r\n\r\n    selectedAvailabilitySchedule: AvailabilitySchedule,\r\n    selectedAvailabilityScheduleId: number,\r\n\r\n    confirmSaveFormVisible: boolean,\r\n    rowData: any,\r\n\r\n    popupTitle: string,\r\n    popupMessage: string,\r\n    popupVisible: boolean,\r\n    popupVisibleForCriticalError: boolean,\r\n    hasCriticalError: boolean,\r\n\r\n    terminalSchedulesModel: TerminalSchedulesModel[],\r\n    selectedTerminalSchedulesModel: TerminalSchedulesModel,\r\n\r\n    dataGrid: any,\r\n\r\n    isVisibleEditArea: boolean,\r\n    isNeedSave: boolean,\r\n    isNeedClearSelection: boolean\r\n}\r\n\r\nvar l_dataGrid: any = null;\r\n\r\nexport class TerminalSchedulesDictClass extends React.Component<TerminalSchedulesProps, TerminalSchedulesState> {\r\n    constructor(props: TerminalSchedulesProps) {\r\n        super(props);\r\n        this.state = {\r\n            terminalScheduleRows: [],\r\n            terminalRows: [],\r\n            availabilityScheduleRows: [],\r\n            areaRows: [],\r\n            cityRows: [],\r\n            attributeRows: [],\r\n            terminalAttributeRows: [],\r\n            typePointPlaceRows: [],\r\n\r\n            selectedAvailabilitySchedule: { id: 0, name: '' },\r\n            selectedAvailabilityScheduleId: 0,\r\n\r\n            confirmSaveFormVisible: false,\r\n            rowData: [],\r\n\r\n            popupTitle: \"\",\r\n            popupMessage: \"\",\r\n            popupVisible: false,\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: false,\r\n\r\n            terminalSchedulesModel: [],\r\n            selectedTerminalSchedulesModel: { id: 0 },\r\n\r\n            dataGrid: {},\r\n\r\n            isVisibleEditArea: false,\r\n            isNeedSave: false,\r\n            isNeedClearSelection: false\r\n        };\r\n\r\n        //#region Toolbar buttons functions\r\n        this.handleButtonSaveClick = this.handleButtonSaveClick.bind(this);\r\n        this.handleButtonRefreshClick = this.handleButtonRefreshClick.bind(this);\r\n        //#endregion\r\n\r\n        //#region TerminalSchedules DataGrid functions\r\n        this.getTerminalSchedulesModelRows = this.getTerminalSchedulesModelRows.bind(this);\r\n        this.checkSelection = this.checkSelection.bind(this);\r\n        this.onSelectionChanged = this.onSelectionChanged.bind(this);\r\n        this.onRowClick = this.onRowClick.bind(this);\r\n        this.onCellClick = this.onCellClick.bind(this);\r\n        this.onOptionChanged = this.onOptionChanged.bind(this);\r\n        this.onContentReady = this.onContentReady.bind(this);\r\n        this.onInitialized = this.onInitialized.bind(this);\r\n        this.onValueChanged = this.onValueChanged.bind(this);\r\n        this.getDateTime = this.getDateTime.bind(this);\r\n        //#endregion\r\n\r\n        //#region Popup functions\r\n        this.hidePopup = this.hidePopup.bind(this);\r\n        this.hidePopupForCriticalError = this.hidePopupForCriticalError.bind(this);\r\n        //#endregion\r\n\r\n        //#region ConfirmForm functions\r\n        this.confirmFormClick = this.confirmFormClick.bind(this);\r\n        this.closeConfirmFormClick = this.closeConfirmFormClick.bind(this);\r\n        //#endregion\r\n    }\r\n\r\n    //#region Render\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                    {getLocMsg(LocMsgId.Menu_Dicts_Managements_TerminalSchedule)}\r\n                </h3>\r\n\r\n                <div hidden={this.state.hasCriticalError === false}>\r\n                    <div style={{ height: '80vh' }} className=\"d-flex flex-column justify-content-center align-items-center\">\r\n                        <h1>{getLocMsg(LocMsgId.Message_DirectoryNotAvailable)}</h1>\r\n                    </div>\r\n                </div>\r\n\r\n                <div hidden={this.state.hasCriticalError}>\r\n                    <Button icon=\"save\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNeedSave === false} hint={getLocMsg(LocMsgId.Button_Save)} onClick={this.handleButtonSaveClick} className='mb-2 mr-2' />\r\n                    <Button icon=\"refresh\" activeStateEnabled={false} hoverStateEnabled={false} hint={getLocMsg(LocMsgId.Button_Refresh)} onClick={this.handleButtonRefreshClick} className='mb-2 mr-2' />\r\n\r\n                    <div className=\"mt-3\" hidden={this.state.isVisibleEditArea === false}>\r\n                        <div className='row mb-2'>\r\n                            <div className='col-2 my-auto'>\r\n                                {getLocMsg(LocMsgId.Column_Schedule)}:\r\n                            </div>\r\n                            <div className='col'>\r\n                                <SelectBox items={this.state.availabilityScheduleRows} displayExpr=\"name\" placeholder={getLocMsg(LocMsgId.Message_NeedSelect)}\r\n                                    valueExpr=\"id\" onValueChanged={this.onValueChanged} value={this.state.selectedAvailabilitySchedule.id} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='row'>\r\n                            <div className='col-2 my-auto'>\r\n                                {getLocMsg(LocMsgId.Column_EditDate)}:\r\n                            </div>\r\n                            <div className='col'>\r\n                                <TextBox readOnly={true} value={this.getDateTime(this.state.selectedAvailabilitySchedule.date)} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <ConfirmForm title={getLocMsg(LocMsgId.Message_Confirm)} message={getLocMsg(LocMsgId.Message_ConfirmSaveTerminalSchedules) + this.state.rowData.length}\r\n                        visible={this.state.confirmSaveFormVisible} confirmButtonText={getLocMsg(LocMsgId.Button_Save)} confirmForm={this.confirmFormClick}\r\n                        cancelButtonText={getLocMsg(LocMsgId.Button_Cancel)} cancelForm={this.closeConfirmFormClick} />\r\n\r\n                    <MessagePopup title={this.state.popupTitle} hidePopup={this.hidePopup} message={this.state.popupMessage} visible={this.state.popupVisible} />\r\n                    <MessagePopup title={this.state.popupTitle} hidePopup={this.hidePopupForCriticalError} message={this.state.popupMessage} visible={this.state.popupVisibleForCriticalError} />\r\n\r\n                    <br />\r\n\r\n                    <DataGrid\r\n                        //@ts-ignore\r\n                        dataSource={this.state.terminalSchedulesModel}\r\n                        keyExpr=\"id\"\r\n                        showBorders={true}\r\n                        onSelectionChanged={this.onSelectionChanged}\r\n                        onRowClick={this.onRowClick}\r\n                        onCellClick={this.onCellClick}\r\n                        onOptionChanged={this.onOptionChanged}\r\n                        onContentReady={this.onContentReady}\r\n                        ref={(ref) => { l_dataGrid = ref }}\r\n                        onInitialized={this.onInitialized}>\r\n                        <Scrolling mode=\"virtual\" />\r\n                        <FilterRow visible={true} />\r\n                        <HeaderFilter visible={true} />\r\n                        <ColumnChooser enabled={true} mode=\"select\" />\r\n                        <Sorting mode=\"multiple\" />\r\n                        <SearchPanel visible={true} />\r\n\r\n                        <Column dataField=\"name\" dataType=\"string\" caption={getLocMsg(LocMsgId.Column_Name)} />\r\n                        <Column dataField=\"areaId\" caption={getLocMsg(LocMsgId.Column_Area)} alignment=\"left\">\r\n                            <Lookup dataSource={this.state.areaRows} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"cityId\" caption={getLocMsg(LocMsgId.Column_City)} alignment=\"left\">\r\n                            <Lookup dataSource={this.state.cityRows} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"address\" dataType=\"string\" caption={getLocMsg(LocMsgId.Column_Address)} />\r\n                        <Column dataField=\"attributeId\" caption={getLocMsg(LocMsgId.Column_AttributeType)} alignment=\"left\">\r\n                            <Lookup dataSource={this.state.attributeRows} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"typePointPlaceId\" caption={getLocMsg(LocMsgId.Column_TypePointPlace)} alignment=\"left\">\r\n                            <Lookup dataSource={this.state.typePointPlaceRows} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"scheduleId\" caption={getLocMsg(LocMsgId.Column_Schedule)} alignment=\"left\">\r\n                            <Lookup dataSource={this.state.availabilityScheduleRows} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"applyDate\" dataType=\"datetime\" caption={getLocMsg(LocMsgId.Column_ScheduleApplyDate)} alignment=\"left\" />\r\n                        <Selection\r\n                            deferred=\"true\"\r\n                            mode=\"multiple\"\r\n                            selectAllMode=\"allPages\"\r\n                            showCheckBoxesMode=\"always\"\r\n                            allowSelectAll=\"true\" />\r\n                    </DataGrid>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    //#endregion\r\n\r\n    //#region Code\r\n    componentDidMount() {\r\n        (async () => {\r\n            await dbwrap.GetRows(\"AvailabilitySchedules\", null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    var schedules: AvailabilitySchedule[] = [];\r\n\r\n                    // Приведение к локальному времени.\r\n                    data.data.forEach((element: AvailabilitySchedule) => {\r\n                        element.date = new Date(element.date + 'Z');\r\n                        schedules.push(element);\r\n                    });\r\n\r\n                    this.setState({ availabilityScheduleRows: schedules });\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                        popupMessage: errorMessage,\r\n                        popupVisibleForCriticalError: true\r\n                    });\r\n\r\n                    return;\r\n                }\r\n\r\n                (async () => {\r\n                    await dbwrap.GetRows(\"TerminalSchedules\", null).then((data: dbwrap.responseResult) => {\r\n                        if (data.success) {\r\n                            var terminalSchedules: TerminalSchedule[] = [];\r\n\r\n                            // Приведение к локальному времени.\r\n                            data.data.forEach((element: TerminalSchedule) => {\r\n                                element.date = new Date(element.date + 'Z');\r\n                                terminalSchedules.push(element);\r\n                            });\r\n\r\n                            this.setState({ terminalScheduleRows: terminalSchedules });\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                popupMessage: errorMessage,\r\n                                popupVisibleForCriticalError: true\r\n                            });\r\n\r\n                            return;\r\n                        }\r\n\r\n                        (async () => {\r\n                            await dbwrap.GetRows(\"Terminals\", null).then((data: dbwrap.responseResult) => {\r\n                                if (data.success) {\r\n                                    this.setState({ terminalRows: data.data });\r\n                                }\r\n                                else {\r\n                                    let errorMessage: string = ''\r\n\r\n                                    if (data.data.parsedErrObject == null) {\r\n                                        errorMessage = data.data.request.responseText\r\n                                    }\r\n                                    else {\r\n                                        errorMessage = data.data.parsedErrObject.message\r\n                                    }\r\n\r\n                                    this.setState({\r\n                                        popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                        popupMessage: errorMessage,\r\n                                        popupVisibleForCriticalError: true\r\n                                    });\r\n\r\n                                    return;\r\n                                }\r\n\r\n                                (async () => {\r\n                                    await dbwrap.GetRows(\"TypePointPlaces\", null).then((data: dbwrap.responseResult) => {\r\n                                        if (data.success) {\r\n                                            this.setState({ typePointPlaceRows: data.data });\r\n                                        }\r\n                                        else {\r\n                                            let errorMessage: string = ''\r\n\r\n                                            if (data.data.parsedErrObject == null) {\r\n                                                errorMessage = data.data.request.responseText\r\n                                            }\r\n                                            else {\r\n                                                errorMessage = data.data.parsedErrObject.message\r\n                                            }\r\n\r\n                                            this.setState({\r\n                                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                                popupMessage: errorMessage,\r\n                                                popupVisibleForCriticalError: true\r\n                                            });\r\n\r\n                                            return;\r\n                                        }\r\n\r\n                                        (async () => {\r\n                                            await dbwrap.GetRows(\"Cities\", null).then((data: dbwrap.responseResult) => {\r\n                                                if (data.success) {\r\n                                                    this.setState({ cityRows: data.data });\r\n                                                }\r\n                                                else {\r\n                                                    let errorMessage: string = ''\r\n\r\n                                                    if (data.data.parsedErrObject == null) {\r\n                                                        errorMessage = data.data.request.responseText\r\n                                                    }\r\n                                                    else {\r\n                                                        errorMessage = data.data.parsedErrObject.message\r\n                                                    }\r\n\r\n                                                    this.setState({\r\n                                                        popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                                        popupMessage: errorMessage,\r\n                                                        popupVisibleForCriticalError: true\r\n                                                    });\r\n\r\n                                                    return;\r\n                                                }\r\n\r\n                                                (async () => {\r\n                                                    await dbwrap.GetRows(\"Areas\", null).then((data: dbwrap.responseResult) => {\r\n                                                        if (data.success) {\r\n                                                            this.setState({ areaRows: data.data });\r\n                                                        }\r\n                                                        else {\r\n                                                            let errorMessage: string = ''\r\n\r\n                                                            if (data.data.parsedErrObject == null) {\r\n                                                                errorMessage = data.data.request.responseText\r\n                                                            }\r\n                                                            else {\r\n                                                                errorMessage = data.data.parsedErrObject.message\r\n                                                            }\r\n\r\n                                                            this.setState({\r\n                                                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                                                popupMessage: errorMessage,\r\n                                                                popupVisibleForCriticalError: true\r\n                                                            });\r\n\r\n                                                            return;\r\n                                                        }\r\n\r\n                                                        (async () => {\r\n                                                            await dbwrap.GetRows(\"Attributes\", null).then((data: dbwrap.responseResult) => {\r\n                                                                if (data.success) {\r\n                                                                    this.setState({ attributeRows: data.data });\r\n                                                                }\r\n                                                                else {\r\n                                                                    let errorMessage: string = ''\r\n\r\n                                                                    if (data.data.parsedErrObject == null) {\r\n                                                                        errorMessage = data.data.request.responseText\r\n                                                                    }\r\n                                                                    else {\r\n                                                                        errorMessage = data.data.parsedErrObject.message\r\n                                                                    }\r\n\r\n                                                                    this.setState({\r\n                                                                        popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                                                        popupMessage: errorMessage,\r\n                                                                        popupVisibleForCriticalError: true\r\n                                                                    });\r\n\r\n                                                                    return;\r\n                                                                }\r\n\r\n                                                                (async () => {\r\n                                                                    await dbwrap.GetRows(\"TerminalAttributes\", null).then((data: dbwrap.responseResult) => {\r\n                                                                        if (data.success) {\r\n                                                                            this.setState({ terminalAttributeRows: data.data });\r\n\r\n                                                                            this.getTerminalSchedulesModelRows();\r\n\r\n                                                                            this.render();\r\n                                                                        }\r\n                                                                        else {\r\n                                                                            let errorMessage: string = ''\r\n\r\n                                                                            if (data.data.parsedErrObject == null) {\r\n                                                                                errorMessage = data.data.request.responseText\r\n                                                                            }\r\n                                                                            else {\r\n                                                                                errorMessage = data.data.parsedErrObject.message\r\n                                                                            }\r\n\r\n                                                                            this.setState({\r\n                                                                                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                                                                                popupMessage: errorMessage,\r\n                                                                                popupVisibleForCriticalError: true\r\n                                                                            });\r\n                                                                        }\r\n                                                                    });\r\n                                                                })();\r\n                                                            });\r\n                                                        })();\r\n                                                    });\r\n                                                })();\r\n                                            });\r\n                                        })();\r\n                                    });\r\n                                })();\r\n                            });\r\n                        })();\r\n                    });\r\n                })();\r\n            });\r\n        })();\r\n    }\r\n\r\n    //#region Toolbar buttons functions\r\n    // Сохранения режима доступности устройства.\r\n    handleButtonSaveClick() {\r\n        var localThis = this;\r\n\r\n        if (this.state.selectedAvailabilitySchedule.id == 0) {\r\n            this.setState({\r\n                popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                popupMessage: getLocMsg(LocMsgId.Message_NoSelectedAvailabilitySchedule),\r\n                popupVisible: true\r\n            });\r\n            return;\r\n        }\r\n\r\n        //@ts-ignore\r\n        this.state.dataGrid.getSelectedRowsData().then((rowData) => {\r\n            // Показ формы подтверждения сохранения.\r\n            localThis.setState({\r\n                rowData: rowData,\r\n                confirmSaveFormVisible: true\r\n            })\r\n        });\r\n    }\r\n\r\n    // Обновление grid.\r\n    handleButtonRefreshClick() {\r\n        this.componentDidMount();\r\n    }\r\n    //#endregion\r\n\r\n    //#region TerminalSchedules DataGrid functions\r\n    // Метод формирования модели для datagrid.\r\n    getTerminalSchedulesModelRows() {\r\n        if (this.state.availabilityScheduleRows.length == 0 || this.state.terminalRows.length == 0)\r\n            return [];\r\n\r\n        var arr: TerminalSchedulesModel[] = [];\r\n\r\n        this.state.terminalRows.forEach((element) => {\r\n            var terminalScheduleItem = this.state.terminalScheduleRows.find(x => x.terminalId == element.id);\r\n            if (terminalScheduleItem == undefined)\r\n                terminalScheduleItem = {} as TerminalSchedule;\r\n            //@ts-ignore\r\n            var selectedAvailability = this.state.availabilityScheduleRows.find(x => x.id == terminalScheduleItem.scheduleId);\r\n            if (selectedAvailability == undefined)\r\n                selectedAvailability = {} as AvailabilitySchedule;\r\n\r\n            var city = this.state.cityRows.find(x => x.id == element.cityId);\r\n            if (city == undefined)\r\n                city = {} as City;\r\n\r\n            var terminalAttribute = this.state.terminalAttributeRows.find(x => x.terminalId == element.id);\r\n            if (terminalAttribute == undefined)\r\n                terminalAttribute = {} as TerminalAttribute\r\n\r\n            arr.push({\r\n                \"id\": element.id,\r\n                \"name\": element.name,\r\n                \"areaId\": city.areaId,\r\n                \"cityId\": element.cityId,\r\n                \"address\": element.address,\r\n                \"attributeId\": terminalAttribute.attributeId,\r\n                \"typePointPlaceId\": element.typePointPlaceId,\r\n                \"scheduleId\": selectedAvailability.id,\r\n                //@ts-ignore\r\n                \"applyDate\": terminalScheduleItem.date,\r\n                \"terminalScheduleId\": terminalScheduleItem.id\r\n            });\r\n        })\r\n\r\n        this.setState({\r\n            terminalSchedulesModel: arr\r\n        });\r\n\r\n        this.state.dataGrid.refresh();\r\n    }\r\n\r\n    checkSelection() {\r\n        var localThis = this;\r\n\r\n        //@ts-ignore\r\n        this.state.dataGrid.getSelectedRowsData().then((rowData) => {\r\n            if (rowData.length == 0) {\r\n                localThis.setState({ isNeedSave: false });\r\n            }\r\n            else if (rowData.length == 1 && rowData[0].scheduleId == localThis.state.selectedAvailabilitySchedule.id) {\r\n                localThis.setState({ isNeedSave: false });\r\n            }\r\n            else {\r\n                localThis.setState({ isNeedSave: true });\r\n            }\r\n        });\r\n    }\r\n\r\n    onSelectionChanged(e: any) {\r\n        this.checkSelection();\r\n    }\r\n\r\n    onRowClick(e: any) {\r\n        this.setState({\r\n            selectedTerminalSchedulesModel: { ...e.data },\r\n            isNeedSave: false\r\n        });\r\n\r\n        if (e.data.scheduleId != null) {\r\n            this.setState({ selectedAvailabilityScheduleId: e.data.scheduleId });\r\n            this.onValueChanged({ value: e.data.scheduleId });\r\n        }\r\n    }\r\n\r\n    onCellClick(e: any) {\r\n        if (e.columnIndex != 0 && e.rowType == 'data') {\r\n            this.state.dataGrid.clearSelection();\r\n\r\n            var checkbox = this.state.dataGrid.getCellElement(e.rowIndex, 0);\r\n            if (checkbox != null) {\r\n                checkbox.click();\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Сброс выбранных строк при после сортировки.\r\n        if (this.state.isNeedClearSelection) {\r\n            this.state.dataGrid.clearSelection();\r\n            this.setState({ isNeedClearSelection: false });\r\n            this.state.dataGrid.refresh();\r\n        }\r\n\r\n        var localThis = this;\r\n\r\n        if (e.rowType == 'data') {\r\n            this.checkSelection();\r\n        }\r\n\r\n        if (e.rowType == 'header') {\r\n            // Если нажат общий checkbox.\r\n            if (e.columnIndex == 0) {\r\n                var localThis = this;\r\n\r\n                //@ts-ignore\r\n                this.state.dataGrid.getSelectedRowsData().then((rowData) => {\r\n                    //@ts-ignore\r\n                    if (rowData.length == 0) {\r\n                        localThis.setState({ isNeedSave: false });\r\n                    }\r\n                    else {\r\n                        localThis.setState({ isNeedSave: true });\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                this.setState({ isNeedClearSelection: true });\r\n            }\r\n        }\r\n\r\n        if (e.rowType == 'filter') {\r\n            this.setState({ isNeedClearSelection: true });\r\n        }\r\n    }\r\n\r\n    onOptionChanged(e: any) {\r\n        if (e.fullName.endsWith('.filterValues')) {\r\n            this.setState({ isNeedClearSelection: true });\r\n        }\r\n    }\r\n\r\n    onContentReady(e: any) {\r\n        var item: TerminalSchedulesModel = { id: 0 };\r\n        var key = 0;\r\n        var keyExistsInFilteredRows = -1;\r\n        var filteredRows: any;\r\n\r\n        if (item != null && l_dataGrid != null) {\r\n            // Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n            l_dataGrid.instance.getDataSource().store()\r\n                .load({ filter: l_dataGrid.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    // Записываем результат во временную переменную filteredRows.\r\n                    filteredRows = result;\r\n                });\r\n\r\n            //Проверяем на наличие нужной нам записи в текущей выборке.\r\n            keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        // Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись.\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {\r\n            if (l_dataGrid != null) {\r\n                // Определяем Key по нулевому индексу(нулевой индекс - это всегда первая запись).\r\n                key = l_dataGrid.instance.getKeyByRowIndex(0)\r\n            }\r\n        }\r\n\r\n        if (key != null && l_dataGrid != null) {\r\n            l_dataGrid.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    filteredRows = result;\r\n                });\r\n            item = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        this.setState({ selectedTerminalSchedulesModel: { ...item } });\r\n\r\n        if (item.scheduleId != null) {\r\n            this.onValueChanged({ value: item.scheduleId });\r\n\r\n            var checkbox = this.state.dataGrid.getCellElement(0, 1);\r\n            if (checkbox != null) {\r\n                checkbox.click();\r\n            }\r\n        }\r\n\r\n        // Проверяем, если список пустой, то область редактирования скрываем.\r\n        if (l_dataGrid != null) {\r\n            // Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n            l_dataGrid.instance.getDataSource().store()\r\n                .load({ filter: l_dataGrid.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    // Записываем результат во временную переменную filteredRows.\r\n                    filteredRows = result;\r\n                });\r\n\r\n            if (filteredRows.length === 0) {\r\n                this.setState({\r\n                    isVisibleEditArea: false,\r\n                    isNeedSave: false\r\n                });\r\n            }\r\n            else {\r\n                this.setState({ isVisibleEditArea: true });\r\n            }\r\n        }\r\n    }\r\n\r\n    onInitialized(e: any) {\r\n        this.setState({\r\n            dataGrid: e.component\r\n        })\r\n    }\r\n\r\n    // Метод выбора режима доступности.\r\n    onValueChanged(e: any) {\r\n        if (this.state.selectedAvailabilitySchedule.id == 0) {\r\n            this.setState({\r\n                //@ts-ignore\r\n                selectedAvailabilitySchedule: this.state.availabilityScheduleRows.find(x => x.id == e.value),\r\n                selectedAvailabilityScheduleId: e.value\r\n            });\r\n        }\r\n        else {\r\n            var newSchedule = this.state.availabilityScheduleRows.find(x => x.id == e.value);\r\n\r\n            var localThis = this;\r\n\r\n            //@ts-ignore\r\n            this.state.dataGrid.getSelectedRowsData().then((rowData) => {\r\n                //@ts-ignore\r\n                if (rowData.length == 1) {\r\n                    //@ts-ignore\r\n                    if (rowData[0].scheduleId == newSchedule.id) {\r\n                        localThis.setState({ isNeedSave: false });\r\n                    }\r\n                    else {\r\n                        localThis.setState({ isNeedSave: true });\r\n                    }\r\n                }\r\n            });\r\n\r\n            this.setState({\r\n                //@ts-ignore\r\n                selectedAvailabilitySchedule: newSchedule\r\n            });\r\n        }\r\n    }\r\n\r\n    //@ts-ignore\r\n    getDateTime(data) {\r\n        if (data == null)\r\n            return \"\";\r\n\r\n        var date = new Date(data);\r\n        return date.toLocaleDateString() + \", \" + (\"0\" + date.getHours()).slice(-2) + \":\" + (\"0\" + date.getMinutes()).slice(-2);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Popup functions\r\n    // Закрытие popup.\r\n    hidePopup() {\r\n        this.setState({ popupVisible: false })\r\n    }\r\n\r\n    hidePopupForCriticalError() {\r\n        this.setState({\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: true\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region ConfirmForm functions\r\n    // Действие при подтверждении формы сохранения.\r\n    confirmFormClick() {\r\n        this.closeConfirmFormClick()\r\n\r\n        var terminalSchedules: TerminalSchedule[] = [];\r\n        this.state.rowData.forEach((element: TerminalSchedulesModel) => {\r\n            terminalSchedules.push({\r\n                \"id\": element.terminalScheduleId,\r\n                \"scheduleId\": this.state.selectedAvailabilitySchedule.id,\r\n                \"terminalId\": element.id\r\n            });\r\n        });\r\n        // Обновление TerminalSchedule.\r\n        dbwrap.UpdateRow(\"TerminalSchedules\", terminalSchedules, null).then((data: dbwrap.responseResult) => {\r\n            if (!data.success) {\r\n                let errorMessage: string = ''\r\n\r\n                if (data.data.parsedErrObject == null) {\r\n                    errorMessage = data.data.request.responseText\r\n                }\r\n                else {\r\n                    errorMessage = data.data.parsedErrObject.message\r\n                }\r\n\r\n                this.setState({\r\n                    popupTitle: getLocMsg(LocMsgId.PopupTitle_Error),\r\n                    popupMessage: errorMessage,\r\n                    popupVisible: true\r\n                });\r\n            }\r\n\r\n            this.handleButtonRefreshClick();\r\n        })\r\n    }\r\n\r\n    // Действие при отмене сохранения.\r\n    closeConfirmFormClick() {\r\n        this.setState({\r\n            confirmSaveFormVisible: false\r\n        });\r\n    }\r\n    //#endregion\r\n    //#endregion\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) {\r\n    return {}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: any) {\r\n    return {\r\n        actions: {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport const TerminalSchedulesDict = connect(mapStateToProps, mapDispatchToProps)(TerminalSchedulesDictClass);","import React from 'react';\r\nimport getLocMsg, { LocMsgId } from '../localization';\r\nimport Button from 'devextreme-react/button';\r\nimport * as dbwrap from '../DbWrapper';\r\nimport { GuiElementsId, GetGuiElementName } from '../Routes';\r\nimport { ErrorMsg, ErrorMsgProps,ErrorMsgFromDict } from '../ReusableComponents/DxStyleSimple';\r\nimport { MessageType,errorParser, ErrorEnum } from '../Errors';\r\nimport DataGrid, {\r\n    Column,\r\n    Grouping,\r\n    GroupPanel,\r\n    Paging,\r\n    SearchPanel,\r\n    ColumnChooser,\r\n    Editing,\r\n    Form,\r\n    Selection,\r\n    Toolbar,\r\n    Lookup,\r\n    Item,\r\n} from 'devextreme-react/data-grid';\r\nimport { Popup } from 'devextreme-react/popup';\r\nimport { IColProps } from 'devextreme-react/responsive-box';\r\n\r\n\r\nenum syncOperationType {\r\n    update,\r\n    add,\r\n    delete\r\n}\r\n\r\ninterface syncReportRow {\r\n    guiElementId: string,\r\n    guiElementCaption: string,\r\n    operation: string,\r\n    operationResult: dbwrap.responseResult\r\n}\r\n\r\nenum syncStage {\r\n    init,\r\n    syncStarted,\r\n    syncCompleted\r\n}\r\n\r\ninterface syncMenuState {\r\n    rowsToBeSynchronized: number,\r\n    processedRows: number,\r\n    reportRows: syncReportRow[],\r\n    stage: syncStage,\r\n    errorObj: any\r\n}\r\n\r\ninterface AppMenuObjectRow {\r\n    id?: number,\r\n    uid: string,\r\n    name: string\r\n}\r\n\r\nexport class SynchronizationMenuItems extends React.Component<any, syncMenuState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            rowsToBeSynchronized: -1,\r\n            processedRows: 0,\r\n            reportRows: [],\r\n            stage: syncStage.init,\r\n            errorObj: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    AddNewRow(row: AppMenuObjectRow) {\r\n        dbwrap.AddRow(\"ApplicationMenuObjects\", row, null).then((result: dbwrap.responseResult) => {\r\n            let newRow: syncReportRow = { guiElementId: row.uid, guiElementCaption: row.name, operation: \"Add\", operationResult: result };\r\n            let newRepRows = [...this.state.reportRows];\r\n            newRepRows.push(newRow);\r\n            this.setState({ reportRows: newRepRows });\r\n            this.IncrementProcessedRowCounter();\r\n        });\r\n    }\r\n\r\n    UpdateExistingRow(newRow: AppMenuObjectRow, oldRow: AppMenuObjectRow) {\r\n        if (oldRow.name != newRow.name) {\r\n            newRow.id = oldRow.id;\r\n            let updatedRow = { ...newRow };\r\n            dbwrap.UpdateRow(\"ApplicationMenuObjects\", [updatedRow], null).then((result: dbwrap.responseResult) => {\r\n                let newRow: syncReportRow = { guiElementId: updatedRow.uid, guiElementCaption: updatedRow.name, operation: \"Update\", operationResult: result };\r\n                let newRepRows = [...this.state.reportRows];\r\n                newRepRows.push(newRow);\r\n                this.setState({ reportRows: newRepRows });\r\n                this.IncrementProcessedRowCounter();\r\n            });\r\n        } else {\r\n            this.IncrementProcessedRowCounter();\r\n        }\r\n    }\r\n\r\n    DeleteMissingrow(row: AppMenuObjectRow) {\r\n        let id: number = row.id ? row.id : -1;\r\n        dbwrap.DeleteRow(\"ApplicationMenuObjects\", id, null).then((result: dbwrap.responseResult) => {\r\n            let newRow: syncReportRow = { guiElementId: row.uid, guiElementCaption: row.name, operation: \"Delete\", operationResult: result };\r\n            let newRepRows = [...this.state.reportRows];\r\n            newRepRows.push(newRow);\r\n            this.setState({ reportRows: newRepRows });\r\n            this.IncrementProcessedRowCounter();\r\n        });\r\n    }\r\n\r\n    IncrementProcessedRowCounter() {\r\n        this.setState({ processedRows: this.state.processedRows + 1 }, () => {\r\n            this.CheckCompleted();\r\n        });\r\n    }\r\n\r\n    CheckCompleted() {\r\n        if (this.state.processedRows === this.state.rowsToBeSynchronized) {\r\n            this.setState({ stage: syncStage.syncCompleted });\r\n        }\r\n    }\r\n\r\n    handleApplyBtnClick() {\r\n        this.setState({ reportRows: [], stage: syncStage.syncStarted });\r\n        dbwrap.GetRows(\"ApplicationMenuObjects\", null).then((result: dbwrap.responseResult) => {\r\n            if (result.success) {\r\n                let rwToBeSync = 0;\r\n                let srvRows = result.data as Array<AppMenuObjectRow>;\r\n                let clientUids: string[] = [];\r\n                for (let item in GuiElementsId) {\r\n                    let itemKey = GuiElementsId[item]\r\n                    if (isNaN(Number(item))) {\r\n                        if (item === \"None\") {\r\n                            continue;\r\n                        }\r\n                        clientUids.push(item);\r\n                        rwToBeSync++;\r\n                        //@ts-ignore\r\n                        let itmName = GetGuiElementName(itemKey);\r\n                        let newRow: AppMenuObjectRow = {\r\n                            uid: item,\r\n                            name: itmName\r\n                        };\r\n                        let currRow = srvRows.find((row) => row.uid === item);\r\n                        if (currRow) {\r\n                            this.UpdateExistingRow(newRow, currRow);\r\n                        }\r\n                        else {\r\n                            this.AddNewRow(newRow);\r\n                        }\r\n                    }\r\n                }\r\n                let rowsForDeleting = srvRows.filter((srvRow) => !clientUids.includes(srvRow.uid));\r\n                rwToBeSync += rowsForDeleting.length;\r\n                this.setState({ rowsToBeSynchronized: rwToBeSync });\r\n                rowsForDeleting.forEach((itm) => {\r\n                    this.DeleteMissingrow(itm);\r\n                });\r\n                this.CheckCompleted();\r\n            }\r\n            else {\r\n                //2do handleError\r\n            }\r\n        });\r\n    }\r\n \r\n    opResultRender(cellData: any) {\r\n        if (cellData.data.operationResult.success) {\r\n            return (<div>OK</div>);\r\n        } else {\r\n            let err = errorParser(cellData.data.operationResult.data);\r\n            return (<Button className=\"dx-toast-error\" text=\"Error\" \r\n                onClick={() => {\r\n                    this.setState({errorObj: err });\r\n                }} />);\r\n        }\r\n    }\r\n\r\n    renderReportRows() {\r\n        if (this.state.stage !== syncStage.init && this.state.reportRows.length > 0) {\r\n            return (\r\n                <DataGrid\r\n                    dataSource={this.state.reportRows}\r\n                >\r\n                    <Column dataField=\"guiElementId\" caption=\"Uid\"></Column>\r\n                    <Column dataField=\"guiElementCaption\" caption=\"Наименование\"></Column>\r\n                    <Column dataField=\"operation\" caption=\"Операция\"></Column>\r\n                    <Column dataField=\"operationResult.success\" caption=\"Результат\" cellRender={(data) => this.opResultRender(data)}></Column>\r\n                </DataGrid>\r\n            );\r\n        }\r\n        if (this.state.stage === syncStage.syncCompleted && this.state.reportRows.length == 0) {\r\n            let msg: ErrorMsgProps = { message: \"Необходимости в синхронизации элементов интерфейса нет. Все синхронизировано\", type: MessageType.success };\r\n            return ErrorMsg(msg);\r\n        }\r\n    }\r\n \r\n    renderErrDescription() {\r\n        if (this.state.errorObj) {\r\n                let parsedErrId = ErrorEnum.NoError;\r\n                if(this.state.errorObj.hasOwnProperty(\"parsedErrId\")){\r\n                    parsedErrId = this.state.errorObj.parsedErrId;    \r\n                }\r\n                return ErrorMsgFromDict(parsedErrId);\r\n        }\r\n    }\r\n\r\n    renderApplyBtn() {\r\n        if (this.state.stage === syncStage.init) {\r\n            return (\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <Button icon=\"check\" text={getLocMsg(LocMsgId.Button_Apply)} onClick={() => this.handleApplyBtnClick()} />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ display: \"inline-block\", textAlign: \"left\" }}>{getLocMsg(this.props.msgId)}</h3>\r\n                {this.renderApplyBtn()}\r\n                {this.renderErrDescription()}\r\n                {this.renderReportRows()}\r\n            </div>\r\n        );\r\n    }\r\n}","import * as React from \"react\";\r\nimport SidebarItem from './ReusableComponents/SidebarItem';\r\nimport { SidebarImages } from './commonTypes';\r\nimport { Route } from \"react-router-dom\";\r\nimport ContentPanelItem from './ReusableComponents/ContentPaneItem';\r\nimport { TableEditorPage } from './ReusableComponents/TableEditorPage';\r\nimport { SelectLang } from './ReusableComponents/SelectLang';\r\nimport getLocMsg, { LocMsgId } from './localization';\r\n//import getLocMsg from './localization';\r\nimport { Tables } from './DTO/Tables';\r\nimport { MenuItem } from \"devextreme-react/list\";\r\n\r\nimport { AvailabilitySchedulesDict } from './DictionaryComponents/AvailabilitySchedules/AvailabilitySchedulesDictClass';\r\nimport { TerminalSchedulesDict } from './DictionaryComponents/TerminalSchedules/TerminalSchedulesDictClass';\r\nimport { SynchronizationMenuItems } from './DictionaryComponents/SynchronizationMenuClass';\r\nimport { RoleConfigPage } from './Pages/RoleConfig';\r\nimport { Item } from \"devextreme-react/toolbar\";\r\nimport { IssueCausesDict } from './DictionaryComponents/IssueCauses/IssueCausesDictClass';\r\nimport { DeviceStatusDict } from './DictionaryComponents/DeviceStatus/DeviceStatusDictClass';\r\nimport { IssueEmailTemplatesDict } from './DictionaryComponents/IssueEmailTemplates/IssueEmailTemplatesDictClass';\r\nimport { UserRolesPage } from './Pages/UserRoles';\r\nimport {UploadTupPage} from './Pages/UploadTup';\r\nimport {TaskTupPage} from './Pages/TaskTup';\r\nimport { MailingListUsersDict } from './DictionaryComponents/MailingListUsers/MailingListUsersDictClass';\r\nimport { MailingGroupUsersDict } from './DictionaryComponents/MailingGroupUsers/MailingGroupUsersDictClass';\r\nimport { TerminalDirectoryDict } from './DictionaryComponents/TerminalDirectory/TerminalDirectoryDictClass';\r\nimport {store} from './index';\r\n\r\nexport enum GuiElementsId {\r\n    None,\r\n    Dict,\r\n    Dict_Location,\r\n    Dict_Location_Country,\r\n    Dict_Location_Area,\r\n    Dict_Location_City,\r\n    Dict_Management,\r\n    Dict_Management_AvailabilitySchedule,\r\n    Dict_Management_TerminalSchedule,\r\n    Dict_Management_TerminalDirectory,\r\n    AccessManagement,\r\n    AccessManagement_Role,\r\n    AccessManagement_UserRoles,\r\n    AccessManagement_Synchronize,\r\n    Dict_Monitoring,\r\n    Dict_Monitoring_Event,\r\n    Dict_Monitoring_TerminalStatesByDevice,\r\n    Dict_Monitoring_EmailTemplate,\r\n    Dict_Monitoring_MailingListUser,\r\n    Dict_Monitoring_MailingGroupUser,\r\n    TerminalManagement,\r\n    UpdateManagement,\r\n    UpdateManagement_Create,\r\n    UpdateManagement_Distribute,\r\n    UpdateManagement_Cancel,\r\n    Report,\r\n    Report_Autoupdates,\r\n    Report_Autoupdates_Upload,\r\n    Report_Autoupdates_List,\r\n}\r\n\r\nexport interface GuiElementName {\r\n    uid: GuiElementsId,\r\n    name: string\r\n}\r\n\r\nconst GuiElementNames: GuiElementName[] = [\r\n    { uid: GuiElementsId.Dict, name: getLocMsg(LocMsgId.Menu_Dicts) },\r\n    { uid: GuiElementsId.Dict_Location, name: getLocMsg(LocMsgId.Menu_Dicts_Locations) },\r\n    { uid: GuiElementsId.Dict_Location_Country, name: getLocMsg(LocMsgId.Menu_Dicts_Locations_Country) },\r\n    { uid: GuiElementsId.Dict_Location_Area, name: getLocMsg(LocMsgId.Menu_Dicts_Locations_Area) },\r\n    { uid: GuiElementsId.Dict_Location_City, name: getLocMsg(LocMsgId.Menu_Dicts_Locations_City) },\r\n    { uid: GuiElementsId.Dict_Management, name: getLocMsg(LocMsgId.Menu_Dicts_Managements) },\r\n    { uid: GuiElementsId.Dict_Management_AvailabilitySchedule, name: getLocMsg(LocMsgId.Menu_Dicts_Managements_AvailabilitySchedule) },\r\n    { uid: GuiElementsId.Dict_Management_TerminalSchedule, name: getLocMsg(LocMsgId.Menu_Dicts_Managements_TerminalSchedule) },\r\n    { uid: GuiElementsId.Dict_Management_TerminalDirectory, name: getLocMsg(LocMsgId.Menu_Dicts_Managements_TerminalDirectory) },\r\n    { uid: GuiElementsId.Dict_Monitoring, name: getLocMsg(LocMsgId.Menu_Dicts_Monitoring) },\r\n    { uid: GuiElementsId.Dict_Monitoring_Event, name: getLocMsg(LocMsgId.Menu_Dicts_Monitoring_Event) },\r\n    { uid: GuiElementsId.Dict_Monitoring_TerminalStatesByDevice, name: getLocMsg(LocMsgId.Menu_Dict_Monitoring_TerminalStatesByDevice) },\r\n    { uid: GuiElementsId.Dict_Monitoring_EmailTemplate, name: getLocMsg(LocMsgId.Menu_Dicts_Monitoring_EmailTemplate) },\r\n    { uid: GuiElementsId.Dict_Monitoring_TerminalStatesByDevice, name: getLocMsg(LocMsgId.Menu_Dicts_Monitoring_TerminalStatesByDevice) },\r\n    { uid: GuiElementsId.Dict_Monitoring_MailingListUser, name: getLocMsg(LocMsgId.Menu_Dicts_Monitoring_MailingListUser) },\r\n    { uid: GuiElementsId.Dict_Monitoring_MailingGroupUser, name: getLocMsg(LocMsgId.Menu_Dicts_Monitoring_MailingGroupUser) },\r\n    { uid: GuiElementsId.AccessManagement, name: getLocMsg(LocMsgId.Menu_AccessManagement) },\r\n    { uid: GuiElementsId.AccessManagement_Role, name: getLocMsg(LocMsgId.Menu_AccessManagement_Role) },\r\n    { uid: GuiElementsId.AccessManagement_UserRoles, name: getLocMsg(LocMsgId.Menu_AccessManagement_UserRoles) },\r\n    { uid: GuiElementsId.AccessManagement_Synchronize, name: getLocMsg(LocMsgId.Menu_AccessManagement_Syncronize) },\r\n    { uid: GuiElementsId.Report, name: getLocMsg(LocMsgId.Menu_Reports) },\r\n    { uid: GuiElementsId.Report_Autoupdates, name: getLocMsg(LocMsgId.Menu_Reports) },\r\n    { uid: GuiElementsId.Report_Autoupdates_Upload, name: getLocMsg(LocMsgId.Menu_Reports_AutoUpdates_Upload) },\r\n    { uid: GuiElementsId.Report_Autoupdates_List, name: getLocMsg(LocMsgId.Menu_Reports_AutoUpdates_Tup) },\r\n];\r\n\r\nexport function GetGuiElementName(uid: GuiElementsId) {\r\n    let result = GuiElementNames.find((itm) => itm.uid === uid);\r\n    if (result) {\r\n        return result.name;\r\n    }\r\n    return \"\";\r\n}\r\n\r\ninterface SideBarTreeViewNode {\r\n    ID: string;\r\n    expanded?: boolean;\r\n    categoryId?: string;\r\n    msgId: LocMsgId;\r\n    path: string;\r\n    icon?: string;\r\n    component?(): React.ReactNode;\r\n};\r\n\r\n\r\nfunction getPath(uid: GuiElementsId): string {\r\n    let result = \"\";\r\n    let uidStr = GuiElementsId[uid];\r\n    uidStr.split(\"_\").forEach(itm => {\r\n        result += \"/\" + itm;\r\n    });\r\n    return result;\r\n}\r\n\r\nfunction NewSidebarItem(uid: GuiElementsId,\r\n    parentUid: GuiElementsId,\r\n    msgID: LocMsgId,\r\n    icn: string,\r\n    comp?: () => React.ReactNode,\r\n    exp: boolean = false): SideBarTreeViewNode {\r\n    let result: SideBarTreeViewNode = {\r\n        ID: GuiElementsId[uid],\r\n        msgId: msgID,\r\n        path: getPath(uid),\r\n        expanded: exp,\r\n        component: comp\r\n    }\r\n    if (parentUid !== GuiElementsId.None) {\r\n        result.categoryId = GuiElementsId[parentUid]\r\n    }\r\n    if (icn) {\r\n        result.icon = icn;\r\n    }\r\n    return result;\r\n}\r\n\r\nexport const SidebarItems: SideBarTreeViewNode[] = [\r\n    NewSidebarItem(GuiElementsId.Dict, GuiElementsId.None, LocMsgId.Menu_Dicts, \"\", undefined, true),\r\n    NewSidebarItem(GuiElementsId.Dict_Location, GuiElementsId.Dict, LocMsgId.Menu_Dicts_Locations, \"box\", undefined, true),\r\n    NewSidebarItem(GuiElementsId.Dict_Location_Country, GuiElementsId.Dict_Location, LocMsgId.Menu_Dicts_Locations_Country, \"box\",\r\n        () => {\r\n            return (<TableEditorPage TableName={Tables.Countries} msgId={LocMsgId.Menu_Dicts_Locations_Country} />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Location_Area, GuiElementsId.Dict_Location, LocMsgId.Menu_Dicts_Locations_Area, \"box\",\r\n        () => {\r\n            return (<TableEditorPage TableName={Tables.Areas} msgId={LocMsgId.Menu_Dicts_Locations_Area} />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Location_City, GuiElementsId.Dict_Location, LocMsgId.Menu_Dicts_Locations_City, \"group\",\r\n        () => {\r\n            return (<TableEditorPage TableName={Tables.Cities} msgId={LocMsgId.Menu_Dicts_Locations_City} />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Management, GuiElementsId.Dict, LocMsgId.Menu_Dicts_Managements, \"box\", undefined, true),\r\n    NewSidebarItem(GuiElementsId.Dict_Management_AvailabilitySchedule, GuiElementsId.Dict_Management, LocMsgId.Menu_Dicts_Managements_AvailabilitySchedule, \"group\",\r\n        () => {\r\n            return (<AvailabilitySchedulesDict />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Management_TerminalSchedule, GuiElementsId.Dict_Management, LocMsgId.Menu_Dicts_Managements_TerminalSchedule, \"group\",\r\n        () => {\r\n            return (<TerminalSchedulesDict />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Management_TerminalDirectory, GuiElementsId.Dict_Management, LocMsgId.Menu_Dicts_Managements_TerminalDirectory, \"group\",\r\n        () => {\r\n            return (<TerminalDirectoryDict />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Monitoring, GuiElementsId.Dict, LocMsgId.Menu_Dicts_Monitoring, \"box\", undefined, true),\r\n    NewSidebarItem(GuiElementsId.Dict_Monitoring_Event, GuiElementsId.Dict_Monitoring, LocMsgId.Menu_Dicts_Monitoring_Event, \"group\",\r\n        () => {\r\n            return (<IssueCausesDict />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Monitoring_TerminalStatesByDevice, GuiElementsId.Dict_Monitoring, LocMsgId.Menu_Dicts_Monitoring_TerminalStatesByDevice, \"group\",\r\n        () => {\r\n            return (<DeviceStatusDict />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Monitoring_EmailTemplate, GuiElementsId.Dict_Monitoring, LocMsgId.Menu_Dicts_Monitoring_EmailTemplate, \"group\",\r\n        () => {\r\n            return (<IssueEmailTemplatesDict />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Monitoring_MailingListUser, GuiElementsId.Dict_Monitoring, LocMsgId.Menu_Dicts_Monitoring_MailingListUser, \"group\",\r\n        () => {\r\n            return (<MailingListUsersDict />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Dict_Monitoring_MailingGroupUser, GuiElementsId.Dict_Monitoring, LocMsgId.Menu_Dicts_Monitoring_MailingGroupUser, \"group\",\r\n        () => {\r\n            return (<MailingGroupUsersDict />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.AccessManagement, GuiElementsId.None, LocMsgId.Menu_AccessManagement, \"box\", undefined, true),\r\n    NewSidebarItem(GuiElementsId.AccessManagement_Role, GuiElementsId.AccessManagement, LocMsgId.Menu_AccessManagement_Role, \"box\",\r\n        () => {\r\n            return (<RoleConfigPage />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.AccessManagement_UserRoles, GuiElementsId.AccessManagement, LocMsgId.Menu_AccessManagement_UserRoles, \"box\",\r\n        () => {\r\n            return (<UserRolesPage />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.AccessManagement_Synchronize, GuiElementsId.AccessManagement, LocMsgId.Menu_AccessManagement_Syncronize, \"box\",\r\n        () => {\r\n            return (<SynchronizationMenuItems msgId={LocMsgId.PgSynchronization_Header} />)\r\n        }),\r\n    NewSidebarItem(GuiElementsId.Report, GuiElementsId.None, LocMsgId.Menu_Reports, \"\", undefined, true),\r\n    NewSidebarItem(GuiElementsId.Report_Autoupdates, GuiElementsId.Report, LocMsgId.Menu_Reports_AutoUpdates, \"box\", undefined, true),\r\n    NewSidebarItem(GuiElementsId.Report_Autoupdates_Upload, GuiElementsId.Report_Autoupdates, LocMsgId.Menu_Reports_AutoUpdates_Upload, \"box\", \r\n        () => {\r\n            return (<UploadTupPage />)\r\n        }),    \r\n    NewSidebarItem(GuiElementsId.Report_Autoupdates_List, GuiElementsId.Report_Autoupdates, LocMsgId.Menu_Reports_AutoUpdates_Tup, \"box\", \r\n    () => {\r\n        return (<TaskTupPage />)\r\n    }, true),\r\n];\r\n\r\n\r\nexport function GetSidebarItems() {\r\n    let st = store.getState();\r\n    if(!st.AppSettings.JWTTestResult){\r\n        return [];\r\n    }\r\n    let allItems = SidebarItems.map(itm => { return { ...itm, name: getLocMsg(itm.msgId) }; });\r\n    let result = allItems;\r\n    if(st.AppSettings.EnabledGuiItemIds.length>0){\r\n        let isSuperAdmin:boolean = st.AppSettings.EnabledGuiItemIds.some((itm)=>itm.superAdmin===true);\r\n        if(!isSuperAdmin){\r\n            //node leafs\r\n            let leafs = result.filter(itm=>{\r\n                let fitm = st.AppSettings.EnabledGuiItemIds.find(ei=>ei.uid === itm.ID)\r\n                return fitm;\r\n            }); \r\n            result = [...leafs];\r\n            let addParentNodes = (node:any) =>{\r\n                if(node.categoryId){\r\n                    if(result.findIndex(r=>r.ID === node.categoryId)===-1){\r\n                        let parentNode = allItems.find(itm=>itm.ID === node.categoryId);\r\n                        //@ts-ignore\r\n                        result.push(parentNode);\r\n                        addParentNodes(parentNode);\r\n                    }\r\n                }\r\n            }\r\n\r\n            leafs.forEach(itm=>{\r\n                addParentNodes(itm);\r\n            });   \r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function getRoutes() {\r\n    let allNestedItems = SidebarItems.filter(itm => itm.categoryId !== undefined);\r\n    let routes: any = [];\r\n    for (var i: number = 0; i < allNestedItems.length; i++) {\r\n        let nestedItem = allNestedItems[i];\r\n        let routeItem = <Route key={\"route\" + i} path={nestedItem.path} render={() => {\r\n            if (nestedItem.component) {\r\n                return nestedItem.component();\r\n            }\r\n        }} />;\r\n        routes.push(routeItem);\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            {routes}\r\n        </React.Fragment>\r\n    );\r\n}\r\n","import * as dbwrap from '../DbWrapper';\r\nimport { MessageType, errorParser, ErrorEnum, getProp } from '../Errors';\r\nimport { TableEditorMode } from './TableEditorPage';\r\n\r\nexport interface ICurrentRow {\r\n    oldRowValue: any;\r\n    newRowValue: any;\r\n}\r\n\r\ninterface ITableEditor {\r\n    tableName: string,\r\n    getCurrentRow(): ICurrentRow,\r\n    setCurrentRow(currRow: ICurrentRow): void,\r\n    getCurrentRowIndex(): number,\r\n    setCurrentRowIndex(idx: number): void,\r\n    onRowListChanged(rows: object[]): void,\r\n    onError(errorId: ErrorEnum): void\r\n}\r\n\r\nexport class TEControllerBase {\r\n    editorMode: TableEditorMode = TableEditorMode.None;\r\n    tblEditor: ITableEditor;\r\n    prevCurrRow: any;\r\n    rows: any[];\r\n    constructor(tableEditor: ITableEditor) {\r\n        this.tblEditor = tableEditor;\r\n        this.rows = [];\r\n        dbwrap.GetRows(this.tblEditor.tableName, null).then((result: dbwrap.responseResult) => {\r\n            if (result.success) {\r\n                this.rows = result.data;\r\n                this.tblEditor.onRowListChanged(result.data);\r\n                if (this.rows.length > 0) {\r\n                    //@ts-ignore\r\n                    let currRow = this.rows[0];\r\n                    this.HandleSelectNewCurrentRow(currRow);\r\n                }\r\n            } else {\r\n                this._handleError(result);\r\n            }\r\n        });\r\n        this.SaveChanges = this.SaveChanges.bind(this);\r\n        this.CancelChanges = this.CancelChanges.bind(this);\r\n        this.HandleFieldChange = this.HandleFieldChange.bind(this);\r\n        this.prevCurrRow = null;\r\n    }\r\n\r\n    HasChanges() {\r\n        let currRow = this.tblEditor.getCurrentRow();\r\n        for (let prop in currRow.oldRowValue) {\r\n            //@ts-ignore            \r\n            if (currRow.newRowValue[prop] !== currRow.oldRowValue[prop]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    _handleError(result: dbwrap.responseResult) {\r\n        let parsedErr = errorParser(result.data);\r\n        if (parsedErr.hasOwnProperty(\"parsedErrId\")) {\r\n            let errId: ErrorEnum = getProp(parsedErr, \"parsedErrId\");\r\n            this.tblEditor.onError(errId);\r\n            return;\r\n        }\r\n    }\r\n\r\n    _checkNotSavedChanges() {\r\n        if (this.HasChanges()) {\r\n            this.tblEditor.onError(ErrorEnum.NotSavedRowChanges);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    _getEmptyRow() {\r\n        let currRow = this.tblEditor.getCurrentRow();\r\n        let emptyRow = { ...currRow.oldRowValue };\r\n        for (let prop in currRow.oldRowValue) {\r\n            emptyRow[prop] = undefined;\r\n        }\r\n        return emptyRow;\r\n    }\r\n\r\n    HandleFieldChange(e: any, fieldName: string) {\r\n        let newValue = \"\";\r\n        if (e.event && e.event.currentTarget) {\r\n            newValue = e.event.currentTarget.value;\r\n        }\r\n        if (e.value) {\r\n            newValue = e.value;\r\n        }\r\n        //@ts-ignore\r\n        let currRow = this.tblEditor.getCurrentRow();\r\n        currRow.newRowValue[fieldName] = newValue;\r\n        this.tblEditor.setCurrentRow({ ...currRow });\r\n        if (this.editorMode !== TableEditorMode.AddRow) {\r\n            this.editorMode = TableEditorMode.EditRow;\r\n        }\r\n    }\r\n\r\n    HandleSelectNewCurrentRow(newRow: any): boolean {\r\n        if (this._checkNotSavedChanges()) {\r\n            return false;\r\n        }\r\n        this.tblEditor.setCurrentRow({ newRowValue: { ...newRow }, oldRowValue: newRow });\r\n        this.editorMode = TableEditorMode.None;\r\n        this.tblEditor.onError(ErrorEnum.NoError);\r\n        return true;\r\n    }\r\n\r\n    SaveChanges() {\r\n        if(!this.HasChanges()){\r\n            return dbwrap.returnOkResult();\r\n        }\r\n        if (this.editorMode === TableEditorMode.EditRow) {\r\n            let newRowVal = this.tblEditor.getCurrentRow().newRowValue;\r\n            return dbwrap.UpdateRow(this.tblEditor.tableName, newRowVal, null).then((result: dbwrap.responseResult) => {\r\n                if (result.success) {\r\n                    this.tblEditor.setCurrentRow({ newRowValue: newRowVal, oldRowValue: { ...newRowVal } });\r\n                    //@ts-ignore\r\n                    let crIdx = this.rows.findIndex((itm) => itm.id === newRowVal.id);\r\n                    //@ts-ignore\r\n                    this.rows[crIdx] = newRowVal;\r\n                    this.tblEditor.onRowListChanged(this.rows);\r\n                    this.editorMode = TableEditorMode.None;\r\n                    this.tblEditor.onError(ErrorEnum.NoError);\r\n                } else {\r\n                    this._handleError(result);\r\n                }\r\n                return result;\r\n            });\r\n        }\r\n        if (this.editorMode === TableEditorMode.AddRow) {\r\n            let newRowVal = this.tblEditor.getCurrentRow().newRowValue;\r\n            dbwrap.AddRow(this.tblEditor.tableName, newRowVal, null).then((result: dbwrap.responseResult) => {\r\n                if (result.success) {\r\n                    let newRow = result.data;\r\n                    //@ts-ignore\r\n                    this.rows.push(newRow);\r\n                    this.tblEditor.setCurrentRow({ newRowValue: { ...newRow }, oldRowValue: newRow });\r\n                    this.tblEditor.onRowListChanged(this.rows);\r\n                    this.tblEditor.setCurrentRowIndex(this.rows.length + 1);\r\n                    this.editorMode = TableEditorMode.None;\r\n                    this.tblEditor.onError(ErrorEnum.NoError);\r\n                } else {                    \r\n                    this._handleError(result);\r\n                }\r\n                return result;\r\n            });\r\n        }\r\n    }\r\n\r\n    CancelChanges() {\r\n        if (this.editorMode === TableEditorMode.AddRow) {\r\n            this.tblEditor.setCurrentRow(this.prevCurrRow);\r\n            this.editorMode = TableEditorMode.None;\r\n            this.tblEditor.onError(ErrorEnum.NoError);\r\n            return;\r\n        }\r\n        let oldRowVal = this.tblEditor.getCurrentRow().oldRowValue;\r\n        let currRowVal = { newRowValue: { ...oldRowVal }, oldRowValue: oldRowVal };\r\n        this.tblEditor.setCurrentRow(currRowVal);\r\n        this.editorMode = TableEditorMode.None;\r\n        this.tblEditor.onError(ErrorEnum.NoError);\r\n    }\r\n\r\n    AddRow() {\r\n        this.prevCurrRow = this.tblEditor.getCurrentRow();\r\n        let newRowVal = this._getEmptyRow();\r\n        let oldRowVal = { ...newRowVal };\r\n        let currRowVal = { newRowValue: newRowVal, oldRowValue: { ...newRowVal } };\r\n        this.tblEditor.setCurrentRow(currRowVal);\r\n        this.editorMode = TableEditorMode.AddRow;\r\n        this.tblEditor.onError(ErrorEnum.NoError);\r\n    }\r\n\r\n    DeleteRow() {\r\n        if (this.rows.length > 0) {\r\n            //@ts-ignore\r\n            let cr = this.tblEditor.getCurrentRow();\r\n            let rowUid = cr.oldRowValue.id;\r\n            dbwrap.DeleteRow(this.tblEditor.tableName, rowUid, null).then((result: dbwrap.responseResult) => {\r\n                if (result.success) {\r\n                    //@ts-ignore\r\n                    this.rows = this.rows.filter((itm) => itm.id !== rowUid);\r\n                    let currRowIndex = this.tblEditor.getCurrentRowIndex();\r\n                    if (currRowIndex > 0) {\r\n                        currRowIndex--;\r\n                    }\r\n                    let curRow = this.rows[currRowIndex] as object;\r\n                    this.tblEditor.setCurrentRow({ newRowValue: { ...curRow }, oldRowValue: curRow });\r\n                    this.tblEditor.onRowListChanged(this.rows);\r\n                    this.tblEditor.setCurrentRowIndex(currRowIndex);\r\n                    this.editorMode = TableEditorMode.None;\r\n                    this.tblEditor.onError(ErrorEnum.NoError);\r\n                } else {\r\n                    this._handleError(result);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport TreeView from 'devextreme-react/tree-view';\r\n\r\nexport interface ITVSelectorData{\r\n    allItems:any[],\r\n    oldSelectedIds:number[],\r\n    newSelectedIds:number[],\r\n    hasChanges:boolean\r\n}\r\n\r\ninterface ITreeViewSelectorProps {\r\n    dataPropName:string\r\n    displayExpr:string,\r\n    parentIdExpr?:string,\r\n    keyExpr:string,\r\n    parent:React.Component\r\n}\r\n\r\nexport class TreeViewSelector extends React.Component<ITreeViewSelectorProps, any> {\r\n    tvRef:object;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.tvRef = React.createRef();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        let s=1;\r\n    }\r\n    \r\n    handleSelectionChanged(e:any){\r\n        let newSelIds = this.getItems().newSelectedIds;\r\n        let oldSelIds = [...this.getItems().oldSelectedIds];\r\n        let addRemoveNestedNodes = ((parentNode:any,add:boolean)=>{\r\n            if(add){\r\n                //добавить вложенные элементы\r\n                parentNode.items.forEach((chItm:any)=>{\r\n                    if(!newSelIds.find(itm=>itm === chItm.itemData.id)){\r\n                        newSelIds.push(chItm.itemData.id);\r\n                    }\r\n                    addRemoveNestedNodes(chItm,true);\r\n                });\r\n            } else {\r\n                //удалить вложенные элементы\r\n                parentNode.items.forEach((chItm:any)=>{\r\n                    newSelIds = newSelIds.filter(itm=>itm !== chItm.itemData.id);\r\n                    addRemoveNestedNodes(chItm,false);\r\n                });\r\n            }\r\n        });\r\n        if(e.itemData.selected){\r\n            if(!newSelIds.find((itm:number)=>itm === e.itemData.id)){\r\n                newSelIds.push(e.itemData.id);\r\n                addRemoveNestedNodes(e.node,true);\r\n            }\r\n        } else {\r\n            newSelIds = newSelIds.filter((itm:any)=>itm !== e.itemData.id ); //удалить выбранный элемент из списка выделенных элементов\r\n            addRemoveNestedNodes(e.node,false);\r\n        }        \r\n        let hasChanges = newSelIds.length != oldSelIds.length;\r\n        if(!hasChanges){\r\n            oldSelIds.forEach((itm:number)=>{\r\n                if(newSelIds.findIndex((ni:any)=>ni === itm)=== -1){\r\n                    hasChanges = true;\r\n                }\r\n            });\r\n        }\r\n        let data = this.getItems();\r\n        data.newSelectedIds = newSelIds;\r\n        data.hasChanges = hasChanges;\r\n        console.log(data);\r\n        this.props.parent.setState({data});\r\n    }\r\n\r\n    getItems():ITVSelectorData{\r\n        let st:any =  this.props.parent.state;\r\n        let data = st[this.props.dataPropName] as ITVSelectorData;\r\n        return data;\r\n    }\r\n\r\n    render(){\r\n        return (\r\n                <TreeView \r\n                ref={(ref) => {\r\n                    if (ref) {\r\n                        this.tvRef = ref;\r\n                    }\r\n                }}\r\n                items={this.getItems().allItems}\r\n                dataStructure=\"plain\"\r\n                displayExpr={this.props.displayExpr}\r\n                parentIdExpr={this.props.parentIdExpr}\r\n                keyExpr={this.props.keyExpr}\r\n                selectByClick={true}\r\n                selectionMode=\"multiple\"\r\n                showCheckBoxesMode=\"normal\"\r\n                onItemSelectionChanged={(e) => this.handleSelectionChanged(e)}\r\n            />            \r\n        );\r\n\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport getLocMsg, { LocMsgId } from '../localization';\r\nimport Button from 'devextreme-react/button';\r\nimport { ButtonGroup } from 'devextreme-react/button-group';\r\n\r\nimport * as dbwrap from '../DbWrapper';\r\nimport { GuiElementsId, GetGuiElementName } from '../Routes';\r\nimport { ErrorMsg, ErrorMsgProps, ErrorMsgFromDict } from '../ReusableComponents/DxStyleSimple';\r\nimport { MessageType, errorParser, ErrorEnum, getProp } from '../Errors';\r\n\r\nimport DataGrid, {\r\n    Column,\r\n    Item,\r\n    Editing,\r\n    Selection,\r\n} from 'devextreme-react/data-grid';\r\n\r\nimport Form, {\r\n    Item as FormItem,\r\n    SimpleItem,\r\n    GroupItem,\r\n    Label,\r\n} from 'devextreme-react/form';\r\n\r\nimport { Popup } from 'devextreme-react/popup';\r\nimport { IColProps } from 'devextreme-react/responsive-box';\r\nimport { TableEditorMode } from '../ReusableComponents/TableEditorPage';\r\nimport { FormEditor } from '../ReusableComponents/FormEditor';\r\nimport { TEControllerBase, ICurrentRow } from '../ReusableComponents/TEControllerBase';\r\nimport TreeView from 'devextreme-react/tree-view';\r\nimport { GetSidebarItems } from '../Routes';\r\nimport { TreeListHeaderFilterTexts } from 'devextreme-react/tree-list';\r\nimport { TreeViewSelector, ITVSelectorData } from \"../ReusableComponents/TreeViewSelector\";\r\n\r\n\r\nexport interface RoleRow {\r\n    id?: number,\r\n    roleName: string,\r\n    roleDescription: string,\r\n    superAdmimn: boolean\r\n}\r\n\r\ninterface ApplicationMenuObjectsRow {\r\n    id?: number,\r\n    uid: string,\r\n    name: string,\r\n}\r\n\r\n\r\ninterface IAttrType {\r\n    id: number,\r\n    name: string\r\n}\r\n\r\ninterface IAttribute {\r\n    treeId: number,\r\n    id: number,\r\n    parentId?: number,\r\n    name: string,\r\n    expanded: boolean,\r\n    selected: boolean\r\n}\r\n\r\ninterface ICurrRowTVSelection {\r\n    oldAttrItems: IAttribute[],\r\n    newAttrItems: IAttribute[],\r\n    oldGuiItems: any[],\r\n    newGuiItems: any[]\r\n}\r\n\r\n\r\ninterface RoleConfigState {\r\n    width: number;\r\n    height: number;\r\n    teController: TEControllerBase,\r\n    currentRowIndex: number,\r\n    currentRow: ICurrentRow,\r\n    roleRows: RoleRow[],\r\n    error: ErrorEnum,\r\n    tvGuiData: ITVSelectorData,\r\n    tvAttrData: ITVSelectorData\r\n}\r\n\r\nexport class RoleConfigPage extends React.Component<any, RoleConfigState> {\r\n    tableName: string = \"Roles\";\r\n    gridRef: object;\r\n    formRef: any;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            teController: new TEControllerBase(this),\r\n            currentRowIndex: -1,\r\n            currentRow: { newRowValue: {}, oldRowValue: {} },\r\n            roleRows: [],\r\n            error: ErrorEnum.NoError,\r\n            tvGuiData: { allItems: [], newSelectedIds: [], oldSelectedIds: [], hasChanges: false },\r\n            tvAttrData: { allItems: [], newSelectedIds: [], oldSelectedIds: [], hasChanges: false },\r\n        }\r\n        this.gridRef = React.createRef();\r\n        this.formRef = React.createRef();\r\n        this.updateWindowSize = this.updateWindowSize.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.updateWindowSize);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateWindowSize);\r\n    }\r\n\r\n    updateWindowSize(): void {\r\n        this.setState({ width: window.innerWidth, height: window.innerHeight })\r\n    }\r\n\r\n    loadTvGuiData() {\r\n        let appMenuObjectsRows: any[];\r\n        let allGuiItems = [...GetSidebarItems()];\r\n        return dbwrap.GetRows(\"ApplicationMenuObjects\", null)\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    return result;\r\n                }\r\n                appMenuObjectsRows = result.data;\r\n                return dbwrap.GetRows(\"RoleMenuObjects\", null)\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    return result;\r\n                }\r\n                let currGuiItems = result.data.filter((itm: any) => itm.roleId === this.state.currentRow.oldRowValue.id);\r\n                allGuiItems.forEach((guiElmNode: any) => {\r\n                    let menuItem = appMenuObjectsRows.find(m => m.uid === guiElmNode.ID);\r\n                    if (menuItem) {\r\n                        guiElmNode.id = menuItem.id;\r\n                    }\r\n                    if (guiElmNode.component) {\r\n                        if (!menuItem) {\r\n                            return;\r\n                        }\r\n                        let menuId = menuItem.id;\r\n                        let ci = currGuiItems.find((cr: any) => cr.menuId === menuId);\r\n                        if (ci) {\r\n                            guiElmNode.selected = true;\r\n                        } else {\r\n                            guiElmNode.selected = false;\r\n                        }\r\n                    }\r\n                });\r\n                let selIds = allGuiItems.filter((r: any) => r.selected).map((r: any) => r.id) as number[];\r\n                this.setState({ tvGuiData: { allItems: allGuiItems, newSelectedIds: [...selIds], oldSelectedIds: selIds, hasChanges: false } });\r\n                return result;\r\n            });\r\n    }\r\n\r\n    loadTvAttrData() {\r\n        let attrTypeRows: any[] = [];\r\n        let attributeRows: any[] = [];\r\n        return dbwrap.GetRows(\"AttributeTypes\", null)\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    return result;\r\n                }\r\n                attrTypeRows = result.data;\r\n                return dbwrap.GetRows(\"Attributes\", null)\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    return result;\r\n                }\r\n                attributeRows = result.data;\r\n                return dbwrap.GetRows(\"RoleAttributes\", null)\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    return result;\r\n                }\r\n                let attrs: any[] = [];\r\n                attributeRows.forEach((itm) => {\r\n                    attrs.push({ treeId: itm.id * -1, id: itm.id, parentId: itm.typeId, name: itm.name });\r\n                });\r\n                attrTypeRows.forEach((itm) => {\r\n                    attrs.push({ treeId: itm.id, id: itm.id, parentId: undefined, name: itm.name, expanded: true });\r\n                });\r\n                result.data.filter((roleAttr:any)=>roleAttr.roleId === this.state.currentRow.oldRowValue.id)\r\n                            .forEach((roleAttr:any)=>{\r\n                                let attr = attrs.find((itm:any)=> itm.id === roleAttr.attributeId);\r\n                                if(attr){\r\n                                    attr.selected = true;\r\n                                }\r\n                });\r\n                let selIds = attrs.filter((r: any) => r.selected).map((r: any) => r.id) as number[];\r\n                this.setState({ tvAttrData: { allItems: attrs, newSelectedIds: [...selIds], oldSelectedIds: selIds, hasChanges: false } });\r\n                return result;\r\n            });\r\n    }\r\n\r\n    loadTvData() {\r\n        this.loadTvGuiData()\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    this.handleError(result);\r\n                }\r\n                return this.loadTvAttrData();\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    this.handleError(result);\r\n                    return;\r\n                }\r\n                if(this.formRef && this.formRef.instance){\r\n                    let editor = this.formRef.instance.getEditor(\"roleName\");\r\n                    editor.focus();    \r\n                }        \r\n            });\r\n    }\r\n\r\n    handleAddBtnClick() {\r\n        this.state.teController.AddRow();\r\n    }\r\n\r\n    handleDeleteBtnClick() {\r\n        this.state.teController.DeleteRow();\r\n    }\r\n\r\n    saveGuiTvSelection() {\r\n        if (!this.state.tvGuiData.hasChanges) {\r\n            return dbwrap.returnOkResult();\r\n        }\r\n        let nodesForAdding = this.state.tvGuiData.allItems.filter(itm => this.state.tvGuiData.newSelectedIds.includes(itm.id));\r\n        let addNestedNodes = ((parentNode:any)=>{\r\n            let childNodes = this.state.tvGuiData.allItems.filter(itm=>itm.categoryId === parentNode.ID);\r\n            childNodes.forEach((nestNode:any)=>{\r\n                if(!nodesForAdding.find(itm=>itm.ID === nestNode.ID)){\r\n                    nodesForAdding.push(nestNode);\r\n                }\r\n                addNestedNodes(nestNode);\r\n            });\r\n        });\r\n        nodesForAdding.forEach(node=>addNestedNodes(node));\r\n        let currRoleId = this.state.currentRow.oldRowValue.id;\r\n        return dbwrap.GetRows(\"RoleMenuObjects\", null)\r\n            .then((result: dbwrap.responseResult) => {\r\n                //чтение таблицы RoleMenuObjects для того, чтобы получить список id по текущей роли (для удаления)\r\n                if (!result.success) {\r\n                    throw result;\r\n                }\r\n                let RoleMenuObjIdsForDeleting: any[] = [];\r\n                result.data.forEach((elm: any) => {\r\n                    if (elm.roleId === currRoleId) {\r\n                        RoleMenuObjIdsForDeleting.push(elm.id);\r\n                    }\r\n                });\r\n                //удаление старых записей из таблицы RoleMenuObjects\r\n                return dbwrap.DeleteRow(\"RoleMenuObjects\", RoleMenuObjIdsForDeleting, null);\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    throw result;\r\n                }\r\n                //Подготовка новых записей для вставки в таблицу RoleMenuObjects\r\n                let roleMenuObjRowsForAdding: any[] = [];\r\n                nodesForAdding.forEach((node: any) => {\r\n                    let newRow = { roleId: currRoleId, menuId: node.id };\r\n                    roleMenuObjRowsForAdding.push(newRow);\r\n                });\r\n                return dbwrap.AddRowRange(\"RoleMenuObjects\", roleMenuObjRowsForAdding, null);\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                return result;\r\n            })\r\n            .catch((result: dbwrap.responseResult) => {\r\n                this.handleError(result);\r\n                return result;\r\n            });\r\n    }\r\n\r\n    saveAttrTvSelection() {\r\n        if (!this.state.tvAttrData.hasChanges) {\r\n            return dbwrap.returnOkResult();\r\n        }\r\n        let nodesForAdding = this.state.tvAttrData.allItems.filter(itm => this.state.tvAttrData.newSelectedIds.includes(itm.id));\r\n        let currRoleId = this.state.currentRow.oldRowValue.id;\r\n\r\n        return dbwrap.GetRows(\"RoleAttributes\", null)\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    throw result;\r\n                }\r\n                let rowsForDeleting: any[] = [];\r\n                result.data.forEach((elm: any) => {\r\n                    if (elm.roleId === currRoleId) {\r\n                        rowsForDeleting.push(elm.id);\r\n                    }\r\n                });\r\n                //удаление старых записей из таблицы RoleMenuObjects\r\n                return dbwrap.DeleteRow(\"RoleAttributes\", rowsForDeleting, null);\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    throw result;\r\n                }\r\n                let rowsForAdding:any[] = [];\r\n                nodesForAdding.forEach((node: any) => {\r\n                    let newRow = { roleId: currRoleId, attributeId: node.id };\r\n                    rowsForAdding.push(newRow);\r\n                });\r\n                return dbwrap.AddRowRange(\"RoleAttributes\", rowsForAdding, null);\r\n            })\r\n            .catch((result: dbwrap.responseResult) => {\r\n                this.handleError(result);\r\n                return result;\r\n            });\r\n    }\r\n\r\n    saveTvSelection() {\r\n        return this.saveGuiTvSelection()\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    return result;\r\n                }\r\n                return this.saveAttrTvSelection();\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    return result;\r\n                }\r\n                let newTvGuiData = { ...this.state.tvGuiData };\r\n                newTvGuiData.oldSelectedIds = this.state.tvGuiData.newSelectedIds;\r\n                newTvGuiData.hasChanges = false;\r\n                let newTvAttrData = { ...this.state.tvAttrData };\r\n                newTvAttrData.oldSelectedIds = this.state.tvAttrData.newSelectedIds;\r\n                newTvAttrData.hasChanges = false;\r\n                this.setState({ tvGuiData: newTvGuiData, tvAttrData: newTvAttrData });\r\n            })\r\n    }\r\n\r\n\r\n    handleSaveBtnClick() {\r\n        this.state.teController.SaveChanges()\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    throw result;\r\n                }\r\n                return this.saveTvSelection()\r\n            })\r\n    }\r\n\r\n\r\n    handleCancelBtnClick() {\r\n        this.state.teController.CancelChanges();\r\n        this.loadTvData();\r\n    }\r\n\r\n    handleFieldChange(e: any, dataField: string) {\r\n        this.state.teController.HandleFieldChange(e, dataField)\r\n    }\r\n\r\n\r\n    handleError(result: dbwrap.responseResult) {\r\n        let parsedErr = errorParser(result.data);\r\n        if (parsedErr.hasOwnProperty(\"parsedErrId\")) {\r\n            let errId: ErrorEnum = getProp(parsedErr, \"parsedErrId\");\r\n            this.onError(errId);\r\n            return;\r\n        }\r\n    }\r\n\r\n    hasChanges() {\r\n        let rv = this.state.teController.HasChanges() || this.state.tvGuiData.hasChanges || this.state.tvAttrData.hasChanges;\r\n        return rv;\r\n    }\r\n\r\n    onRowListChanged(rows: []) {\r\n        let currInd = this.state.currentRowIndex;\r\n        if (currInd === -1 && rows.length > 0) {\r\n            currInd = 0;\r\n            this.setState({ roleRows: rows as RoleRow[], currentRowIndex: currInd });\r\n            return;\r\n        }\r\n        let newRows = rows as RoleRow[];\r\n        this.setState({ roleRows: newRows });\r\n        //@ts-ignore\r\n        this.getGrid().refresh();\r\n    }\r\n\r\n    onError(errorId: ErrorEnum) {\r\n        this.setState({ error: errorId })\r\n    }\r\n\r\n    renderDataGrid() {\r\n        if (this.state.currentRowIndex === -1) {\r\n            return (<div />);\r\n        }\r\n        return (\r\n            <DataGrid\r\n                ref={(gref) => {\r\n                    if (gref) {\r\n                        this.gridRef = gref;\r\n                    }\r\n                }}\r\n                style={{ height: this.getHeight(\"grid\") }}\r\n                dataSource={this.state.roleRows}\r\n                focusedRowEnabled={true}\r\n                focusedRowIndex={this.state.currentRowIndex}\r\n                keyExpr=\"id\"\r\n                onContentReady={() => this.loadTvData()}\r\n                onFocusedRowChanging={(e) => {\r\n                    let newRow = this.state.roleRows[e.newRowIndex];\r\n                    if (this.hasChanges()) {\r\n                        this.onError(ErrorEnum.NotSavedRowChanges);\r\n                        return;\r\n                    }\r\n                    let bresult = this.state.teController.HandleSelectNewCurrentRow(newRow);\r\n                    if (bresult) {\r\n                        this.setState({ currentRowIndex: e.newRowIndex }, () => this.loadTvData());\r\n                    }\r\n                }}\r\n            >\r\n                <Selection mode=\"single\" />\r\n                <Column dataField=\"id\" caption=\"id\"></Column>\r\n                <Column dataField=\"roleName\" caption={getLocMsg(LocMsgId.Column_Name)} ></Column>\r\n                <Column dataField=\"roleDescription\" caption={getLocMsg(LocMsgId.Column_Description)}></Column>\r\n                <Column dataField=\"superAdmin\" caption={getLocMsg(LocMsgId.Column_SuperAdmin)}></Column>\r\n            </DataGrid>\r\n        );\r\n    }\r\n\r\n    renderFormFld(dataField: string, caption: string = \"\", disabled: boolean = false, width: number = 0, editorType: string = \"dxTextBox\") {\r\n        if (!caption) {\r\n            caption = dataField;\r\n        }\r\n        if (disabled) {\r\n            return (\r\n                <SimpleItem dataField={dataField} editorType={editorType} editorOptions={{ disabled: true, width: width }}>\r\n                    <Label text={caption} />\r\n                </SimpleItem>\r\n            );\r\n        } else {\r\n            let edOpt = { onInput: (e: any) => this.handleFieldChange(e, dataField), };\r\n            if (width > 0) {\r\n                //@ts-ignore\r\n                edOpt.width = width;\r\n            }\r\n            return (\r\n                <SimpleItem dataField={dataField} editorType={editorType}\r\n                    editorOptions={edOpt} >\r\n                    <Label text={caption} />\r\n                </SimpleItem>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderForm() {\r\n        return (\r\n            <Form id=\"FormEditor\" formData={this.state.currentRow.newRowValue} minColWidth={100}\r\n                ref={(frmRef:any)=>{ this.formRef = frmRef}}\r\n                style={{ marginTop: \"20px\", marginBottom: \"20px\" }} >\r\n                <GroupItem colCount={\"auto\"}>\r\n                    {this.renderFormFld(\"id\", \"\", true, 100)}\r\n                    {this.renderFormFld(\"roleName\", getLocMsg(LocMsgId.Column_Name), false, 300)}\r\n                </GroupItem>\r\n                <GroupItem colCount={\"auto\"}>\r\n                    {this.renderFormFld(\"roleDescription\", getLocMsg(LocMsgId.Column_Description), false, 380)}\r\n                    {this.renderFormFld(\"superAdmin\", getLocMsg(LocMsgId.Column_SuperAdmin), false, 100, \"dxCheckBox\")}\r\n                </GroupItem>\r\n            </Form>\r\n        );\r\n    }\r\n\r\n    renderGuiElmTree() {\r\n        return (\r\n            <TreeViewSelector\r\n                parent={this}\r\n                dataPropName=\"tvGuiData\"\r\n                displayExpr=\"name\"\r\n                parentIdExpr=\"categoryId\"\r\n                keyExpr=\"ID\"\r\n            />\r\n        );\r\n    }\r\n\r\n    renderAttrTree() {\r\n        return (\r\n            <TreeViewSelector\r\n                parent={this}\r\n                dataPropName=\"tvAttrData\"\r\n                displayExpr=\"name\"\r\n                parentIdExpr=\"parentId\"\r\n                keyExpr=\"treeId\"\r\n            />\r\n        );\r\n    }\r\n\r\n\r\n    render() {\r\n        let rowSelected = (this.state.currentRowIndex != -1);\r\n        let btnAddStyle = this.state.teController.editorMode === TableEditorMode.AddRow ? { borderColor: \"lightGreen\", borderWidth: \"4px\" } : {};\r\n        let btnDeleteStyle = rowSelected && this.state.teController.editorMode !== TableEditorMode.AddRow ? { visibility: \"visible\" } : { visibility: \"hidden\" };\r\n        let disableSaveBtn = !this.hasChanges();\r\n        let disableCancelBtn = !this.hasChanges() && this.state.teController.editorMode !== TableEditorMode.AddRow;\r\n        return (\r\n            <div id=\"rolePage\">\r\n                <h3 style={{ display: \"inline-block\", textAlign: \"left\" }}>{getLocMsg(LocMsgId.Menu_AccessManagement_Role)}</h3>\r\n                <ButtonGroup style={{ marginLeft: \"20px\" }}>\r\n                    <Item key=\"btnAdd\" location=\"before\" disabled={this.state.teController.editorMode === TableEditorMode.AddRow} >\r\n                        <Button style={btnAddStyle} icon=\"add\" onClick={() => this.handleAddBtnClick()} />\r\n                    </Item>\r\n                    <Item key=\"btnDelete\" location=\"before\">\r\n                        <Button style={btnDeleteStyle} icon=\"remove\" onClick={() => this.handleDeleteBtnClick()} />\r\n                    </Item>\r\n                </ButtonGroup>\r\n                {this.renderForm()}\r\n                <div id=\"tViewsDiv\" style={{ height: this.getHeight(\"tview\"), display: \"flex\", flexDirection: \"row\" }} >\r\n                    <div id=\"tvGuiDiv\" className=\"dx-theme-border-color\" style={{ width: \"50%\", height: \"100%\", border: \"solid 1px\" }}>\r\n                        <div style={{ fontWeight: \"bold\", marginLeft: \"10px\", height: \"20px\" }}>GUI Элементы</div>\r\n                        <div style={{ height: this.getHeight(\"tview\") - 20 - 5 }}>\r\n                            {this.renderGuiElmTree()}\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"tvAttrDiv\" className=\"dx-theme-border-color\" style={{ width: \"48%\", height: \"100%\", border: \"solid 1px\", marginLeft: \"10px\" }}>\r\n                        <div style={{ fontWeight: \"bold\", marginLeft: \"10px\", height: \"20px\" }}>Аттрибуты</div>\r\n                        <div style={{ height: this.getHeight(\"tview\") - 20 - 5 }}>\r\n                            {this.renderAttrTree()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginBottom: \"20px\", marginTop: \"10px\" }}>\r\n                    <Button icon=\"save\" text={getLocMsg(LocMsgId.Button_Save)} disabled={disableSaveBtn} onClick={() => this.handleSaveBtnClick()} style={{ marginLeft: \"10px\" }} />\r\n                    <Button icon=\"clear\" text={getLocMsg(LocMsgId.Button_Cancel)} disabled={disableCancelBtn} onClick={() => this.handleCancelBtnClick()} style={{ marginLeft: \"10px\" }} />\r\n                </div>\r\n                {ErrorMsgFromDict(this.state.error)}\r\n                {this.renderDataGrid()}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getCurrentRow(): ICurrentRow {\r\n        return this.state.currentRow;\r\n    }\r\n\r\n    setCurrentRow(currRow: ICurrentRow) {\r\n        this.setState({ currentRow: currRow });\r\n    }\r\n\r\n\r\n    getCurrentRowIndex(): number {\r\n        return this.state.currentRowIndex;\r\n    }\r\n\r\n    setCurrentRowIndex(idx: number) {\r\n        this.setState({ currentRowIndex: idx });\r\n    }\r\n    getGrid(): DataGrid<any, any> {\r\n        //@ts-ignore\r\n        return this.gridRef.instance;\r\n    }\r\n\r\n    getHeight(elm: string) {\r\n        let heightBeforeGrid = 280;\r\n        let heightForTviewsAndGrid = this.state.height - heightBeforeGrid - 50;\r\n        let tViewsKoef = 0.4;//доля оставшегося после формы пространства по высоте для Treeview (\"GUI Элементы\" и \"Аттрибуты\")\r\n        let gridKoef = 1 - tViewsKoef;  //доля оставшегося после формы пространства по высоте для датагрида\r\n        let tViewsHeight = heightForTviewsAndGrid * tViewsKoef;\r\n        let gridHeight = heightForTviewsAndGrid * gridKoef;\r\n        if (elm === \"tview\") {\r\n            return tViewsHeight;\r\n        }\r\n        if (elm === \"grid\") {\r\n            return gridHeight;\r\n        }\r\n        throw \"wrong elm \" + elm;\r\n    }\r\n\r\n}\r\n","import getLocMsg, { LocMsgId } from '../../localization';\r\n\r\nexport default function getLabelText(code: string): string {\r\n    switch (code) {\r\n        case 'PageName':\r\n            return getLocMsg(LocMsgId.Menu_Dicts_Monitoring_Event);\r\n        case 'EventName':\r\n            return getLocMsg(LocMsgId.Column_EventName);\r\n        case 'EquipmentEvent':\r\n            return getLocMsg(LocMsgId.Column_EquipmentEvent);\r\n        case 'GroupName':\r\n            return getLocMsg(LocMsgId.Column_GroupName);\r\n        case 'Description':\r\n            return getLocMsg(LocMsgId.Column_Description);\r\n        case 'NeedSelect':\r\n            return getLocMsg(LocMsgId.Message_NeedSelect);\r\n        case 'IncidentCreationWaitTimeOrPercentage':\r\n            return getLocMsg(LocMsgId.Column_IncidentCreationWaitTimeOrPercentage);\r\n        case 'IncidentCreationWaitTime':\r\n            return getLocMsg(LocMsgId.Column_IncidentCreationWaitTime);\r\n        case 'IncidentCreationPercentage':\r\n            return getLocMsg(LocMsgId.Column_IncidentCreationPercentage);\r\n        case 'EquipmentStatus':\r\n            return getLocMsg(LocMsgId.Column_EquipmentStatus);\r\n        case 'CreateIncidentForEvent':\r\n            return getLocMsg(LocMsgId.Column_CreateIncidentForEvent);\r\n        case 'SendEmailToUser':\r\n            return getLocMsg(LocMsgId.Column_SendEmailToUser);\r\n        case 'ConsiderDeviceAvailabilityMode':\r\n            return getLocMsg(LocMsgId.Column_ConsiderDeviceAvailabilityMode);\r\n        case 'PopupTitle_Error':\r\n            return getLocMsg(LocMsgId.PopupTitle_Error);\r\n        case 'Message_Error':\r\n            return getLocMsg(LocMsgId.Message_Error);\r\n        case 'Message_Confirm':\r\n            return getLocMsg(LocMsgId.Message_Confirm);\r\n        case 'Message_ConfirmSave':\r\n            return getLocMsg(LocMsgId.Message_Saving);\r\n        case 'Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n\r\n        case 'Causes_Incorrect':\r\n            return getLocMsg(LocMsgId.Message_Required);\r\n        case 'ReactionParameter_Incorrect':\r\n            return getLocMsg(LocMsgId.Message_Value_Incorrect);\r\n\r\n        case 'Message_DirectoryNotAvailable':\r\n            return getLocMsg(LocMsgId.Message_DirectoryNotAvailable);\r\n        case 'Message_EditMode':\r\n            return getLocMsg(LocMsgId.Message_EditMode);\r\n\r\n        case 'Message_MinValue':\r\n            return getLocMsg(LocMsgId.Message_MinValue);\r\n        case 'Message_MaxValue':\r\n            return getLocMsg(LocMsgId.Message_MaxValue);\r\n\r\n        case 'Hint_Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Hint_Button_Refresh':\r\n            return getLocMsg(LocMsgId.Button_Refresh);\r\n        case 'Hint_Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n    }\r\n\r\n    return '';\r\n}\r\n","import * as Disabled from './Images/Disabled.png';\r\nimport * as DeviceWorking from './Images/DeviceWorking.png';\r\nimport * as DeviceWarning from './Images/DeviceWarning.png';\r\nimport * as DeviceNotWorking from './Images/DeviceNotWorking.png';\r\nimport * as DeviceUndetermined from './Images/DeviceUndetermined.png';\r\nimport * as PassiveMode from './Images/PassiveMode.png';\r\n\r\nexport default function getImage(code?: string): any {\r\n    switch (code) {\r\n        case 'Disabled':       //Отключено\r\n            return Disabled;\r\n        case 'Good':       //Работает\r\n            return DeviceWorking;\r\n        case 'Warning':       //Предупреждение\r\n            return DeviceWarning;\r\n        case 'Error':       //Не работает\r\n            return DeviceNotWorking;\r\n        case 'Unknown':       //Неопределенное состояние\r\n            return DeviceUndetermined;\r\n        case 'Inserving':       //Пассивный режим\r\n            return PassiveMode;\r\n    }\r\n\r\n    return null;\r\n}","import * as React from 'react';\r\nimport getImage from './Images';\r\n\r\nexport default function Item(data: any) {\r\n    return (\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <img src={data && getImage(data.name)} />\r\n                </td>\r\n                <td>\r\n                    {data && data.description}\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    );\r\n}\r\n","import * as React from 'react';\r\nimport TextBox from 'devextreme-react/text-box';\r\nimport getImage from './Images';\r\n\r\nexport default function Field(data: any) {\r\n    return (\r\n        <table>\r\n            <tr>\r\n                <td width={\"2%\"}>\r\n                    <img src={data && getImage(data.name)} />\r\n                </td>\r\n                <td width={\"98%\"}>\r\n                    <TextBox\r\n                        defaultValue={data && data.description}\r\n                        readOnly={true} />\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    );\r\n}\r\n","import * as React from 'react';\r\nimport getImage from './Images';\r\n\r\nexport default function StateDeviceImage(data: any) {\r\n    return (\r\n        <table>\r\n            <tr>\r\n                <td><img src={data && getImage(data.data.stateDeviceCode)} /></td>\r\n                <td />\r\n                <td>{data && data.displayValue}</td>\r\n            </tr>\r\n        </table>\r\n    );\r\n\r\n}\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../../DbWrapper';\r\nimport DataGrid, {\r\n    Column,\r\n    ColumnChooser,\r\n    FilterRow,\r\n    HeaderFilter,\r\n    Lookup,\r\n    SearchPanel,\r\n    Sorting,\r\n    Pager,\r\n    Paging\r\n} from 'devextreme-react/data-grid';\r\nimport Button from 'devextreme-react/button';\r\nimport { MessagePopup } from '../../components/CommonComponents/MessagePopup';\r\nimport { ConfirmForm } from '../../components/CommonComponents/ConfirmForm';\r\nimport SelectBox from 'devextreme-react/select-box';\r\nimport TextBox from 'devextreme-react/text-box';\r\nimport { CheckBox, NumberBox, TextArea, Toast } from 'devextreme-react';\r\n\r\nimport { Model } from './Model';\r\nimport getLabelText from './Labels';\r\nimport Item from './Item';\r\nimport Field from './Field';\r\nimport * as States from '../../Models/States';\r\nimport { IssuesCause } from '../../Models/IssuesCause';\r\nimport StateDeviceImage from './StateDeviceImage'\r\nimport { IncorrectData } from './IncorrectData';\r\n\r\n\r\ninterface Props { }\r\n\r\ntype State = {\r\n    data: Model[],\r\n    currentItem: { model: Model, rowKey: number },\r\n    equipmentStatusList: States.State[],\r\n    isNeedToSave: boolean,\r\n    confirmSaveFormVisible: boolean\r\n    popupTitle: string,\r\n    popupMessage: string,\r\n    popupVisible: boolean,\r\n    isVisibleEditArea: boolean,\r\n    popupVisibleForCriticalError: boolean,                        //Для отображения или скрытия PopUp окна. Для обработки критической ошибки\r\n    hasCriticalError: boolean,                                    //Используется если есть критическая ошибка и справочник не может работать\r\n    nextRow: number,                                              //Указатель на следующую запись\r\n\r\n    causesIsCorrect: IncorrectData,                               //Здесь индикаторы корректности данных. Это нужно для проверки данных перед сохранением в БД\r\n    reactionParameterIsCorrect: IncorrectData,                    //Здесь индикаторы корректности данных. Это нужно для проверки данных перед сохранением в БД\r\n\r\n    refComponents: any,                                            //Хранилище ссылок на объекты формы\r\n    isVisibleToastForEdit: boolean,                                //Признак необходимости отобразить сообщение пользователю, что он находится в режиме редактирования\r\n    prevCurrentItem?: { model: Model, rowKey: number }             //Содержит ссылку на предыдущую текущую выбранную запись из Grid, эта информация нужна для перехода на нё после отмены Создания новой записи\r\n}\r\n\r\nconst allowedPageSizes = [5, 10, 15, 20];\r\n\r\nexport class IssueCausesDictClass extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: [],\r\n            currentItem: {\r\n                model: { id: 0 },\r\n                rowKey: 0\r\n            },\r\n            equipmentStatusList: [],\r\n            isNeedToSave: false,\r\n            confirmSaveFormVisible: false,\r\n            popupTitle: \"\",\r\n            popupMessage: \"\",\r\n            popupVisible: false,\r\n            isVisibleEditArea: false,\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: false,\r\n            nextRow: 0,\r\n\r\n            causesIsCorrect: { isValid: true },\r\n            reactionParameterIsCorrect: { isValid: true },\r\n\r\n            isVisibleToastForEdit: false,\r\n\r\n            refComponents: new Map()\r\n        };\r\n\r\n        this.handleButtonSaveClick = this.handleButtonSaveClick.bind(this);\r\n        this.handleButtonRefreshClick = this.handleButtonRefreshClick.bind(this);\r\n        this.handleButtonRevertClick = this.handleButtonRevertClick.bind(this);\r\n\r\n        this.onChangeCreateIncidentForEvent = this.onChangeCreateIncidentForEvent.bind(this);\r\n        this.onChangeSendEmailToUser = this.onChangeSendEmailToUser.bind(this);\r\n        this.onChangeConsiderDeviceAvailabilityMode = this.onChangeConsiderDeviceAvailabilityMode.bind(this);\r\n\r\n        this.onChangeIncidentCreationWaitTime = this.onChangeIncidentCreationWaitTime.bind(this);\r\n\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n        this.closeConfirmFormClick = this.closeConfirmFormClick.bind(this);\r\n        this.confirmFormClick = this.confirmFormClick.bind(this);\r\n        this.applyChange = this.applyChange.bind(this);\r\n        this.changeCurrentRow = this.changeCurrentRow.bind(this);\r\n        this.onChangeEventName = this.onChangeEventName.bind(this);\r\n\r\n        this.hidePopup = this.hidePopup.bind(this);\r\n        this.hidePopupForCriticalError = this.hidePopupForCriticalError.bind(this);\r\n\r\n        this.onFocusedRowChanged = this.onFocusedRowChanged.bind(this);\r\n        this.onContentReady = this.onContentReady.bind(this);\r\n        this.onFocusedRowChanging = this.onFocusedRowChanging.bind(this);\r\n\r\n        this.onToastHiding = this.onToastHiding.bind(this)\r\n        this.onRowClick = this.onRowClick.bind(this);\r\n    }\r\n\r\n    setStatesName() {\r\n        var newDataSet: Model[] = []\r\n\r\n        for (var i = 0; i < this.state.data.length; i++) {\r\n            var item = this.state.data[i]\r\n\r\n            var stateDevice = this.state.equipmentStatusList.find(x => x.id === item.stateDeviceId)\r\n\r\n            item.stateDeviceCode = stateDevice == null ? '' : stateDevice.name\r\n\r\n            newDataSet.push(item)\r\n        }\r\n\r\n        this.setState({ data: newDataSet })\r\n    }\r\n\r\n    componentDidMount() {\r\n        (async () => {\r\n            await dbwrap.GetRows(\"ViewIssuesCauses\", null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.setState({ data: data.data })\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisibleForCriticalError: true\r\n                    });\r\n\r\n                    return\r\n                }\r\n\r\n                (async () => {\r\n                    await dbwrap.GetRows(\"States\", null).then((data: dbwrap.responseResult) => {\r\n                        if (data.success) {\r\n                            this.setState({ equipmentStatusList: data.data })\r\n\r\n                            this.setStatesName();                                   //Заполняем имя наименования статусов для дальнейшего отображения на форме\r\n\r\n                            if (this.state.nextRow != 0) {\r\n                                this.setToNextRow()\r\n                            }\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: getLabelText('PopupTitle_Error'),\r\n                                popupMessage: errorMessage,\r\n                                popupVisibleForCriticalError: true\r\n                            });\r\n                        }\r\n\r\n                    });\r\n                })();\r\n            });\r\n        })();\r\n    }\r\n    setCurrentRow(dataRow: Model) {\r\n        if (dataRow == null) { return }\r\n\r\n        this.setState({\r\n            currentItem: {\r\n                model: { ...dataRow },\r\n                rowKey: dataRow.id\r\n            },\r\n        })\r\n        this.setState({ isNeedToSave: false })\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n    }\r\n    changeCurrentRow(e: any) {\r\n        if (e == null || e.row == null) {             //По какой то странной причине, может приходить пустой Row\r\n            return\r\n        }\r\n\r\n        this.setCurrentRow(e.row && e.row.data);\r\n    }\r\n    onFocusedRowChanged(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        this.changeCurrentRow(e)\r\n    }\r\n    onFocusedRowChanging(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            e.cancel = true;\r\n\r\n            return\r\n        }\r\n    }\r\n    onContentReady(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        var item = this.state.currentItem.model\r\n        var key = item.id\r\n        var keyExistsInFilteredRows = -1\r\n        var filteredRows: any\r\n\r\n        this.onFocusedRowChanged(item)                                                     //Перед тем как поменять текущую запсиь на новую, проверяем, нужно ли сохранить текущие данные\r\n        if (this.state.isNeedToSave) { return }                                            //Проверяем на isNeedToSave что бы не пропустить сохранение\r\n\r\n        this.setState({ currentItem: { model: { ...item }, rowKey: key } })                //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdData = this.state.refComponents.dgdData\r\n\r\n        if (item != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store()                                    //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n                });\r\n\r\n            keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)          //Проверяем на наличие нужной нам записи в текущей выборке\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {            //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdData != null) {\r\n                key = dgdData.instance.getKeyByRowIndex(0)                              //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    filteredRows = result;\r\n                });\r\n            item = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        this.setState({ currentItem: { model: { ...item }, rowKey: key } })\r\n\r\n        //Проверяем, если список пустой, то область редактирования скрываем\r\n        if (dgdData != null) {\r\n            dgdData.instance.getDataSource().store()                                    //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n                });\r\n\r\n            if (filteredRows.length === 0) {\r\n                this.setState({ isVisibleEditArea: false })\r\n            }\r\n            else {\r\n                this.setState({ isVisibleEditArea: true })\r\n            }\r\n        }\r\n    }\r\n    onRowClick(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        };\r\n    }\r\n\r\n    applyChange(target: any) {\r\n        let item = this.state.data.find(x => x.id === target.id)\r\n        let currentItem: string = \"\"\r\n\r\n        if (item != null) {\r\n            currentItem = JSON.stringify(item)\r\n        }\r\n\r\n        let newItem = JSON.stringify(target)\r\n\r\n        let hasChanged = currentItem != newItem\r\n\r\n        this.setState({ currentItem: { model: { ...target }, rowKey: this.state.currentItem.rowKey } })             //Сохраним новые значения\r\n\r\n        this.setState({ isNeedToSave: hasChanged })                                                                 //Установим признак \"нужно сохранить\"\r\n    }\r\n    onChangeCreateIncidentForEvent = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.isCreate = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeSendEmailToUser = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.isSendEmail = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeConsiderDeviceAvailabilityMode = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.isTerminalAvailabilty = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeIncidentCreationWaitTime = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.reactionParameter = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkReactionParameterForCorrect(changedItem)\r\n    }\r\n    onChangeDescription = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.description = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeStateDeviceId = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.stateDeviceId = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeEventName = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.causes = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkCausesForCorrect(changedItem);\r\n    }\r\n    // Сохранение данных\r\n    handleButtonSaveClick() {\r\n        if (this.state.currentItem.model.id == 0) {\r\n            this.setState({ isNeedToSave: false })\r\n            return\r\n        }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            // Показ формы подтверждения сохранения.\r\n            this.setState({\r\n                confirmSaveFormVisible: true\r\n            });\r\n        };\r\n    }\r\n\r\n    //Сбросим все индикаторы проверки\r\n    resetDataForCorrect() {\r\n        this.setState({ causesIsCorrect: { isValid: true, message: '' }, reactionParameterIsCorrect: { isValid: true, message: '' } })\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkCausesForCorrect(model: Model): boolean {\r\n        let causes = model.causes == null ? '' : model.causes.trim()\r\n\r\n        let causesIsValid = causes != null && causes != '' && causes != undefined\r\n        let causesMessage = causesIsValid ? '' : getLabelText('Causes_Incorrect')\r\n\r\n        this.setState({ causesIsCorrect: { isValid: causesIsValid, message: causesMessage } })\r\n\r\n        return causesIsValid\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkReactionParameterForCorrect(model: Model): boolean {\r\n        let reactionParameter = model.reactionParameter == null ? 0 : model.reactionParameter\r\n        let reactionParameterMin = model.reactionParameterMin == null ? 0 : model.reactionParameterMin\r\n        let reactionParameterMax = model.reactionParameterMax == null ? 0 : model.reactionParameterMax\r\n\r\n        let reactionParameterIsValid: boolean = true\r\n        let reactionParameterMessage: string = ''\r\n\r\n        if (!(reactionParameter >= reactionParameterMin && reactionParameter <= reactionParameterMax)) {\r\n            reactionParameterIsValid = false\r\n            reactionParameterMessage = getLabelText('ReactionParameter_Incorrect') + ' (' + getLabelText('Message_MinValue') + ': ' + reactionParameterMin + ', ' + getLabelText('Message_MaxValue') + ': ' + reactionParameterMax + ')'\r\n        }\r\n\r\n        this.setState({ reactionParameterIsCorrect: { isValid: reactionParameterIsValid, message: reactionParameterMessage } })\r\n\r\n        return reactionParameterIsValid\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkDataForCorrect(model: Model): boolean {\r\n        let causesIsValid = this.checkCausesForCorrect(model)\r\n        let reactionParameterIsValid = this.checkReactionParameterForCorrect(model)\r\n\r\n        return causesIsValid && reactionParameterIsValid    //Консолидированный результат\r\n    }\r\n    // Действие при подтверждении формы сохранения.\r\n    confirmFormClick() {\r\n        var saveItem = this.state.currentItem.model\r\n\r\n        //Здесь проверяем данные перед их сохранением в БД\r\n        if (this.checkDataForCorrect(saveItem) === false) {\r\n            this.setState({ confirmSaveFormVisible: false });\r\n\r\n            return\r\n        }\r\n\r\n        var issuesCause: IssuesCause[] = [];\r\n\r\n        issuesCause.push({\r\n            id: saveItem.id,\r\n            causes: saveItem.causes == null ? '' : saveItem.causes.trim(),\r\n            description: saveItem.description == null ? '' : saveItem.description.trim(),\r\n            groupCauseId: saveItem.groupCauseId == null ? 0 : saveItem.groupCauseId,\r\n            isCreate: saveItem.isCreate == null ? false : saveItem.isCreate,\r\n            isHeightening: saveItem.isHeightening == null ? false : saveItem.isHeightening,\r\n            isPercent: saveItem.isPercent == null ? false : saveItem.isPercent,\r\n            isSendEmail: saveItem.isSendEmail == null ? false : saveItem.isSendEmail,\r\n            isTerminalAvailabilty: saveItem.isTerminalAvailabilty == null ? false : saveItem.isTerminalAvailabilty,\r\n            reactionParameter: saveItem.reactionParameter == null ? 0 : saveItem.reactionParameter,\r\n            stateDeviceId: saveItem.stateDeviceId == null ? 0 : saveItem.stateDeviceId,\r\n\r\n            deviceIdleStatesId: saveItem.deviceIdleStatesId == null ? 0 : saveItem.deviceIdleStatesId,\r\n            enable: saveItem.enable == null ? 0 : saveItem.enable\r\n        })\r\n\r\n        dbwrap.UpdateRow(\"IssuesCauses\", issuesCause, null).then((data: dbwrap.responseResult) => {\r\n            if (data.success) {\r\n                this.handleButtonRefreshClick();\r\n            }\r\n            else {\r\n                let errorMessage: string = ''\r\n\r\n                if (data.data.parsedErrObject == null) {\r\n                    errorMessage = data.data.request.responseText\r\n                }\r\n                else {\r\n                    errorMessage = data.data.parsedErrObject.message\r\n                }\r\n\r\n                this.setState({\r\n                    popupTitle: getLabelText('PopupTitle_Error'),\r\n                    popupMessage: errorMessage,\r\n                    popupVisible: true\r\n                });\r\n            }\r\n        })\r\n\r\n        this.closeConfirmFormClick('saved');\r\n    }\r\n    // Действие при отмене сохранения.\r\n    closeConfirmFormClick(action: string = 'cancel') {\r\n        this.setState({\r\n            confirmSaveFormVisible: false,\r\n            isNeedToSave: false\r\n        });\r\n\r\n        if (this.state.currentItem != null && action == 'cancel') {\r\n            let item = this.state.data.find(x => x.id === this.state.currentItem.model.id)\r\n\r\n            if (item != null) {\r\n                this.setState({ currentItem: { model: { ...item }, rowKey: this.state.currentItem.rowKey } })\r\n                this.setState({ isNeedToSave: false });\r\n            }\r\n        }\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n\r\n        this.handleButtonRefreshClick()\r\n    }\r\n    setToNextRow() {\r\n        let item = this.state.data.find(x => x.id === this.state.nextRow)\r\n\r\n        if (item != null) {\r\n            this.setState({ currentItem: { model: { ...item }, rowKey: this.state.nextRow } })\r\n        }\r\n\r\n        this.setState({ nextRow: 0 })           //После установки следующей записи, сбрасываем значение следующей записи\r\n    }\r\n    setToPrevRow() {\r\n        this.setState({ isVisibleToastForEdit: true })\r\n\r\n        let dgdData = this.state.refComponents.dgdData\r\n\r\n        if (dgdData != null) {\r\n            if (this.state.prevCurrentItem != null) {\r\n                dgdData.instance.navigateToRow(this.state.prevCurrentItem.model.id)\r\n            }\r\n            if (this.state.currentItem != null && this.state.currentItem.model.id != 0) {\r\n                dgdData.instance.navigateToRow(this.state.currentItem.model.id)\r\n            }\r\n        }\r\n    }\r\n    onToastHiding() {\r\n        this.setState({ isVisibleToastForEdit: false })\r\n    }\r\n\r\n    // Обновление grid.\r\n    handleButtonRefreshClick() {\r\n        this.componentDidMount()\r\n    }\r\n    //Отмена внесенных пользователем изменений\r\n    handleButtonRevertClick() {\r\n        this.closeConfirmFormClick()\r\n    }\r\n    // Закрытие popup.\r\n    hidePopup() {\r\n        this.setState({ popupVisible: false });\r\n    }\r\n    // Закрытие popup. Для обработки критической ошибки\r\n    hidePopupForCriticalError() {\r\n        this.setState({ popupVisibleForCriticalError: false });\r\n        this.setState({ hasCriticalError: true });                      //True - если справочник не может продолжить свою работу\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                    {getLabelText('PageName')}\r\n                </h3>\r\n\r\n                <div hidden={this.state.hasCriticalError === false}>\r\n                    <table width='100%' style={{ height: '80vh' }}>\r\n                        <tr>\r\n                            <td align='center'>\r\n                                <h1>\r\n                                    {getLabelText('Message_DirectoryNotAvailable')}\r\n                                </h1>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div hidden={this.state.hasCriticalError}>\r\n                    <Button icon=\"save\" disabled={this.state.isNeedToSave === false} onClick={this.handleButtonSaveClick} hint={getLabelText('Hint_Button_Save')} className='mb-2 mr-2' />\r\n                    <Button icon=\"refresh\" visible={this.state.isNeedToSave === false} onClick={this.handleButtonRefreshClick} hint={getLabelText('Hint_Button_Refresh')} className='mb-2 mr-2' />\r\n                    <Button icon=\"revert\" visible={this.state.isNeedToSave} onClick={this.handleButtonRevertClick} hint={getLabelText('Hint_Button_Cancel')} className='mb-2 mr-2' />\r\n\r\n                    <div hidden={this.state.isVisibleEditArea === false}>\r\n                        <table width={\"100%\"}>\r\n                            <tr>\r\n                                <td width={\"16%\"} /><td width={\"22%\"} /><td width={\"1%\"} /><td width={\"30%\"} /><td width={\"1%\"} /><td width={\"30%\"} />\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {getLabelText('EventName') + \":\"}\r\n                                </td>\r\n                                <td>\r\n                                    <TextBox maxLength={1000} value={this.state.currentItem.model.causes} valueChangeEvent=\"input\" onValueChanged={this.onChangeEventName}\r\n                                        isValid={this.state.causesIsCorrect.isValid} hint={this.state.causesIsCorrect.message}\r\n                                    />\r\n                                </td>\r\n                                <td />\r\n                                <td>\r\n                                    {getLabelText('Description') + \":\"}\r\n                                </td>\r\n                                <td />\r\n                                <td>\r\n                                    <CheckBox text={getLabelText('CreateIncidentForEvent')} value={this.state.currentItem.model.isCreate} onValueChanged={this.onChangeCreateIncidentForEvent} />\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {getLabelText('EquipmentEvent') + \":\"}\r\n                                </td>\r\n                                <td>\r\n                                    <TextBox readOnly={true} value={this.state.currentItem.model.originalName} />\r\n                                </td>\r\n                                <td />\r\n                                <td rowSpan={5}>\r\n                                    <div>\r\n                                        <TextArea maxLength={2000} width={\"100%\"} height={\"160px\"} value={this.state.currentItem.model.description} valueChangeEvent=\"input\" onValueChanged={this.onChangeDescription} />\r\n                                    </div>\r\n                                </td>\r\n                                <td />\r\n                                <td>\r\n                                    <CheckBox text={getLabelText('SendEmailToUser')} value={this.state.currentItem.model.isSendEmail} onValueChanged={this.onChangeSendEmailToUser} />\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {getLabelText('GroupName') + \":\"}\r\n                                </td>\r\n                                <td>\r\n                                    <TextBox readOnly={true} value={this.state.currentItem.model.groupName} />\r\n                                </td>\r\n                                <td />\r\n                                <td />\r\n                                <td>\r\n                                    <CheckBox text={getLabelText('ConsiderDeviceAvailabilityMode')} value={this.state.currentItem.model.isTerminalAvailabilty} onValueChanged={this.onChangeConsiderDeviceAvailabilityMode} />\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {this.state.currentItem.model.isPercent === true ? getLabelText('IncidentCreationPercentage') + \":\" : getLabelText('IncidentCreationWaitTime') + \":\"}                                </td>\r\n                                <td>\r\n                                    <NumberBox\r\n                                        label={'min: ' + this.state.currentItem.model.reactionParameterMin + ', max: ' + this.state.currentItem.model.reactionParameterMax}\r\n                                        width={\"100%\"}\r\n                                        showSpinButtons={true} value={this.state.currentItem.model.reactionParameter} max={this.state.currentItem.model.reactionParameterMax}\r\n                                        valueChangeEvent=\"input\" onValueChanged={this.onChangeIncidentCreationWaitTime}\r\n                                        isValid={this.state.reactionParameterIsCorrect.isValid} hint={this.state.reactionParameterIsCorrect.message}\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {getLabelText('EquipmentStatus') + \":\"}\r\n                                </td>\r\n                                <td>\r\n                                    <SelectBox width={\"100%\"}\r\n                                        dataSource={this.state.equipmentStatusList}\r\n                                        valueExpr=\"id\"\r\n                                        displayExpr=\"description\"\r\n                                        placeholder={getLabelText('NeedSelect')}\r\n                                        value={this.state.currentItem.model.stateDeviceId}\r\n                                        fieldRender={Field}\r\n                                        itemRender={Item}\r\n                                        onValueChanged={this.onChangeStateDeviceId}\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <ConfirmForm title={getLabelText('Message_Confirm')} message={getLabelText('Message_ConfirmSave')}\r\n                        visible={this.state.confirmSaveFormVisible} confirmButtonText={getLabelText('Button_Save')} confirmForm={this.confirmFormClick}\r\n                        cancelButtonText={getLabelText('Button_Cancel')} cancelForm={this.closeConfirmFormClick} />\r\n\r\n                    <MessagePopup\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopup}\r\n                        message={this.state.popupMessage}\r\n                        visible={this.state.popupVisible}\r\n                    />\r\n                    <MessagePopup\r\n                        visible={this.state.popupVisibleForCriticalError}\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopupForCriticalError}\r\n                        message={this.state.popupMessage}\r\n                    />\r\n\r\n                    <br />\r\n\r\n                    <DataGrid\r\n                        dataSource={this.state.data}\r\n                        keyExpr=\"id\"\r\n                        showBorders={true}\r\n                        focusedRowEnabled={true}\r\n                        allowColumnResizing={true}\r\n                        allowColumnReordering={true}\r\n                        onFocusedRowChanged={this.onFocusedRowChanged}\r\n                        onRowClick={this.onRowClick}\r\n                        focusedRowKey={this.state.currentItem.rowKey}\r\n                        onFocusedRowChanging={this.onFocusedRowChanging}\r\n\r\n                        autoNavigateToFocusedRow={true}\r\n                        onContentReady={this.onContentReady}\r\n                        ref={(ref) => { this.state.refComponents[\"dgdData\"] = ref }}\r\n                    >\r\n\r\n                        <Paging defaultPageSize={10} />\r\n                        <Pager\r\n                            visible={true}\r\n                            allowedPageSizes={allowedPageSizes}\r\n                            displayMode={'full'}\r\n                            showPageSizeSelector={true}\r\n                            showInfo={true}\r\n                            showNavigationButtons={true} />\r\n\r\n                        <FilterRow visible={true} />\r\n                        <HeaderFilter visible={true} />\r\n                        <ColumnChooser enabled={true} mode=\"select\" />\r\n                        <Sorting mode=\"multiple\" />\r\n                        <SearchPanel visible={true} />\r\n\r\n                        <Column dataField=\"causes\" dataType=\"string\" caption={getLabelText('EventName')} />\r\n                        <Column dataField=\"originalName\" dataType=\"string\" caption={getLabelText('EquipmentEvent')} />\r\n                        <Column dataField=\"groupName\" dataType=\"string\" caption={getLabelText('GroupName')} />\r\n                        <Column dataField=\"description\" dataType=\"string\" caption={getLabelText('Description')} />\r\n\r\n                        <Column dataField=\"stateDeviceId\" caption={getLabelText('EquipmentStatus')} cellRender={StateDeviceImage} >\r\n                            <Lookup dataSource={this.state.equipmentStatusList} valueExpr=\"id\" displayExpr=\"description\" />\r\n                        </Column>\r\n\r\n                        <Column dataField=\"reactionParameter\" dataType=\"number\" caption={getLabelText('IncidentCreationWaitTimeOrPercentage')} />\r\n                        <Column dataField=\"isCreate\" dataType=\"boolean\" caption={getLabelText('CreateIncidentForEvent')} />\r\n                        <Column dataField=\"isSendEmail\" dataType=\"boolean\" caption={getLabelText('SendEmailToUser')} />\r\n                        <Column dataField=\"isTerminalAvailabilty\" dataType=\"boolean\" caption={getLabelText('ConsiderDeviceAvailabilityMode')} />\r\n                    </DataGrid>\r\n\r\n                    <Toast\r\n                        visible={this.state.isVisibleToastForEdit}\r\n                        message={getLabelText('Message_EditMode')}\r\n                        type={'warning'}\r\n                        onHiding={this.onToastHiding}\r\n                        displayTime={3000}\r\n                        width={400}\r\n                        position={'center center'}\r\n                    />\r\n                </div >\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) { return {} }\r\n\r\nfunction mapDispatchToProps(dispatch: any) { return { actions: {} } }\r\n\r\nexport const IssueCausesDict = connect(mapStateToProps, mapDispatchToProps)(IssueCausesDictClass);","import getLocMsg, { LocMsgId } from '../../localization';\r\n\r\nexport default function getLabelText(code: string): string {\r\n    switch (code) {\r\n        case 'PageName':\r\n            return getLocMsg(LocMsgId.Menu_Dicts_Monitoring_TerminalStatesByDevice);\r\n        case 'ObjectMonitoring':\r\n            return getLocMsg(LocMsgId.Column_ObjectMonitoring);\r\n        case 'ObjectMonitoringStatus':\r\n            return getLocMsg(LocMsgId.Column_ObjectMonitoringStatus);\r\n        case 'TerminalStatus':\r\n            return getLocMsg(LocMsgId.Column_TerminalStatus);\r\n        case 'NeedSelect':\r\n            return getLocMsg(LocMsgId.Message_NeedSelect);\r\n        case 'PopupTitle_Error':\r\n            return getLocMsg(LocMsgId.PopupTitle_Error);\r\n        case 'Message_Error':\r\n            return getLocMsg(LocMsgId.Message_Error);\r\n        case 'Message_Confirm':\r\n            return getLocMsg(LocMsgId.Message_Confirm);\r\n        case 'Message_ConfirmSave':\r\n            return getLocMsg(LocMsgId.Message_Saving);\r\n        case 'Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n        case 'Message_DirectoryNotAvailable':\r\n            return getLocMsg(LocMsgId.Message_DirectoryNotAvailable);\r\n        case 'Message_EditMode':\r\n            return getLocMsg(LocMsgId.Message_EditMode);\r\n\r\n        case 'Hint_Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Hint_Button_Refresh':\r\n            return getLocMsg(LocMsgId.Button_Refresh);\r\n        case 'Hint_Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n    }\r\n\r\n    return '';\r\n}\r\n","import * as Disabled from './Images/Disabled.png';\r\nimport * as DeviceWorking from './Images/DeviceWorking.png';\r\nimport * as DeviceWarning from './Images/DeviceWarning.png';\r\nimport * as DeviceNotWorking from './Images/DeviceNotWorking.png';\r\nimport * as DeviceUndetermined from './Images/DeviceUndetermined.png';\r\nimport * as PassiveMode from './Images/PassiveMode.png';\r\n\r\nimport * as NA from './Images/NA.png';\r\nimport * as TerminalNotWorking from './Images/TerminalNotWorking.png';\r\nimport * as TerminalWarning from './Images/TerminalWarning.png';\r\nimport * as TerminalWorking from './Images/TerminalWorking.png';\r\n\r\nexport function getImageDevice(code?: string): any {\r\n    switch (code) {\r\n        case 'Disabled':       //Отключено\r\n            return Disabled;\r\n        case 'Good':       //Работает\r\n            return DeviceWorking;\r\n        case 'Warning':       //Предупреждение\r\n            return DeviceWarning;\r\n        case 'Error':       //Не работает\r\n            return DeviceNotWorking;\r\n        case 'Unknown':       //Неопределенное состояние\r\n            return DeviceUndetermined;\r\n        case 'Inserving':       //Пассивный режим\r\n            return PassiveMode;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport function getImageTerminal(code?: string): any {\r\n    switch (code) {\r\n        case 'Disabled':\r\n            return NA;\r\n        case 'Good':\r\n            return TerminalWorking;\r\n        case 'Warning':\r\n            return TerminalWarning;\r\n        case 'Error':\r\n            return TerminalNotWorking;\r\n    }\r\n\r\n    return null;\r\n}","import * as React from 'react';\r\nimport { getImageTerminal } from './Images';\r\n\r\nexport function itemTerminal(data: any) {\r\n    return (\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <img src={data && getImageTerminal(data.name)} />\r\n                </td>\r\n                <td>\r\n                    {data && data.terminalState}\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    );\r\n}\r\n","import * as React from 'react';\r\nimport { getImageDevice, getImageTerminal } from './Images';\r\n\r\nexport function stateDeviceImage(data: any) {\r\n    return (\r\n        <table>\r\n            <tr>\r\n                <td><img src={data && getImageDevice(data.data.stateDeviceCode)} /></td>\r\n                <td />\r\n                <td>{data && data.displayValue}</td>\r\n            </tr>\r\n        </table>\r\n    );\r\n}\r\n\r\nexport function stateTerminalImage(data: any) {\r\n    return (\r\n        <table>\r\n            <tr>\r\n                <td><img src={data && getImageTerminal(data.data.stateTerminalCode)} /></td>\r\n                <td />\r\n                <td>{data && data.displayValue}</td>\r\n            </tr>\r\n        </table>\r\n    );\r\n}\r\n","export function getStatusFilteredList(data: any): any {\r\n    switch (data.state.currentItem.model.stateDeviceCode) {\r\n        case 'Good':\r\n            return data.state.equipmentStatusList.filter((x:any) => x.name === 'Good')\r\n        case 'Warning':\r\n            return data.state.equipmentStatusList.filter((x:any) => x.name === 'Good' || x.name === 'Warning')\r\n        case 'Unknown':\r\n            return data.state.equipmentStatusList.filter((x:any) => x.name === 'Good' || x.name === 'Warning' || x.name === 'Error')\r\n        case 'Error':\r\n            return data.state.equipmentStatusList.filter((x:any) => x.name === 'Good' || x.name === 'Warning' || x.name === 'Error')\r\n        case 'Disabled':\r\n            return data.state.equipmentStatusList.filter((x:any) => x.name === 'Disabled')\r\n    }\r\n\r\n    return data.state.equipmentStatusList\r\n}\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../../DbWrapper';\r\nimport DataGrid, {\r\n    Column,\r\n    ColumnChooser,\r\n    FilterRow,\r\n    HeaderFilter,\r\n    Lookup,\r\n    SearchPanel,\r\n    Sorting,\r\n    Pager,\r\n    Paging\r\n} from 'devextreme-react/data-grid';\r\nimport Button from 'devextreme-react/button';\r\nimport { MessagePopup } from '../../components/CommonComponents/MessagePopup';\r\nimport { ConfirmForm } from '../../components/CommonComponents/ConfirmForm';\r\nimport SelectBox from 'devextreme-react/select-box';\r\nimport TextBox from 'devextreme-react/text-box';\r\n\r\nimport { Model } from './Model';\r\nimport getLabelText from './Labels';\r\nimport { itemTerminal } from './Item';\r\nimport * as States from '../../Models/States';\r\nimport { TerminalStatesByDevice } from '../../Models/TerminalStatesByDevice';\r\nimport { stateDeviceImage, stateTerminalImage } from './StateDeviceImage'\r\nimport { getStatusFilteredList } from './StatusFilteredList'\r\nimport { getImageDevice, getImageTerminal } from './Images';\r\nimport { Box, Item } from 'devextreme-react/box';\r\nimport { Toast } from 'devextreme-react';\r\n\r\ninterface Props { }\r\n\r\ntype State = {\r\n    data: Model[],\r\n    currentItem: { model: Model, rowKey: number },\r\n    equipmentStatusList: States.State[],\r\n    equipmentStatusListFiltered: States.State[],\r\n    isNeedToSave: boolean,\r\n    confirmSaveFormVisible: boolean\r\n    popupTitle: string,\r\n    popupMessage: string,\r\n    popupVisible: boolean,\r\n    isVisibleEditArea: boolean,\r\n    popupVisibleForCriticalError: boolean,                        //Для отображения или скрытия PopUp окна. Для обработки критической ошибки\r\n    hasCriticalError: boolean,                                    //Используется если есть критическая ошибка и справочник не может работать\r\n    nextRow: number,                                              //Указатель на следующую запись\r\n\r\n    refComponents: any,                                            //Хранилище ссылок на объекты формы\r\n    isVisibleToastForEdit: boolean,                                //Признак необходимости отобразить сообщение пользователю, что он находится в режиме редактирования\r\n    prevCurrentItem?: { model: Model, rowKey: number }             //Содержит ссылку на предыдущую текущую выбранную запись из Grid, эта информация нужна для перехода на нё после отмены Создания новой записи\r\n}\r\n\r\nconst allowedPageSizes = [5, 10, 15, 20];\r\n\r\nexport class DeviceStatusDictClass extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: [],\r\n            currentItem: {\r\n                model: { id: 0, deviceTypeId: 0, stateDeviceId: 0, stateTerminalId: 0 },\r\n                rowKey: 0\r\n            },\r\n            equipmentStatusList: [],\r\n            equipmentStatusListFiltered: [],\r\n            isNeedToSave: false,\r\n            confirmSaveFormVisible: false,\r\n            popupTitle: \"\",\r\n            popupMessage: \"\",\r\n            popupVisible: false,\r\n            isVisibleEditArea: false,\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: false,\r\n            nextRow: 0,\r\n            isVisibleToastForEdit: false,\r\n\r\n            refComponents: new Map()\r\n        };\r\n\r\n        this.handleButtonSaveClick = this.handleButtonSaveClick.bind(this);\r\n        this.handleButtonRefreshClick = this.handleButtonRefreshClick.bind(this);\r\n        this.handleButtonRevertClick = this.handleButtonRevertClick.bind(this);\r\n\r\n        this.closeConfirmFormClick = this.closeConfirmFormClick.bind(this);\r\n        this.confirmFormClick = this.confirmFormClick.bind(this);\r\n        this.applyChange = this.applyChange.bind(this);\r\n        this.changeCurrentRow = this.changeCurrentRow.bind(this);\r\n        this.onChangeStateTerminalId = this.onChangeStateTerminalId.bind(this);\r\n\r\n        this.hidePopup = this.hidePopup.bind(this);\r\n        this.hidePopupForCriticalError = this.hidePopupForCriticalError.bind(this);\r\n\r\n        this.onFocusedRowChanged = this.onFocusedRowChanged.bind(this);\r\n        this.onContentReady = this.onContentReady.bind(this);\r\n        this.onFocusedRowChanging = this.onFocusedRowChanging.bind(this);\r\n\r\n        this.onToastHiding = this.onToastHiding.bind(this)\r\n        this.onRowClick = this.onRowClick.bind(this);\r\n    }\r\n\r\n    setStatesName() {\r\n        var newDataSet: Model[] = []\r\n\r\n        for (var i = 0; i < this.state.data.length; i++) {\r\n            var item = this.state.data[i]\r\n\r\n            var stateDevice = this.state.equipmentStatusList.find(x => x.id === item.stateDeviceId)\r\n            var stateTerminal = this.state.equipmentStatusList.find(x => x.id === item.stateTerminalId)\r\n\r\n            item.stateDeviceCode = stateDevice == null ? '' : stateDevice.name\r\n            item.stateTerminalCode = stateTerminal == null ? '' : stateTerminal.name\r\n\r\n            newDataSet.push(item)\r\n        }\r\n\r\n        this.setState({ data: newDataSet })\r\n    }\r\n\r\n    componentDidMount() {\r\n        (async () => {\r\n            await dbwrap.GetRows(\"ViewTerminalStatesByDevice\", null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.setState({ data: data.data })\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisibleForCriticalError: true\r\n                    });\r\n\r\n                    return\r\n                }\r\n\r\n                (async () => {\r\n                    await dbwrap.GetRows(\"States\", null).then((data: dbwrap.responseResult) => {\r\n                        if (data.success) {\r\n                            this.setState({ equipmentStatusList: data.data })\r\n\r\n                            this.setStatesName();                               //Заполняем имя наименования статусов для дальнейшего отображения на форме\r\n\r\n                            if (this.state.nextRow != 0) {\r\n                                this.setToNextRow()\r\n                            }\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: getLabelText('PopupTitle_Error'),\r\n                                popupMessage: errorMessage,\r\n                                popupVisibleForCriticalError: true\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                })();\r\n            });\r\n        })();\r\n    }\r\n    changeCurrentRow(e: any) {\r\n        if (e == null || e.row == null) {             //По какой то странной причине, может приходить пустой Row\r\n            return\r\n        }\r\n\r\n        const dataRow = e.row && e.row.data;\r\n\r\n        this.setState({\r\n            currentItem: {\r\n                model: { ...dataRow },\r\n                rowKey: e.row.key\r\n            },\r\n        })\r\n        this.setState({ isNeedToSave: false })\r\n\r\n        this.setState({ equipmentStatusListFiltered: getStatusFilteredList(this) })\r\n    }\r\n    onFocusedRowChanged(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        this.changeCurrentRow(e)\r\n    }\r\n    onFocusedRowChanging(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            e.cancel = true;\r\n\r\n            return\r\n        }\r\n    }\r\n    onContentReady(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        var item = this.state.currentItem.model\r\n        var key = item.id\r\n        var keyExistsInFilteredRows = -1\r\n        var filteredRows: any\r\n\r\n        this.onFocusedRowChanged(item)                                                     //Перед тем как поменять текущую запсиь на новую, проверяем, нужно ли сохранить текущие данные\r\n        if (this.state.isNeedToSave) { return }                                            //Проверяем на isNeedToSave что бы не пропустить сохранение\r\n\r\n        this.setState({ currentItem: { model: { ...item }, rowKey: key } })                //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdData = this.state.refComponents.dgdData\r\n\r\n        if (item != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store()                                    //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n                });\r\n\r\n            keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)          //Проверяем на наличие нужной нам записи в текущей выборке\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {            //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdData != null) {\r\n                key = dgdData.instance.getKeyByRowIndex(0)                              //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    filteredRows = result;\r\n                });\r\n            item = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        this.setState({ currentItem: { model: { ...item }, rowKey: key } })\r\n\r\n        if (item.stateDeviceCode != null) {\r\n            this.setState({ equipmentStatusListFiltered: getStatusFilteredList(this) })\r\n        }\r\n\r\n        //Проверяем, если список пустой, то область редактирования скрываем\r\n        if (dgdData != null) {\r\n            dgdData.instance.getDataSource().store()                                    //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n                });\r\n\r\n            if (filteredRows.length === 0) {\r\n                this.setState({ isVisibleEditArea: false })\r\n            }\r\n            else {\r\n                this.setState({ isVisibleEditArea: true })\r\n            }\r\n        }\r\n    }\r\n    onRowClick(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        };\r\n    }\r\n\r\n    applyChange(target: any) {\r\n        let item = this.state.data.find(x => x.id === target.id)\r\n        let currentItem: string = \"\"\r\n\r\n        if (item != null) {\r\n            currentItem = JSON.stringify(item)\r\n        }\r\n\r\n        let newItem = JSON.stringify(target)\r\n\r\n        let hasChanged = currentItem != newItem\r\n\r\n        this.setState({ currentItem: { model: { ...target }, rowKey: this.state.currentItem.rowKey } })             //Сохраним новые значения\r\n        this.setState({ isNeedToSave: hasChanged })                                                                 //Установим признак \"нужно сохранить\"\r\n    }\r\n    onChangeStateTerminalId = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.stateTerminalId = e.value;\r\n\r\n        if (this.state.equipmentStatusList != null && this.state.equipmentStatusList.length > 0) {\r\n            var stateTerminal = this.state.equipmentStatusList.find((x: any) => x.id === e.value)\r\n            if (stateTerminal != null) {\r\n                changedItem.stateTerminalCode = stateTerminal.name\r\n            }\r\n        }\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    // Сохранение данных\r\n    handleButtonSaveClick() {\r\n        if (this.state.currentItem.model.id == 0) {\r\n            this.setState({ isNeedToSave: false })\r\n            return\r\n        }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            this.setState({\r\n                confirmSaveFormVisible: true                            // Показ формы подтверждения сохранения.\r\n            });\r\n        };\r\n    }\r\n    // Действие при подтверждении формы сохранения.\r\n    confirmFormClick() {\r\n        var saveItem = this.state.currentItem.model\r\n\r\n        var terminalStatesByDevice: TerminalStatesByDevice[] = [];\r\n\r\n        terminalStatesByDevice.push({\r\n            id: saveItem.id,\r\n            deviceTypeId: saveItem.deviceTypeId == null ? 0 : saveItem.deviceTypeId,\r\n            stateDeviceId: saveItem.stateDeviceId == null ? 0 : saveItem.stateDeviceId,\r\n            stateTerminalId: saveItem.stateTerminalId == null ? 0 : saveItem.stateTerminalId\r\n        })\r\n\r\n        dbwrap.UpdateRow(\"TerminalStatesByDevices\", terminalStatesByDevice, null).then((data: dbwrap.responseResult) => {\r\n            if (data.success) {\r\n                this.handleButtonRefreshClick();\r\n            }\r\n            else {\r\n                let errorMessage: string = ''\r\n\r\n                if (data.data.parsedErrObject == null) {\r\n                    errorMessage = data.data.request.responseText\r\n                }\r\n                else {\r\n                    errorMessage = data.data.parsedErrObject.message\r\n                }\r\n\r\n                this.setState({\r\n                    popupTitle: getLabelText('PopupTitle_Error'),\r\n                    popupMessage: errorMessage,\r\n                    popupVisible: true\r\n                });\r\n            }\r\n        })\r\n\r\n        this.closeConfirmFormClick('saved');\r\n    }\r\n    // Действие при отмене сохранения.\r\n    closeConfirmFormClick(action: string = 'cancel') {\r\n        this.setState({\r\n            confirmSaveFormVisible: false,\r\n            isNeedToSave: false\r\n        });\r\n\r\n        if (this.state.currentItem != null && action == 'cancel') {\r\n            var item = this.state.data.find(x => x.id === this.state.currentItem.model.id)\r\n            if (item != null) {\r\n                this.setState({ currentItem: { model: { ...item }, rowKey: this.state.currentItem.rowKey } })\r\n                this.setState({ isNeedToSave: false });\r\n            }\r\n        }\r\n\r\n        this.handleButtonRefreshClick()\r\n    }\r\n    //Отмена внесенных пользователем изменений\r\n    setToNextRow() {\r\n        let item = this.state.data.find(x => x.id === this.state.nextRow)\r\n\r\n        if (item != null) {\r\n            this.setState({ currentItem: { model: { ...item }, rowKey: this.state.nextRow } })\r\n        }\r\n\r\n        this.setState({ nextRow: 0 })           //После установки следующей записи, сбрасываем значение следующей записи\r\n    }\r\n    setToPrevRow() {\r\n        this.setState({ isVisibleToastForEdit: true })\r\n\r\n        let dgdData = this.state.refComponents.dgdData\r\n\r\n        if (dgdData != null) {\r\n            if (this.state.prevCurrentItem != null) {\r\n                dgdData.instance.navigateToRow(this.state.prevCurrentItem.model.id)\r\n            }\r\n            if (this.state.currentItem != null && this.state.currentItem.model.id != 0) {\r\n                dgdData.instance.navigateToRow(this.state.currentItem.model.id)\r\n            }\r\n        }\r\n    }\r\n    onToastHiding() {\r\n        this.setState({ isVisibleToastForEdit: false })\r\n    }\r\n\r\n    // Обновление grid.\r\n    handleButtonRefreshClick() {\r\n        this.componentDidMount()\r\n    }\r\n    //Отмена внесенных пользователем изменений\r\n    handleButtonRevertClick() {\r\n        this.closeConfirmFormClick()\r\n    }\r\n    // Закрытие popup.\r\n    hidePopup() {\r\n        this.setState({ popupVisible: false });\r\n    }\r\n    // Закрытие popup. Для обработки критической ошибки\r\n    hidePopupForCriticalError() {\r\n        this.setState({ popupVisibleForCriticalError: false });\r\n        this.setState({ hasCriticalError: true });                      //True - если справочник не может продолжить свою работу\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                    {getLabelText('PageName')}\r\n                </h3>\r\n\r\n                <div hidden={this.state.hasCriticalError === false}>\r\n                    <table width='100%' style={{ height: '80vh' }}>\r\n                        <tr>\r\n                            <td align='center'>\r\n                                <h1>\r\n                                    {getLabelText('Message_DirectoryNotAvailable')}\r\n                                </h1>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div hidden={this.state.hasCriticalError}>\r\n                    <Button icon=\"save\" disabled={this.state.isNeedToSave === false} onClick={this.handleButtonSaveClick} hint={getLabelText('Hint_Button_Save')} className='mb-2 mr-2' />\r\n                    <Button icon=\"refresh\" visible={this.state.isNeedToSave === false} onClick={this.handleButtonRefreshClick} hint={getLabelText('Hint_Button_Refresh')} className='mb-2 mr-2' />\r\n                    <Button icon=\"revert\" visible={this.state.isNeedToSave} onClick={this.handleButtonRevertClick} hint={getLabelText('Hint_Button_Cancel')} className='mb-2 mr-2' />\r\n\r\n                    <div hidden={this.state.isVisibleEditArea === false}>\r\n                        <table width={\"100%\"}>\r\n                            <tr>\r\n                                <td>\r\n                                    <Box direction=\"row\" width=\"100%\" height={38} crossAlign=\"center\">\r\n                                        <Item ratio={0} baseSize=\"16%\">\r\n                                            {getLabelText('ObjectMonitoring') + \":\"}\r\n                                        </Item>\r\n                                        <Item ratio={0} baseSize={24}>\r\n                                        </Item>\r\n                                        <Item ratio={0} baseSize={10}></Item>\r\n                                        <Item ratio={0} baseSize=\"84%\">\r\n                                            <TextBox readOnly={true} value={this.state.currentItem.model.deviceTypeName} />\r\n                                        </Item>\r\n                                    </Box>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <Box direction=\"row\" width=\"100%\" height={38} crossAlign=\"center\">\r\n                                        <Item ratio={0} baseSize=\"16%\">\r\n                                            {getLabelText('ObjectMonitoringStatus') + \":\"}\r\n                                        </Item>\r\n                                        <Item ratio={0} baseSize={24}>\r\n                                            <img src={getImageDevice(this.state.currentItem.model.stateDeviceCode)} />\r\n                                        </Item>\r\n                                        <Item ratio={0} baseSize={10}></Item>\r\n                                        <Item ratio={0} baseSize=\"84%\">\r\n                                            <SelectBox width={\"100%\"} readOnly={true}\r\n                                                dataSource={this.state.equipmentStatusList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"description\"\r\n                                                value={this.state.currentItem.model.stateDeviceId}\r\n                                            />\r\n                                        </Item>\r\n                                    </Box>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <Box direction=\"row\" width=\"100%\" height={38} crossAlign=\"center\">\r\n                                        <Item ratio={0} baseSize=\"16%\">\r\n                                            {getLabelText('TerminalStatus') + \":\"}\r\n                                        </Item>\r\n                                        <Item ratio={0} baseSize={24}>\r\n                                            <img src={getImageTerminal(this.state.currentItem.model.stateTerminalCode)} />\r\n                                        </Item>\r\n                                        <Item ratio={0} baseSize={10}></Item>\r\n                                        <Item ratio={0} baseSize=\"84%\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.equipmentStatusListFiltered}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"terminalState\"\r\n                                                placeholder={getLabelText('NeedSelect')}\r\n                                                value={this.state.currentItem.model.stateTerminalId}\r\n                                                itemRender={itemTerminal}\r\n                                                onValueChanged={this.onChangeStateTerminalId}\r\n                                            />\r\n                                        </Item>\r\n                                    </Box>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <ConfirmForm title={getLabelText('Message_Confirm')} message={getLabelText('Message_ConfirmSave')}\r\n                        visible={this.state.confirmSaveFormVisible} confirmButtonText={getLabelText('Button_Save')} confirmForm={this.confirmFormClick}\r\n                        cancelButtonText={getLabelText('Button_Cancel')} cancelForm={this.closeConfirmFormClick} />\r\n\r\n                    <MessagePopup\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopup}\r\n                        message={this.state.popupMessage}\r\n                        visible={this.state.popupVisible}\r\n                    />\r\n                    <MessagePopup\r\n                        visible={this.state.popupVisibleForCriticalError}\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopupForCriticalError}\r\n                        message={this.state.popupMessage}\r\n                    />\r\n\r\n                    <br />\r\n\r\n                    <DataGrid\r\n                        dataSource={this.state.data}\r\n                        keyExpr=\"id\"\r\n                        showBorders={true}\r\n                        focusedRowEnabled={true}\r\n                        allowColumnResizing={true}\r\n                        allowColumnReordering={true}\r\n                        onFocusedRowChanged={this.onFocusedRowChanged}\r\n                        onRowClick={this.onRowClick}\r\n                        focusedRowKey={this.state.currentItem.rowKey}\r\n                        onFocusedRowChanging={this.onFocusedRowChanging}\r\n\r\n                        autoNavigateToFocusedRow={true}\r\n                        onContentReady={this.onContentReady}\r\n                        ref={(ref) => { this.state.refComponents[\"dgdData\"] = ref }}\r\n                    >\r\n\r\n                        <Paging defaultPageSize={10} />\r\n                        <Pager\r\n                            visible={true}\r\n                            allowedPageSizes={allowedPageSizes}\r\n                            displayMode={'full'}\r\n                            showPageSizeSelector={true}\r\n                            showInfo={true}\r\n                            showNavigationButtons={true} />\r\n\r\n                        <FilterRow visible={true} />\r\n                        <HeaderFilter visible={true} />\r\n                        <ColumnChooser enabled={true} mode=\"select\" />\r\n                        <Sorting mode=\"multiple\" />\r\n                        <SearchPanel visible={true} />\r\n\r\n                        <Column dataField=\"deviceTypeName\" dataType=\"string\" caption={getLabelText('ObjectMonitoring')} />\r\n                        <Column dataField=\"stateDeviceId\" caption={getLabelText('ObjectMonitoringStatus')} cellRender={stateDeviceImage} >\r\n                            <Lookup dataSource={this.state.equipmentStatusList} valueExpr=\"id\" displayExpr=\"description\" />\r\n                        </Column>\r\n                        <Column dataField=\"stateTerminalId\" caption={getLabelText('TerminalStatus')} cellRender={stateTerminalImage} >\r\n                            <Lookup dataSource={this.state.equipmentStatusList} valueExpr=\"id\" displayExpr=\"terminalState\" />\r\n                        </Column>\r\n                    </DataGrid>\r\n\r\n                    <Toast\r\n                        visible={this.state.isVisibleToastForEdit}\r\n                        message={getLabelText('Message_EditMode')}\r\n                        type={'warning'}\r\n                        onHiding={this.onToastHiding}\r\n                        displayTime={3000}\r\n                        width={400}\r\n                        position={'center center'}\r\n                    />\r\n                </div >\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) { return {} }\r\n\r\nfunction mapDispatchToProps(dispatch: any) { return { actions: {} } }\r\n\r\nexport const DeviceStatusDict = connect(mapStateToProps, mapDispatchToProps)(DeviceStatusDictClass);\r\n","import getLocMsg, { LocMsgId } from '../../localization';\r\n\r\nexport default function getLabelText(code: string): string {\r\n    switch (code) {\r\n        case 'PageName':\r\n            return getLocMsg(LocMsgId.Menu_Dicts_Monitoring_EmailTemplate);\r\n\r\n        case 'Name':\r\n            return getLocMsg(LocMsgId.Column_Name);\r\n        case 'EmailTemplateName':\r\n            return getLocMsg(LocMsgId.Column_EmailTemplateName);\r\n        case 'Subject':\r\n            return getLocMsg(LocMsgId.Column_Subject);\r\n        case 'Body':\r\n            return getLocMsg(LocMsgId.Column_Body);\r\n        case 'Username':\r\n            return getLocMsg(LocMsgId.Column_Username);\r\n\r\n        case 'NeedSelect':\r\n            return getLocMsg(LocMsgId.Message_NeedSelect);\r\n        case 'PopupTitle_Error':\r\n            return getLocMsg(LocMsgId.PopupTitle_Error);\r\n        case 'PopupTitle_Information':\r\n            return getLocMsg(LocMsgId.PopupTitle_Information);\r\n\r\n        case 'Message_Error':\r\n            return getLocMsg(LocMsgId.Message_Error);\r\n        case 'Message_Success':\r\n            return getLocMsg(LocMsgId.Message_Success);\r\n        case 'Message_DataIntegrityViolationError':\r\n            return getLocMsg(LocMsgId.Message_DataIntegrityViolationError);\r\n        case 'Message_Confirm':\r\n            return getLocMsg(LocMsgId.Message_Confirm);\r\n        case 'Message_ConfirmSave':\r\n            return getLocMsg(LocMsgId.Message_Saving);\r\n        case 'Message_ConfirmDelete':\r\n            return getLocMsg(LocMsgId.Message_Deleting);\r\n        case 'Message_EditMode':\r\n            return getLocMsg(LocMsgId.Message_EditMode);\r\n\r\n        case 'Button_EditEmailBody':\r\n            return getLocMsg(LocMsgId.Button_EditEmailBody)\r\n        case 'Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n        case 'Button_Close':\r\n            return getLocMsg(LocMsgId.Button_Close);\r\n        case 'Button_Yes':\r\n            return getLocMsg(LocMsgId.Button_Yes);\r\n        case 'Button_No':\r\n            return getLocMsg(LocMsgId.Button_No);\r\n\r\n        case 'Name_Incorrect':\r\n            return getLocMsg(LocMsgId.Message_NameRequired);\r\n        case 'Subject_Incorrect':\r\n            return getLocMsg(LocMsgId.Message_SubjectRequired);\r\n        case 'Body_Incorrect':\r\n            return getLocMsg(LocMsgId.Message_BodyRequired);\r\n        case 'Name_IsDublicate':\r\n            return getLocMsg(LocMsgId.Message_EmailTemplateSaveError);\r\n        case 'Message_DirectoryNotAvailable':\r\n            return getLocMsg(LocMsgId.Message_DirectoryNotAvailable);\r\n\r\n        case 'Hint_Button_Add':\r\n            return getLocMsg(LocMsgId.Button_Add);\r\n        case 'Hint_Button_Delete':\r\n            return getLocMsg(LocMsgId.Button_Delete);\r\n        case 'Hint_Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Hint_Button_Refresh':\r\n            return getLocMsg(LocMsgId.Button_Refresh);\r\n        case 'Hint_Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n    }\r\n\r\n    return '';\r\n}\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../../DbWrapper';\r\nimport DataGrid, {\r\n    Column,\r\n    ColumnChooser,\r\n    FilterRow,\r\n    HeaderFilter,\r\n    Lookup,\r\n    SearchPanel,\r\n    Sorting,\r\n    Pager,\r\n    Paging\r\n} from 'devextreme-react/data-grid';\r\nimport Button from 'devextreme-react/button';\r\nimport { MessagePopup } from '../../components/CommonComponents/MessagePopup';\r\nimport { ConfirmForm } from '../../components/CommonComponents/ConfirmForm';\r\nimport TextBox from 'devextreme-react/text-box';\r\nimport { User } from '../../Models/User';\r\nimport { Popup, Position, ToolbarItem } from 'devextreme-react/popup';\r\nimport { Model } from './Model';\r\nimport getLabelText from './Labels';\r\nimport { EmailPlaceHolder } from '../../Models/issues/EmailPlaceHolder';\r\nimport HtmlEditor, { Toolbar, MediaResizing, Item, Variables, TableContextMenu } from 'devextreme-react/html-editor';\r\nimport { IncorrectData } from '../IssueEmailTemplates/IncorrectData';\r\nimport { Toast } from 'devextreme-react';\r\n\r\nconst sizeValues = ['8pt', '10pt', '12pt', '18pt', '24pt', '36pt', '48pt'];\r\nconst headerValues = [false, 1, 2, 3, 4, 5];\r\nconst fontValues = ['Arial', 'Courier New', 'Georgia', 'Impact', 'Lucida Console', 'Tahoma', 'Times New Roman', 'Verdana'];\r\nconst escapeCharacters = ['', ''];\r\n\r\ninterface IssueEmailTemplatesProps {\r\n\r\n}\r\n\r\ntype IssueEmailTemplatesState = {\r\n    data: Model[],\r\n    currentItem: { model: Model, rowKey: number },\r\n    isNeedToSave: boolean,\r\n    isNew: boolean,\r\n    prevCurrentItem?: { model: Model, rowKey: number },\r\n\r\n    emailPlaceHolderRows: EmailPlaceHolder[],\r\n    userRows: User[],\r\n    placeHolders: string[],\r\n    \r\n    confirmSaveFormVisible: boolean,\r\n    confirmDeleteFormVisible: boolean,\r\n    htmlEditorFormVisible: boolean,\r\n\r\n    isSaveFromHtmlEditor: boolean,\r\n\r\n    popupTitle: string,\r\n    popupMessage: string,\r\n    popupVisible: boolean,\r\n    popupVisibleForCriticalError: boolean,\r\n    hasCriticalError: boolean,\r\n\r\n    messageBody: string,\r\n\r\n    dataIsCorrect: { name: IncorrectData, subject: IncorrectData },\r\n\r\n    isVisibleEditArea: boolean,\r\n    isVisibleToastForEdit: boolean,\r\n\r\n    refComponents: any\r\n}\r\n\r\nconst allowedPageSizes = [5, 10, 15, 20];\r\n\r\nexport class IssueEmailTemplatesDictClass extends React.Component<IssueEmailTemplatesProps, IssueEmailTemplatesState> {\r\n    constructor(props: IssueEmailTemplatesProps) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            currentItem: {\r\n                model: { id: 0, name: '' },\r\n                rowKey: 0\r\n            },\r\n            isNeedToSave: false,\r\n            isNew: false,\r\n\r\n            emailPlaceHolderRows: [],\r\n            userRows: [],\r\n            placeHolders: [],\r\n\r\n            confirmSaveFormVisible: false,\r\n            confirmDeleteFormVisible: false,\r\n            htmlEditorFormVisible: false,\r\n\r\n            isSaveFromHtmlEditor: false,\r\n\r\n            popupTitle: \"\",\r\n            popupMessage: \"\",\r\n            popupVisible: false,\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: false,\r\n\r\n            messageBody: \"\",\r\n\r\n            dataIsCorrect: {\r\n                name: { isValid: true },\r\n                subject: { isValid: true }\r\n            },\r\n\r\n            isVisibleEditArea: false,\r\n            isVisibleToastForEdit: false,\r\n\r\n            refComponents: new Map()\r\n        };\r\n\r\n        //#region Render functions\r\n        this.renderEmailHtmlEditor = this.renderEmailHtmlEditor.bind(this);\r\n        //#endregion\r\n\r\n        //#region Toolbar buttons functions\r\n        this.handleButtonAddClick = this.handleButtonAddClick.bind(this);\r\n        this.handleButtonSaveClick = this.handleButtonSaveClick.bind(this);\r\n        this.handleButtonRemoveClick = this.handleButtonRemoveClick.bind(this);\r\n        this.handleButtonRefreshClick = this.handleButtonRefreshClick.bind(this);\r\n        this.handleButtonRevertClick = this.handleButtonRevertClick.bind(this);\r\n        this.handleButtonEditEmailClick = this.handleButtonEditEmailClick.bind(this);\r\n        //#endregion\r\n\r\n        //#region IssueEmailTemplates DataGrid functions\r\n        this.changeCurrentRow = this.changeCurrentRow.bind(this);\r\n        this.onFocusedRowChanged = this.onFocusedRowChanged.bind(this);\r\n        this.onFocusedRowChanging = this.onFocusedRowChanging.bind(this);\r\n        this.onContentReady = this.onContentReady.bind(this);\r\n        this.onRowClick = this.onRowClick.bind(this);\r\n        this.setToPrevRow = this.setToPrevRow.bind(this);\r\n        this.onToastHiding = this.onToastHiding.bind(this);\r\n        //#endregion\r\n\r\n        //#region HtmlEditor functions\r\n        this.htmlEditorValueChanged = this.htmlEditorValueChanged.bind(this);\r\n        this.saveHtmlEditorForm = this.saveHtmlEditorForm.bind(this);\r\n        this.closeHtmlEditorForm = this.closeHtmlEditorForm.bind(this);\r\n        this.onInitialized = this.onInitialized.bind(this);\r\n        //#endregion\r\n\r\n        //#region Popup functions\r\n        this.hidePopup = this.hidePopup.bind(this);\r\n        this.hidePopupForCriticalError = this.hidePopupForCriticalError.bind(this);\r\n        //#endregion\r\n\r\n        //#region Confirm functions\r\n        this.confirmFormClick = this.confirmFormClick.bind(this);\r\n        this.closeConfirmFormClick = this.closeConfirmFormClick.bind(this);\r\n        this.confirmDeleteFormClick = this.confirmDeleteFormClick.bind(this);\r\n        this.closeConfirmDeleteFormClick = this.closeConfirmDeleteFormClick.bind(this);\r\n        //#endregion\r\n\r\n        //#region Validation functions\r\n        this.onChangeName = this.onChangeName.bind(this);\r\n        this.onChangeSubject = this.onChangeSubject.bind(this);\r\n        this.applyChange = this.applyChange.bind(this);\r\n        this.resetDataForCorrect = this.resetDataForCorrect.bind(this);\r\n        this.checkDataForCorrect = this.checkDataForCorrect.bind(this);\r\n        this.checkEmailBody = this.checkEmailBody.bind(this);\r\n        this.checkEmailTemplate = this.checkEmailTemplate.bind(this);\r\n        //#endregion\r\n    }\r\n\r\n    //#region Render\r\n    // Показ модального HtmlEditor'а.\r\n    renderEmailHtmlEditor() {\r\n        if (!this.state.htmlEditorFormVisible) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <Popup\r\n                visible={this.state.htmlEditorFormVisible}\r\n                dragEnabled={false}\r\n                closeOnOutsideClick={false}\r\n                showCloseButton={false}\r\n                showTitle={true}\r\n                width=\"90vw\"\r\n                title={this.state.currentItem.model.subject}>\r\n                <Position at=\"center\" my=\"center\" />\r\n\r\n                <Button\r\n                    style={{ margin: \"0 10px 10px 0\" }}\r\n                    text={getLabelText('Button_Save')}\r\n                    type=\"normal\"\r\n                    stylingMode=\"contained\"\r\n                    onClick={this.saveHtmlEditorForm}\r\n                    ref={(ref) => { this.state.refComponents[\"htmlEditorBtnOk\"] = ref }}\r\n                />\r\n\r\n                <Button\r\n                    style={{ margin: \"0 0 10px 0\" }}\r\n                    text={getLabelText('Button_Close')}\r\n                    type=\"normal\"\r\n                    stylingMode=\"contained\"\r\n                    onClick={this.closeHtmlEditorForm}\r\n                />\r\n\r\n                <HtmlEditor\r\n                    height=\"90%\"\r\n                    defaultValue={this.state.messageBody}\r\n                    valueType=\"html\"\r\n                    onValueChanged={this.htmlEditorValueChanged}\r\n                    ref={(ref) => { this.state.refComponents[\"htmlEditor\"] = ref }}\r\n                    onInitialized={this.onInitialized}>\r\n                    <MediaResizing enabled={true} />\r\n                    <Toolbar multiline={false}>\r\n                        <Item name=\"undo\" />\r\n                        <Item name=\"redo\" />\r\n                        <Item name=\"clear\" />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"font\" acceptedValues={fontValues} />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"header\" acceptedValues={headerValues} />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"size\" acceptedValues={sizeValues} />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"bold\" />\r\n                        <Item name=\"italic\" />\r\n                        <Item name=\"strike\" />\r\n                        <Item name=\"underline\" />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"alignLeft\" />\r\n                        <Item name=\"alignCenter\" />\r\n                        <Item name=\"alignRight\" />\r\n                        <Item name=\"alignJustify\" />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"color\" />\r\n                        <Item name=\"background\" />\r\n                        <Item name=\"orderedList\" />\r\n                        <Item name=\"bulletList\" />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"link\" />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"codeBlock\" />\r\n                        <Item name=\"blockquote\" />\r\n                        <Item name=\"separator\" />\r\n                        <Item name=\"variable\" />\r\n                    </Toolbar>\r\n                    <TableContextMenu enabled={true} />\r\n                    <Variables\r\n                        dataSource={this.state.placeHolders}\r\n                        escapeChar={escapeCharacters}\r\n                    />\r\n                </HtmlEditor>\r\n            </Popup>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                    {getLabelText('PageName')}\r\n                </h3>\r\n\r\n                <div hidden={this.state.hasCriticalError === false}>\r\n                    <div style={{ height: '80vh' }} className=\"d-flex flex-column justify-content-center align-items-center\">\r\n                        <h1>{getLabelText('Message_DirectoryNotAvailable')}</h1>\r\n                    </div>\r\n                </div>\r\n\r\n                <div hidden={this.state.hasCriticalError}>\r\n                    <Button icon=\"add\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNew || this.state.isNeedToSave} onClick={this.handleButtonAddClick} hint={getLabelText('Hint_Button_Add')} className='mb-2 mr-2' />\r\n                    <Button icon=\"trash\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNew || this.state.isVisibleEditArea === false || this.state.isNeedToSave} onClick={this.handleButtonRemoveClick} hint={getLabelText('Hint_Button_Delete')} className='mb-2 mr-2' />\r\n                    <Button icon=\"save\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNeedToSave === false} onClick={this.handleButtonSaveClick} hint={getLabelText('Hint_Button_Save')} className='mb-2 mr-2' />\r\n                    <Button icon=\"refresh\" activeStateEnabled={false} hoverStateEnabled={false} visible={this.state.isNeedToSave === false && this.state.isNew === false} disabled={this.state.isNew} onClick={this.handleButtonRefreshClick} hint={getLabelText('Hint_Button_Refresh')} className='mb-2 mr-2' />\r\n                    <Button icon=\"revert\" activeStateEnabled={false} hoverStateEnabled={false} visible={this.state.isNeedToSave || this.state.isNew} onClick={this.handleButtonRevertClick} hint={getLabelText('Hint_Button_Cancel')} className='mb-2 mr-2' />\r\n\r\n                    <div className=\"mt-3\" hidden={this.state.isVisibleEditArea === false && this.state.isNew === false}>\r\n                        <div className='row mb-2'>\r\n                            <div className='col'>\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    {getLabelText('Name')}:\r\n                                    <TextBox className=\"w-75\" value={this.state.currentItem.model.name}\r\n                                        valueChangeEvent=\"input\" onValueChanged={this.onChangeName} maxLength={100}\r\n                                        isValid={this.state.dataIsCorrect.name.isValid} hint={this.state.dataIsCorrect.name.message}\r\n                                        ref={(ref) => { this.state.refComponents[\"txtName\"] = ref }} />\r\n                                </div>\r\n                            </div>\r\n                            <div className='col'>\r\n                                <Button\r\n                                    text={getLabelText('Button_EditEmailBody')}\r\n                                    type=\"normal\"\r\n                                    stylingMode=\"contained\"\r\n                                    onClick={this.handleButtonEditEmailClick}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='row'>\r\n                            <div className='col-6'>\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    {getLabelText('Subject')}:\r\n                                    <TextBox className=\"w-75\" value={this.state.currentItem.model.subject}\r\n                                        valueChangeEvent=\"input\" onValueChanged={this.onChangeSubject} maxLength={100}\r\n                                        isValid={this.state.dataIsCorrect.subject.isValid} hint={this.state.dataIsCorrect.subject.message}\r\n                                        ref={(ref) => { this.state.refComponents[\"txtSubject\"] = ref }} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {this.renderEmailHtmlEditor()}\r\n\r\n                    {/*Подтверждение сохранения данных*/}\r\n                    <ConfirmForm title={getLabelText('Message_Confirm')} message={getLabelText('Message_ConfirmSave')}\r\n                        visible={this.state.confirmSaveFormVisible} confirmButtonText={getLabelText('Button_Save')} confirmForm={this.confirmFormClick}\r\n                        cancelButtonText={getLabelText('Button_Cancel')} cancelForm={this.closeConfirmFormClick} />\r\n\r\n                    {/*Подтверждение удаления шаблона*/}\r\n                    <ConfirmForm title={getLabelText('Message_Confirm')} message={getLabelText('Message_ConfirmDelete') + '\\n' + getLabelText('EmailTemplateName') + ': ' + this.state.currentItem.model.name}\r\n                        visible={this.state.confirmDeleteFormVisible} confirmButtonText={getLabelText('Button_Yes')} confirmForm={this.confirmDeleteFormClick}\r\n                        cancelButtonText={getLabelText('Button_No')} cancelForm={this.closeConfirmDeleteFormClick} />\r\n\r\n                    <MessagePopup title={this.state.popupTitle} hidePopup={this.hidePopup} message={this.state.popupMessage} visible={this.state.popupVisible} />\r\n                    <MessagePopup title={this.state.popupTitle} hidePopup={this.hidePopupForCriticalError} message={this.state.popupMessage} visible={this.state.popupVisibleForCriticalError} />\r\n\r\n                    <br />\r\n\r\n                    <DataGrid\r\n                        dataSource={this.state.data}\r\n                        keyExpr=\"id\"\r\n                        showBorders={true}\r\n                        focusedRowEnabled={true}\r\n                        allowColumnResizing={true}\r\n                        allowColumnReordering={true}\r\n                        onFocusedRowChanged={this.onFocusedRowChanged}\r\n                        onRowClick={this.onRowClick}\r\n                        focusedRowKey={this.state.currentItem.rowKey}\r\n                        onFocusedRowChanging={this.onFocusedRowChanging}\r\n                        autoNavigateToFocusedRow={true}\r\n                        onContentReady={this.onContentReady}\r\n                        ref={(ref) => { this.state.refComponents[\"dgdData\"] = ref }}>\r\n                        <Paging defaultPageSize={10} />\r\n                        <Pager\r\n                            visible={true}\r\n                            allowedPageSizes={allowedPageSizes}\r\n                            displayMode={'full'}\r\n                            showPageSizeSelector={true}\r\n                            showInfo={true}\r\n                            showNavigationButtons={true} />\r\n                        <FilterRow visible={true} />\r\n                        <HeaderFilter visible={true} />\r\n                        <ColumnChooser enabled={true} mode=\"select\" />\r\n                        <Sorting mode=\"multiple\" />\r\n                        <SearchPanel visible={true} />\r\n                        <Column dataField=\"name\" dataType=\"string\" caption={getLabelText('Name')} />\r\n                        <Column dataField=\"subject\" dataType=\"string\" caption={getLabelText('Subject')} />\r\n                        <Column dataField=\"body\" dataType=\"string\" caption={getLabelText('Body')} visible={false} />\r\n                        <Column dataField=\"userId\" caption={getLabelText('Username')} alignment=\"left\">\r\n                            <Lookup dataSource={this.state.userRows} valueExpr=\"id\" displayExpr=\"username\" />\r\n                        </Column>\r\n                    </DataGrid>\r\n\r\n                    <Toast\r\n                        visible={this.state.isVisibleToastForEdit}\r\n                        message={getLabelText('Message_EditMode')}\r\n                        type={'warning'}\r\n                        onHiding={this.onToastHiding}\r\n                        displayTime={3000}\r\n                        width={400}\r\n                        position={'center center'}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    //#endregion\r\n\r\n    //#region Code\r\n    componentDidMount() {\r\n        (async () => {\r\n            await dbwrap.GetRows(\"EmailTemplates\", null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.setState({ data: data.data });\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisibleForCriticalError: true\r\n                    });\r\n\r\n                    return;\r\n                }\r\n\r\n                (async () => {\r\n                    await dbwrap.GetRows(\"Users\", null).then((data: dbwrap.responseResult) => {\r\n                        if (data.success) {\r\n                            this.setState({ userRows: data.data });\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: getLabelText('PopupTitle_Error'),\r\n                                popupMessage: errorMessage,\r\n                                popupVisibleForCriticalError: true\r\n                            });\r\n\r\n                            return;\r\n                        }\r\n\r\n                        (async () => {\r\n                            await dbwrap.GetRows(\"EmailPlaceHolders\", null).then((data: dbwrap.responseResult) => {\r\n                                if (data.success) {\r\n                                    this.setState({ emailPlaceHolderRows: data.data });\r\n\r\n                                    var arr: string[] = [];\r\n\r\n                                    // Преобразование в массив строк типа \"Наименование - [Плейс холдер]\" и \"[Плейс холдер]\".\r\n                                    this.state.emailPlaceHolderRows.forEach((element) => {\r\n                                        arr.push(element.name + \" - \" + element.placeHolder);\r\n                                        //@ts-ignore\r\n                                        arr.push(element.placeHolder);\r\n                                    });\r\n\r\n                                    this.setState({ placeHolders: arr });\r\n\r\n                                    this.render();\r\n                                }\r\n                                else {\r\n                                    let errorMessage: string = '';\r\n\r\n                                    if (data.data.parsedErrObject == null) {\r\n                                        errorMessage = data.data.request.responseText\r\n                                    }\r\n                                    else {\r\n                                        errorMessage = data.data.parsedErrObject.message\r\n                                    }\r\n\r\n                                    this.setState({\r\n                                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                                        popupMessage: errorMessage,\r\n                                        popupVisibleForCriticalError: true\r\n                                    });\r\n                                }\r\n                            });\r\n                        })();\r\n                    });\r\n                })();\r\n            });\r\n        })();\r\n    }\r\n\r\n    //#region Toolbar buttons functions\r\n    // Создание шаблона письма.\r\n    handleButtonAddClick() {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow();\r\n\r\n            return;\r\n        };\r\n\r\n        // Предварительно сохраняем предыдущую запись.\r\n        this.setState({ prevCurrentItem: { ...this.state.currentItem } });\r\n\r\n        var newItem: Model = { id: 0, name: '' };\r\n\r\n        this.setState({ currentItem: { model: newItem, rowKey: newItem.id } });\r\n        this.setState({ isNew: true });\r\n\r\n        this.resetDataForCorrect();\r\n\r\n        let first = this.state.refComponents.txtName;\r\n\r\n        if (first != null) {\r\n            // Устанавливаем фокус на первом радактируемом элементе.\r\n            first.instance.focus();\r\n        }\r\n    }\r\n\r\n    // Сохранение шаблона писем.\r\n    handleButtonSaveClick() {\r\n        if (this.state.currentItem.model.id === 0 && this.state.isNew === false) {\r\n            this.setState({ isNeedToSave: false });\r\n            return;\r\n        }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            // Показ формы подтверждения сохранения.\r\n            this.setState({ confirmSaveFormVisible: true });\r\n        }\r\n    }\r\n\r\n    // Удаление шаблона письма.\r\n    handleButtonRemoveClick() {\r\n        if (this.state.data.find(x => x.id === this.state.currentItem.model.id) == null) { return; }\r\n\r\n        // Показ формы подтверждения сохранения.\r\n        this.setState({ confirmDeleteFormVisible: true });\r\n    }\r\n\r\n    // Обновление grid.\r\n    handleButtonRefreshClick() {\r\n        this.componentDidMount();\r\n    }\r\n\r\n    // Сброс изменений.\r\n    handleButtonRevertClick() {\r\n        this.closeConfirmFormClick('cancel');\r\n    }\r\n\r\n    // Действие при нажатии на кнопку редактирования текста письма.\r\n    handleButtonEditEmailClick() {\r\n        var item = this.state.currentItem.model;\r\n\r\n        if (this.checkDataForCorrect(item) === false) {\r\n            return;\r\n        }\r\n\r\n        // Получение содержимого письма.\r\n        var emailTemplate = { ...item };\r\n        var message = String(emailTemplate.body);\r\n\r\n        if (message != \"undefined\") {\r\n            var firstIndex = message.indexOf(\"<body>\");\r\n            message = message.slice(firstIndex + 6);\r\n\r\n            var lastIndex = message.indexOf(\"</body>\");\r\n            message = message.slice(0, lastIndex);\r\n        }\r\n        else {\r\n            message = '';\r\n        }\r\n\r\n        this.setState({\r\n            messageBody: message,\r\n            htmlEditorFormVisible: true\r\n        })\r\n    }\r\n    //#endregion\r\n\r\n    //#region IssueEmailTemplates DataGrid functions\r\n    changeCurrentRow(e: Model) {\r\n        this.setState({ isNew: false });\r\n\r\n        if (e == null) { return }\r\n\r\n        const dataRow = e;\r\n\r\n        this.setState({\r\n            currentItem: {\r\n                model: { ...dataRow },\r\n                rowKey: dataRow.id\r\n            },\r\n        })\r\n        this.setState({ isNeedToSave: false });\r\n\r\n        this.resetDataForCorrect();\r\n    }\r\n\r\n    onFocusedRowChanged(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow();\r\n\r\n            return;\r\n        }\r\n\r\n        this.changeCurrentRow(e.row && e.row.data);\r\n    }\r\n\r\n    onFocusedRowChanging(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            e.cancel = true;\r\n\r\n            return;\r\n        }\r\n    }\r\n\r\n    onContentReady(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow();\r\n\r\n            return;\r\n        }\r\n\r\n        var item = this.state.currentItem.model;\r\n        var key = item.id;\r\n        var keyExistsInFilteredRows = -1;\r\n        var filteredRows: any;\r\n\r\n        // Перед тем как поменять текущую запись на новую, проверяем, нужно ли сохранить текущие данные.\r\n        this.onFocusedRowChanged(item);\r\n        // Проверяем на isEmailTemplateEdited, чтобы не пропустить сохранение.\r\n        if (this.state.isNeedToSave) { return }\r\n\r\n        // Пытаемся установить фокус на нужной нам записи.\r\n        this.setState({ currentItem: { model: { ...item }, rowKey: key } });\r\n\r\n        let dgdData = this.state.refComponents.dgdData;\r\n\r\n        if (item != null && dgdData != null) {\r\n            // Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n            dgdData.instance.getDataSource().store()\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    // Записываем результат во временную переменную filteredRows.\r\n                    filteredRows = result;\r\n                });\r\n\r\n            //Проверяем на наличие нужной нам записи в текущей выборке.\r\n            keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        // Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись.\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {\r\n            if (dgdData != null) {\r\n                // Определяем Key по нулевому индексу(нулевой индекс - это всегда первая запись).\r\n                key = dgdData.instance.getKeyByRowIndex(0)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    filteredRows = result;\r\n                });\r\n            item = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        this.setState({ currentItem: { model: { ...item }, rowKey: key } });\r\n\r\n        // Проверяем, если список пустой, то область редактирования скрываем.\r\n        if (dgdData != null) {\r\n            // Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n            dgdData.instance.getDataSource().store()\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    // Записываем результат во временную переменную filteredRows.\r\n                    filteredRows = result;\r\n                });\r\n\r\n            if (filteredRows.length === 0) {\r\n                this.setState({ isVisibleEditArea: false });\r\n            }\r\n            else {\r\n                this.setState({ isVisibleEditArea: true });\r\n            }\r\n        }\r\n    }\r\n\r\n    onRowClick(e: any) {\r\n        if (this.state.currentItem.model.id === e.data.id) { return }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow();\r\n\r\n            return;\r\n        };\r\n\r\n        if (this.state.currentItem.model.id === 0 || this.state.currentItem.model.id == null) {\r\n            this.changeCurrentRow(e.data);\r\n        }\r\n    }\r\n\r\n    setToPrevRow() {\r\n        this.setState({ isVisibleToastForEdit: true });\r\n\r\n        let dgdData = this.state.refComponents.dgdData;\r\n\r\n        if (dgdData != null) {\r\n            if (this.state.prevCurrentItem != null) {\r\n                dgdData.instance.navigateToRow(this.state.prevCurrentItem.model.id);\r\n            }\r\n            if (this.state.currentItem != null && this.state.currentItem.model.id != 0) {\r\n                dgdData.instance.navigateToRow(this.state.currentItem.model.id);\r\n            }\r\n        }\r\n    }\r\n\r\n    onToastHiding() {\r\n        this.setState({ isVisibleToastForEdit: false });\r\n    }\r\n    //#endregion\r\n\r\n    //#region HtmlEditor functions\r\n    // Действие при изменении содержимого письма.\r\n    htmlEditorValueChanged(e: any) {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        var isNeedRender: boolean = false;\r\n        if (e.value == '') {\r\n            changedItem.body = undefined;\r\n        }\r\n        else {\r\n            var body: string = e.value;\r\n\r\n            if (body.indexOf(\"\\t\") !== -1) {\r\n                body = e.previousValue;\r\n                isNeedRender = true;\r\n            }\r\n            // Замена пробелов на &nbsp; внутри > и <.\r\n            var isReplace: boolean = false;\r\n            var newValue: string = \"\";\r\n\r\n            for (var i = 0; i < body.length; i++) {\r\n                if (body.charAt(i) == '>') {\r\n                    isReplace = true;\r\n                }\r\n\r\n                if (body.charAt(i) == '<') {\r\n                    isReplace = false;\r\n                }\r\n\r\n                if (isReplace) {\r\n                    if (body.charAt(i) == ' ') {\r\n                        newValue += '&nbsp;';\r\n                    }\r\n                    else {\r\n                        newValue += body.charAt(i);\r\n                    }\r\n                }\r\n                else {\r\n                    newValue += body.charAt(i);\r\n                }\r\n            }\r\n\r\n            this.setState({ messageBody: newValue });\r\n\r\n            var email = '<!DOCTYPE html><html><head><style>p { white-space: nowrap; }</style></head><body>' + newValue + '</body></html>'\r\n            changedItem.body = email;\r\n        }\r\n\r\n        this.applyChange(changedItem);\r\n        if (isNeedRender) {\r\n            let htmlEditor = this.state.refComponents.htmlEditor;\r\n            if (htmlEditor != null) {\r\n                htmlEditor.instance.undo();\r\n                htmlEditor.instance.clearHistory();\r\n            }\r\n        }\r\n    }\r\n\r\n    // Действие при сохранении тела письма.\r\n    saveHtmlEditorForm() {\r\n        if (!this.checkEmailBody()) return;\r\n\r\n        if (this.state.isNeedToSave) {\r\n            this.setState({ isSaveFromHtmlEditor: true });\r\n\r\n            // Сохранение шаблона.\r\n            this.handleButtonSaveClick();\r\n        }\r\n        else {\r\n            this.closeHtmlEditorForm();\r\n        }\r\n    }\r\n\r\n    // Действие при отмене сохранения тела письма.\r\n    closeHtmlEditorForm() {\r\n        this.setState({\r\n            htmlEditorFormVisible: false,\r\n            isSaveFromHtmlEditor: false\r\n        });\r\n    }\r\n\r\n    onInitialized(e: any) {\r\n        e.component.registerKeyHandler('tab', (e: any) => {\r\n            let htmlEditorBtnOk = this.state.refComponents.htmlEditorBtnOk;\r\n            if (htmlEditorBtnOk != null) {\r\n                htmlEditorBtnOk.instance.focus();\r\n            }\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Popup functions\r\n    // Закрытие popup.\r\n    hidePopup() {\r\n        this.setState({ popupVisible: false })\r\n    }\r\n\r\n    hidePopupForCriticalError() {\r\n        this.setState({\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: true\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Confirm functions\r\n    // Действие при подтверждении формы предупреждения.\r\n    confirmFormClick() {\r\n        var item = this.state.currentItem.model\r\n\r\n        if (this.checkEmailTemplate(item) === false) {\r\n            this.setState({ confirmSaveFormVisible: false });\r\n\r\n            return;\r\n        }\r\n\r\n        item.name = item.name == null ? '' : item.name.trim();\r\n        item.subject = item.subject == null ? '' : item.subject.trim();\r\n\r\n        if (this.state.currentItem.model.id === 0) {\r\n            // Создание шаблона письма.\r\n            dbwrap.AddRow(\"EmailTemplates\", this.state.currentItem.model, null)\r\n                .then((data: dbwrap.responseResult) => {\r\n                    if (data.success) {\r\n                        var currentItem = this.state.currentItem.model\r\n                        currentItem.id = data.data.id\r\n\r\n                        if (this.state.isSaveFromHtmlEditor) {\r\n                            this.setState({\r\n                                popupTitle: getLabelText('PopupTitle_Information'),\r\n                                popupMessage: getLabelText('Message_Success'),\r\n                                popupVisible: true\r\n                            });\r\n\r\n                            this.setState({\r\n                                isSaveFromHtmlEditor: false,\r\n                                htmlEditorFormVisible: false\r\n                            });\r\n                        }\r\n\r\n                        this.handleButtonRefreshClick();\r\n                    }\r\n                    else {\r\n                        let errorMessage: string = ''\r\n\r\n                        if (data.data.parsedErrObject == null) {\r\n                            errorMessage = data.data.request.responseText\r\n                        }\r\n                        else {\r\n                            errorMessage = data.data.parsedErrObject.message\r\n                        }\r\n\r\n                        this.setState({\r\n                            popupTitle: getLabelText('PopupTitle_Error'),\r\n                            popupMessage: errorMessage,\r\n                            popupVisible: true\r\n                        });\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            dbwrap.UpdateRow(\"EmailTemplates\", this.state.currentItem.model, null)\r\n                .then((data: dbwrap.responseResult) => {\r\n                    if (data.success) {\r\n                        if (this.state.isSaveFromHtmlEditor) {\r\n                            this.setState({\r\n                                popupTitle: getLabelText('PopupTitle_Information'),\r\n                                popupMessage: getLabelText('Message_Success'),\r\n                                popupVisible: true\r\n                            });\r\n\r\n                            this.setState({\r\n                                isSaveFromHtmlEditor: false,\r\n                                htmlEditorFormVisible: false\r\n                            });\r\n\r\n                            this.closeConfirmFormClick('saved');\r\n                        }\r\n\r\n                        this.handleButtonRefreshClick();\r\n                    }\r\n                    else {\r\n                        let errorMessage: string = ''\r\n\r\n                        if (data.data.parsedErrObject == null) {\r\n                            errorMessage = data.data.request.responseText\r\n                        }\r\n                        else {\r\n                            errorMessage = data.data.parsedErrObject.message\r\n                        }\r\n\r\n                        this.setState({\r\n                            popupTitle: getLabelText('PopupTitle_Error'),\r\n                            popupMessage: errorMessage,\r\n                            popupVisible: true\r\n                        });\r\n                    }\r\n                })\r\n        }\r\n\r\n        this.closeConfirmFormClick('saved');\r\n    }\r\n\r\n    // Действие при отмене формы предупреждения.\r\n    closeConfirmFormClick(action?: string) {\r\n        if (this.state.isSaveFromHtmlEditor && !this.state.isNew) {\r\n            this.setState({\r\n                confirmSaveFormVisible: false,\r\n                isNeedToSave: true\r\n            });\r\n        }\r\n        else {\r\n            if (action != 'saved') { action = 'cancel' }\r\n\r\n            this.setState({\r\n                confirmSaveFormVisible: false,\r\n                isNeedToSave: false\r\n            });\r\n\r\n            if (this.state.currentItem != null && this.state.currentItem != undefined && action == 'cancel') {\r\n                var item = this.state.data.find(x => x.id === this.state.currentItem.model.id);\r\n\r\n                if (item != null && item != undefined) {\r\n                    this.setState({ currentItem: { model: { ...item }, rowKey: this.state.currentItem.rowKey } });\r\n                }\r\n            }\r\n\r\n            if (this.state.currentItem.model.id === 0) {\r\n                this.setState({ currentItem: { model: { id: 0, name: '' }, rowKey: 0 } });\r\n\r\n                if (this.state.isNew && this.state.prevCurrentItem != null) {\r\n                    this.setState({ currentItem: { ...this.state.prevCurrentItem } });\r\n                }\r\n\r\n                this.setState({ isNew: false });\r\n            }\r\n\r\n            this.setState({ prevCurrentItem: undefined });\r\n\r\n            this.resetDataForCorrect();\r\n\r\n            this.handleButtonRefreshClick();\r\n        }\r\n    }\r\n\r\n    // Действие при подтверждении удаления.\r\n    confirmDeleteFormClick() {\r\n        var item = this.state.currentItem.model;\r\n\r\n        dbwrap.DeleteRow(\"EmailTemplates\", item.id, null)\r\n            .then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.handleButtonRefreshClick();\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisible: true\r\n                    });\r\n                }\r\n            })\r\n\r\n        this.resetDataForCorrect();\r\n\r\n        this.closeConfirmDeleteFormClick();\r\n    }\r\n\r\n    // Действие при отмене удаления.\r\n    closeConfirmDeleteFormClick() {\r\n        this.setState({\r\n            confirmDeleteFormVisible: false,\r\n            isNeedToSave: false\r\n        });\r\n\r\n        this.handleButtonRefreshClick();\r\n\r\n        if (this.state.data.length <= 1) {\r\n            this.setState(\r\n                {\r\n                    currentItem: { model: { id: 0, name: '' }, rowKey: 0 },\r\n                    isNew: false,\r\n                    isNeedToSave: false\r\n                }\r\n            )\r\n        }\r\n\r\n        this.resetDataForCorrect();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Validation functions\r\n    // Действие при изменении наименования шаблона письма.\r\n    onChangeName = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.name = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n\r\n    // Действие при изменении заголовка письма.\r\n    onChangeSubject = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.subject = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n\r\n    // Применение изменений и пометка на сохранение.\r\n    applyChange(target: any) {\r\n        let item = this.state.data.find(x => x.id === target.id);\r\n        let currentItem: string = \"\";\r\n\r\n        if (item != null) {\r\n            currentItem = JSON.stringify(item);\r\n        }\r\n\r\n        let newItem = JSON.stringify(target);\r\n\r\n        let hasChanged = currentItem != newItem\r\n\r\n        this.setState({ currentItem: { model: target, rowKey: this.state.currentItem.rowKey } });\r\n\r\n        this.setState({ isNeedToSave: hasChanged });\r\n    }\r\n\r\n    // Сброс индикаторов проверки.\r\n    resetDataForCorrect() {\r\n        this.setState({ dataIsCorrect: { name: { isValid: true, message: '' }, subject: { isValid: true, message: '' } } })\r\n    }\r\n\r\n    // Проверка данных на корректность перед записью в БД.\r\n    checkDataForCorrect(model: Model): boolean {\r\n        let name = model.name == null ? '' : model.name.trim();\r\n\r\n        var nameIsValid = model.name != null && model.name != '' && model.name != undefined && model.name.trim().length != 0\r\n        var nameMessage = nameIsValid ? '' : getLabelText('Name_Incorrect')\r\n\r\n        if (nameIsValid) {\r\n            nameIsValid = this.state.data.find(x => x.name.toUpperCase() === name.toUpperCase() && x.id != model.id) === undefined\r\n            nameMessage = nameIsValid ? '' : getLabelText('Name_IsDublicate')\r\n        }\r\n\r\n        var subjectIsValid = model.subject != null && model.subject != '' && model.subject != undefined && model.subject.trim().length != 0\r\n        var subjectMessage = subjectIsValid ? '' : getLabelText('Subject_Incorrect')\r\n\r\n        this.setState({ dataIsCorrect: { name: { isValid: nameIsValid, message: nameMessage }, subject: { isValid: subjectIsValid, message: subjectMessage } } })\r\n\r\n        if (nameIsValid === false) {\r\n            let comp = this.state.refComponents.txtName;\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus();\r\n            }\r\n        }\r\n        else if (subjectIsValid === false) {\r\n            let comp = this.state.refComponents.txtSubject;\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus();\r\n            }\r\n        }\r\n\r\n        return nameIsValid && subjectIsValid\r\n    }\r\n\r\n    // Проверка тела письма.\r\n    checkEmailBody() {\r\n        if (this.state.currentItem.model.body == null || this.state.currentItem.model.body == '') {\r\n            this.setState({\r\n                popupTitle: getLabelText('PopupTitle_Error'),\r\n                popupMessage: getLabelText('Body_Incorrect'),\r\n                popupVisible: true\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // Проверка шаблона письма.\r\n    checkEmailTemplate(item: Model): boolean {\r\n        return this.checkEmailBody() && this.checkDataForCorrect(item);\r\n    }\r\n    //#endregion\r\n    //#endregion\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) {\r\n    return {}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: any) {\r\n    return {\r\n        actions: {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport const IssueEmailTemplatesDict = connect(mapStateToProps, mapDispatchToProps)(IssueEmailTemplatesDictClass);","import React from 'react';\r\nimport getLocMsg, { LocMsgId } from '../localization';\r\nimport Button from 'devextreme-react/button';\r\nimport { ButtonGroup } from 'devextreme-react/button-group';\r\n\r\nimport * as dbwrap from '../DbWrapper';\r\nimport { GuiElementsId, GetGuiElementName } from '../Routes';\r\nimport { ErrorMsg, ErrorMsgProps, ErrorMsgFromDict } from '../ReusableComponents/DxStyleSimple';\r\nimport { MessageType, errorParser, ErrorEnum, getProp } from '../Errors';\r\nimport { TreeViewSelector,ITVSelectorData } from \"../ReusableComponents/TreeViewSelector\";\r\n\r\nimport DataGrid, {\r\n    Column,\r\n    Item,\r\n    Editing,\r\n    Selection,\r\n} from 'devextreme-react/data-grid';\r\n\r\nimport Form, {\r\n    Item as FormItem,\r\n    SimpleItem,\r\n    GroupItem,\r\n    Label,\r\n} from 'devextreme-react/form';\r\n\r\nimport { Popup } from 'devextreme-react/popup';\r\nimport { IColProps } from 'devextreme-react/responsive-box';\r\nimport { TableEditorMode } from '../ReusableComponents/TableEditorPage';\r\nimport { FormEditor } from '../ReusableComponents/FormEditor';\r\nimport { TEControllerBase, ICurrentRow } from '../ReusableComponents/TEControllerBase';\r\nimport { GetSidebarItems } from '../Routes';\r\nimport { TreeListHeaderFilterTexts } from 'devextreme-react/tree-list';\r\nimport { RoleRow } from './RoleConfig';\r\nimport { ResponsiveEmbed } from 'react-bootstrap';\r\n\r\n\r\ninterface UserRow {\r\n    id?: number,\r\n    userName: string,\r\n    password: string,\r\n    description: boolean,\r\n}\r\n\r\n\r\ninterface UserRolesState {\r\n    width: number;\r\n    height: number;\r\n    teController: TEControllerBase,\r\n    currentRowIndex: number,\r\n    currentRow: ICurrentRow,\r\n    userRows: UserRow[],\r\n    tvData: ITVSelectorData,\r\n    error: ErrorEnum,\r\n}\r\n\r\nexport class UserRolesPage extends React.Component<any, UserRolesState> {\r\n    tableName: string = \"Users\";\r\n    gridRef: object;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            currentRowIndex: -1,\r\n            currentRow: { newRowValue: {}, oldRowValue: {} },\r\n            userRows: [],\r\n            teController: new TEControllerBase(this),\r\n            error: ErrorEnum.NoError,\r\n            tvData:{allItems:[],newSelectedIds:[],oldSelectedIds:[],hasChanges:false},\r\n        }\r\n        this.gridRef = React.createRef();\r\n    }\r\n\r\n    getHeight(elm: string) {\r\n        let heightBeforeGrid = 280;\r\n        let heightForTviewsAndGrid = this.state.height - heightBeforeGrid - 50;\r\n        let tViewsKoef = 0.4;//доля оставшегося после формы пространства по высоте для Treeview (\"GUI Элементы\" и \"Аттрибуты\")\r\n        let gridKoef = 1 - tViewsKoef;  //доля оставшегося после формы пространства по высоте для датагрида\r\n        let tViewsHeight = heightForTviewsAndGrid * tViewsKoef;\r\n        let gridHeight = heightForTviewsAndGrid * gridKoef;\r\n        if (elm === \"tview\") {\r\n            return tViewsHeight;\r\n        }\r\n        if (elm === \"grid\") {\r\n            return gridHeight;\r\n        }\r\n        throw \"wrong elm \" + elm;\r\n    }\r\n\r\n    getCurrentRow(): ICurrentRow {\r\n        return this.state.currentRow;\r\n    }\r\n\r\n    getGrid(): DataGrid<any, any> {\r\n        //@ts-ignore\r\n        return this.gridRef.instance;\r\n    }\r\n\r\n    setCurrentRow(currRow: ICurrentRow) {\r\n        this.setState({ currentRow: currRow });\r\n    }\r\n\r\n    getCurrentRowIndex(): number {\r\n        return this.state.currentRowIndex;\r\n    }\r\n\r\n    onRowListChanged(rows: any[]) {\r\n        let currInd = this.state.currentRowIndex;\r\n        if (currInd === -1 && rows.length > 0) {\r\n            currInd = 0;\r\n            this.setState({ userRows: rows as UserRow[], currentRowIndex: currInd });\r\n            return;\r\n        }\r\n        let newRows = rows as UserRow[];\r\n        this.setState({ userRows: newRows });\r\n        //@ts-ignore\r\n        this.getGrid().refresh();\r\n    }\r\n\r\n    setCurrentRowIndex(idx: number) {\r\n        this.setState({ currentRowIndex: idx });\r\n    }\r\n\r\n\r\n    handleAddBtnClick() {\r\n        this.state.teController.AddRow();\r\n    }\r\n\r\n    handleCancelBtnClick() {\r\n        this.state.teController.CancelChanges();\r\n        this.loadRolesRows();\r\n    }\r\n\r\n    handleDeleteBtnClick() {\r\n        this.state.teController.DeleteRow();\r\n    }\r\n\r\n    handleError(result: dbwrap.responseResult) {\r\n        let parsedErr = errorParser(result.data);\r\n        if (parsedErr.hasOwnProperty(\"parsedErrId\")) {\r\n            let errId: ErrorEnum = getProp(parsedErr, \"parsedErrId\");\r\n            this.onError(errId);\r\n            return;\r\n        }\r\n    }\r\n\r\n    handleSaveBtnClick() {\r\n        if(!this.hasChanges()){\r\n            return;\r\n        }\r\n\r\n        if (this.state.teController.editorMode !== TableEditorMode.AddRow) {\r\n            //редактирование записи в таблице Users\r\n            this.state.teController.SaveChanges()\r\n                .then((result: dbwrap.responseResult) => {\r\n                    if (!result.success) {\r\n                        this.handleError(result);\r\n                        return;\r\n                    }\r\n                    return this.saveTvSelection()\r\n                });\r\n        } else {\r\n            //добавление новой записи в таблицу Users\r\n            let username = this.state.currentRow.newRowValue.username;\r\n            let password = this.state.currentRow.newRowValue.password;\r\n            dbwrap.AddUser(this.state.currentRow.newRowValue)\r\n                .then((result: dbwrap.responseResult) => {\r\n                    if (!result.success) {\r\n                        this.handleError(result);\r\n                        return;\r\n                    }\r\n                    let newRow = result.data;\r\n                    //@ts-ignore \r\n                    this.state.teController.rows.push(newRow);\r\n                    this.setCurrentRow({ newRowValue: { ...newRow }, oldRowValue: newRow });\r\n                    this.onRowListChanged(this.state.teController.rows);\r\n                    this.setCurrentRowIndex(this.state.teController.rows.length + 1);\r\n                    this.state.teController.editorMode = TableEditorMode.None;\r\n                    return this.saveTvSelection();\r\n                });\r\n        }\r\n    }\r\n\r\n    handleFieldChange(e: any, dataField: string) {\r\n        this.state.teController.HandleFieldChange(e, dataField)\r\n        this.setState({ error: ErrorEnum.NoError });\r\n    }\r\n\r\n    hasChanges() {\r\n        let rv = this.state.teController.HasChanges() || this.state.tvData.hasChanges;\r\n        return rv;\r\n    }\r\n\r\n    loadRolesRows() {\r\n        let rolesRows:any[];        \r\n        dbwrap.GetRows(\"Roles\", null)\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    throw (result);\r\n                }\r\n                rolesRows = result.data;\r\n                return dbwrap.GetRows(\"UserRoles\",null);\r\n            })\r\n            .then((result: dbwrap.responseResult) => {\r\n                if (!result.success) {\r\n                    throw (result);\r\n                }\r\n                let t = this;\r\n                let userRoles = result.data;\r\n                let cuurrUserId = this.state.currentRow.oldRowValue.id;\r\n                rolesRows.forEach((role:any)=>{\r\n                    let idx = userRoles.findIndex(\r\n                        (ur:any)=>{\r\n                            let reslt = (ur.userId === cuurrUserId && ur.roleId === role.id);\r\n                            return reslt;\r\n                        });\r\n                    role.selected = idx>-1;\r\n                });\r\n                let selIds = rolesRows.filter(r=>r.selected).map(r=>r.id) as number[];\r\n                this.setState({tvData:{allItems:rolesRows,newSelectedIds:[...selIds],oldSelectedIds:selIds,hasChanges:false}});\r\n            })\r\n            .catch((result: dbwrap.responseResult) => {\r\n                this.handleError(result);\r\n            });\r\n    }\r\n\r\n\r\n    onError(errorId: ErrorEnum) {\r\n        this.setState({ error: errorId });\r\n    }\r\n\r\n    saveTvSelection(){\r\n        dbwrap.GetRows(\"UserRoles\",null)\r\n        .then((result:dbwrap.responseResult)=>{\r\n            if(!result.success){\r\n                this.handleError(result);\r\n                return;                \r\n            }\r\n            let userRoledIdsForDeleting = result.data.filter((itm:any)=>itm.userId===this.state.currentRow.newRowValue.id).map((r:any)=>r.id);\r\n            return dbwrap.DeleteRow(\"UserRoles\",userRoledIdsForDeleting,null)    \r\n        })\r\n        .then((result:dbwrap.responseResult)=>{\r\n            if(!result.success){\r\n                this.handleError(result);\r\n                return;                \r\n            }\r\n            let newUserRoleRows = this.state.tvData.allItems\r\n            .filter(itm=>itm.selected)\r\n            .map((r:any)=>{return {userId:this.state.currentRow.newRowValue.id, roleId:r.id }});\r\n            return dbwrap.AddRowRange(\"UserRoles\",newUserRoleRows,null);\r\n        })\r\n        .then((result:dbwrap.responseResult)=>{\r\n            if(!result.success){\r\n                this.handleError(result);\r\n                return;                \r\n            }\r\n            this.onError(ErrorEnum.NoError);\r\n            this.loadRolesRows();\r\n        })\r\n    }\r\n\r\n    renderDataGrid() {\r\n        if (this.state.currentRowIndex === -1) {\r\n            return (<div />);\r\n        }\r\n        return (\r\n            <DataGrid\r\n                ref={(gref) => {\r\n                    if (gref) {\r\n                        this.gridRef = gref;\r\n                    }\r\n                }}\r\n                style={{ height: this.getHeight(\"grid\") }}\r\n                dataSource={this.state.userRows}\r\n                focusedRowEnabled={true}\r\n                focusedRowIndex={this.state.currentRowIndex}\r\n                keyExpr=\"id\"\r\n                onContentReady = {()=>this.loadRolesRows()}\r\n                onFocusedRowChanging={(e) => {\r\n                    let newRow = this.state.userRows[e.newRowIndex];\r\n                    if (this.hasChanges()) {\r\n                        this.onError(ErrorEnum.NotSavedRowChanges);\r\n                        return;\r\n                    }\r\n                    let bresult = this.state.teController.HandleSelectNewCurrentRow(newRow);\r\n                    if (bresult) {\r\n                        this.setState({ currentRowIndex: e.newRowIndex },()=>this.loadRolesRows());\r\n                    }\r\n                }}\r\n            >\r\n                <Selection mode=\"single\" />\r\n                <Column dataField=\"id\" caption=\"id\"></Column>\r\n                <Column dataField=\"username\" caption={getLocMsg(LocMsgId.Column_Name)} ></Column>\r\n                <Column dataField=\"description\" caption={getLocMsg(LocMsgId.Column_Description)}></Column>\r\n            </DataGrid>\r\n        );\r\n    }\r\n\r\n\r\n    renderFormFld(dataField: string, caption: string = \"\", disabled: boolean = false, width: number = 0, editorType: string = \"dxTextBox\") {\r\n        if (!caption) {\r\n            caption = dataField;\r\n        }\r\n        if (disabled) {\r\n            return (\r\n                <SimpleItem dataField={dataField} editorType={editorType} editorOptions={{ disabled: true, width: width }}>\r\n                    <Label text={caption} />\r\n                </SimpleItem>\r\n            );\r\n        } else {\r\n            let edOpt = { onInput: (e: any) => this.handleFieldChange(e, dataField) };\r\n            if (dataField === \"password\") {\r\n                //@ts-ignore\r\n                edOpt.mode = \"password\";\r\n            }\r\n            if (width > 0) {\r\n                //@ts-ignore\r\n                edOpt.width = width;\r\n            }\r\n            return (\r\n                <SimpleItem dataField={dataField} editorType={editorType}\r\n                    editorOptions={edOpt} >\r\n                    <Label text={caption} />\r\n                </SimpleItem>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderForm() {\r\n        return (\r\n            <Form id=\"FormEditor\" formData={this.state.currentRow.newRowValue} minColWidth={100}\r\n                style={{ marginTop: \"20px\", marginBottom: \"20px\" }} >\r\n                <GroupItem colCount={\"auto\"}>\r\n                    {this.renderFormFld(\"id\", \"\", true, 100)}\r\n                    {this.renderFormFld(\"username\", getLocMsg(LocMsgId.Column_Name), false, 300)}\r\n                </GroupItem>\r\n                <GroupItem colCount={\"auto\"}>\r\n                    {this.renderFormFld(\"password\", getLocMsg(LocMsgId.FormField_Password), false, 300)}\r\n                    {this.renderFormFld(\"description\", getLocMsg(LocMsgId.Column_Description), false, 380)}\r\n                </GroupItem>\r\n            </Form>\r\n        );\r\n    }\r\n\r\n    renderTVRoles() {\r\n        if (this.state.tvData.allItems.length === 0) {\r\n            return (<div />);\r\n        }\r\n\r\n        return (<TreeViewSelector \r\n                    parent={this}\r\n                    dataPropName=\"tvData\"\r\n                    displayExpr=\"roleName\" keyExpr=\"id\" />)\r\n    }\r\n\r\n    render() {\r\n        let rowSelected = (this.state.currentRowIndex != -1);\r\n        let btnAddStyle = this.state.teController.editorMode === TableEditorMode.AddRow ? { borderColor: \"lightGreen\", borderWidth: \"4px\" } : {};\r\n        let btnDeleteStyle = rowSelected && this.state.teController.editorMode !== TableEditorMode.AddRow ? { visibility: \"visible\" } : { visibility: \"hidden\" };\r\n        let disableSaveBtn = !this.hasChanges();\r\n        let disableCancelBtn = !this.hasChanges() && this.state.teController.editorMode !== TableEditorMode.AddRow;\r\n        return (<div id=\"userRolesPage\">\r\n            <h3 style={{ display: \"inline-block\", textAlign: \"left\" }}>{getLocMsg(LocMsgId.Menu_AccessManagement_UserRoles)}</h3>\r\n            <ButtonGroup style={{ marginLeft: \"20px\" }}>\r\n                <Item key=\"btnAdd\" location=\"before\" disabled={this.state.teController.editorMode === TableEditorMode.AddRow} >\r\n                    <Button style={btnAddStyle} icon=\"add\" onClick={() => this.handleAddBtnClick()} />\r\n                </Item>\r\n                <Item key=\"btnDelete\" location=\"before\">\r\n                    <Button style={btnDeleteStyle} icon=\"remove\" onClick={() => this.handleDeleteBtnClick()} />\r\n                </Item>\r\n            </ButtonGroup>\r\n            {this.renderForm()}\r\n            {this.renderTVRoles()}\r\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginBottom: \"20px\", marginTop: \"10px\" }}>\r\n                <Button icon=\"save\" text={getLocMsg(LocMsgId.Button_Save)} disabled={disableSaveBtn} onClick={() => this.handleSaveBtnClick()} style={{ marginLeft: \"10px\" }} />\r\n                <Button icon=\"clear\" text={getLocMsg(LocMsgId.Button_Cancel)} disabled={disableCancelBtn} onClick={() => this.handleCancelBtnClick()} style={{ marginLeft: \"10px\" }} />\r\n            </div>\r\n            {ErrorMsgFromDict(this.state.error)}\r\n            {this.renderDataGrid()}\r\n        </div>);\r\n    }\r\n}","import React from 'react';\r\nimport FileUploader from 'devextreme-react/file-uploader';\r\nimport SelectBox from 'devextreme-react/select-box';\r\nimport CheckBox from 'devextreme-react/check-box';\r\nimport {errorParser,ErrorEnum,MessageType} from '../Errors';\r\nimport {ErrorMsg,ErrorMsgYesNo,ErrorMsgProps} from '../ReusableComponents/DxStyleSimple';\r\nimport axios, { AxiosPromise } from 'axios';\r\n\r\ninterface UploadTupPageState {\r\n    selectedFiles:string[],\r\n    errFileAlreadyExists:boolean,\r\n    otherError:string\r\n}\r\n\r\nconst fileUplControllerUrl = \"/files/UpdatePackages\";\r\n\r\nexport class UploadTupPage extends React.Component<any, UploadTupPageState> {\r\n    constructor(props:UploadTupPageState) {\r\n        super(props);\r\n    \r\n        this.state = {\r\n          selectedFiles: [],\r\n          errFileAlreadyExists:false,\r\n          otherError:\"\"\r\n        };\r\n    \r\n        this.onSelectedFilesChanged = this.onSelectedFilesChanged.bind(this);\r\n        this.onUploadError = this.onUploadError.bind(this);\r\n        this.deleteFileFromDatabase = this.deleteFileFromDatabase.bind(this);\r\n    }\r\n\r\n    onSelectedFilesChanged(e:any) {\r\n        this.setState({ selectedFiles: e.value,otherError:\"\" });\r\n    }\r\n\r\n    onUploadError(e:any){\r\n        try {\r\n            let perr = errorParser(e.error);\r\n            if(perr.parsedErrObject){\r\n              this.setState({otherError:perr.parsedErrObject.message});\r\n              return;\r\n            }\r\n            let err = JSON.parse(e.error.response);\r\n            perr = errorParser(err);\r\n            if(perr.parsedErrObject && perr.parsedErrId === ErrorEnum.MSSQL_2601){\r\n                this.setState({errFileAlreadyExists:true});\r\n            } \r\n        }\r\n        catch(ee){\r\n\r\n        }\r\n    }\r\n\r\n    deleteFileFromDatabase(){\r\n      let file:any = this.state.selectedFiles[0];\r\n      axios({\r\n        url: fileUplControllerUrl,\r\n        params:{fileName:file.name},\r\n        method: \"DELETE\"\r\n      })\r\n      .then(response=>{\r\n        //Успешное удаление, ничего не предпренимаем\r\n      })\r\n      .catch(err=>{\r\n        let errStr:string = JSON.stringify(err);\r\n        this.setState({otherError:errStr});\r\n      })\r\n    }\r\n    \r\n    renderFileAlreadyExistsError(){\r\n        if(this.state.errFileAlreadyExists){\r\n            let file:any = this.state.selectedFiles[0];\r\n            let err:ErrorMsgProps = {message:\"Файл \"+file.name+\" уже есть, удалить?\",type:MessageType.error};\r\n            return ErrorMsgYesNo(err,(result:boolean)=>{\r\n                if(result){\r\n                  //нажата кнопка \"Да\"\r\n                  this.deleteFileFromDatabase(); \r\n                }\r\n                this.setState({errFileAlreadyExists:false});\r\n            });\r\n        }\r\n    }\r\n\r\n    renderOtherError(){\r\n      if(this.state.otherError){\r\n        return ErrorMsg({message:this.state.otherError,type:MessageType.error});\r\n      }\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n          <div>\r\n            <div className=\"widget-container\">\r\n              <FileUploader\r\n                multiple={false}\r\n                accept=\"*\"\r\n                uploadMode=\"instantly\"\r\n                uploadUrl={fileUplControllerUrl}\r\n                onUploadError={this.onUploadError}\r\n                onValueChanged={this.onSelectedFilesChanged} />\r\n              <div className=\"content\" style={{ display: this.state.selectedFiles.length > 0 ? 'block' : 'none' }}>\r\n                <div>\r\n                  <h4>Выбранный файл</h4>\r\n                  {\r\n                    this.state.selectedFiles.map((file:any, i:number) => <div key={i}>\r\n                      <span>{`Имя: ${file.name}`}<br /></span>\r\n                      <span>{`Размер ${file.size}`}<br /></span>\r\n                      <span>{`Тип ${file.size}`}<br /></span>\r\n                      <span>{`Дата последнего изменения: ${file.lastModifiedDate}`}</span>\r\n                    </div>)\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {this.renderFileAlreadyExistsError()}\r\n            {this.renderOtherError()}\r\n          </div>\r\n        );\r\n      }    \r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from 'devextreme-react/button';\r\nimport { ButtonGroup } from 'devextreme-react/button-group';\r\nimport * as dbwrap from '../DbWrapper';\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\r\nimport {RenderTooltip} from \"../helpers\";\r\n\r\nimport DataGrid, {\r\n    Column,\r\n    Item,\r\n    Grouping,\r\n    GroupPanel,   \r\n    HeaderFilter,\r\n    FilterRow, \r\n    Editing,\r\n    Selection,\r\n    FieldLookup,\r\n} from 'devextreme-react/data-grid';\r\nimport ContextMenu from 'devextreme-react/context-menu';\r\nimport {updateState,GetUpdateStateImg,GetUpdateTooltipText} from '../commonTypes';\r\nimport getLocMsg, { LocMsgId } from '../localization';\r\nimport { itemTerminal } from '../DictionaryComponents/DeviceStatus/Item';\r\n\r\n\r\ninterface TupField {\r\n    name:string,\r\n    title:string,\r\n    cellRender?(rowData:any):JSX.Element\r\n}\r\n\r\nconst TupRow:TupField[] = [\r\n    {name:\"id\",title:\"ID устройства\"},\r\n    {name:\"filial\",title:\"Филиал\"},\r\n    {name:\"name\",title:\"Наименование\"},\r\n    {name:\"typeDev\",title:\"Тип устройства\"},\r\n    {name:\"subnet\",title:\"Подсеть\"},\r\n    {name:\"address\",title:\"Адрес\"},\r\n    {name:\"pingdate\",title:\"Дата выхода на связь\"},\r\n    {name:\"currVer\",title:\"Текущая версия\"},\r\n    {name:\"lastTup\",title:\"Последнее установленное обновление\"},\r\n    {name:\"status\",title:\"Состояние выполнения\"},\r\n    {name:\"notes\",title:\"Примеяание\"},\r\n    {name:\"inServDate\",title:\"Дата пассивного режима\"},\r\n    {name:\"comment\",title:\"комментарий\"},\r\n];\r\n\r\ninterface TaskTupPageState {\r\n    width: number,\r\n    height: number,\r\n    currentRowIndex: number,\r\n    rows:any[],\r\n    btnDwnlEnabled:boolean,\r\n    btnInstallEnabled:boolean,\r\n    btnCancelDwnlEnabled:boolean,\r\n    btnCancelInstallEnabled:boolean,\r\n    btnRollbackEnabled:boolean,\r\n    currentRow: object,\r\n}\r\n\r\nexport class TaskTupPage extends React.Component<any, TaskTupPageState> {\r\n    tableName: string = \"Users\";\r\n    gridRef: object;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            currentRowIndex: -1,\r\n            rows:[],\r\n            btnDwnlEnabled:false,\r\n            btnInstallEnabled:false,\r\n            btnCancelDwnlEnabled:false,\r\n            btnCancelInstallEnabled:false,\r\n            btnRollbackEnabled:false,\r\n            currentRow: { newRowValue: {}, oldRowValue: {} },\r\n        }\r\n        this.updStatusRender = this.updStatusRender.bind(this);\r\n        this.hadleSelectionChange = this.hadleSelectionChange.bind(this);\r\n        //@ts-ignore\r\n        TupRow.find(itm=>itm.name===\"status\").cellRender = this.updStatusRender;         \r\n        this.gridRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadRows();\r\n    }\r\n\r\n    getHeight(elm: string) {\r\n        let heightBeforeGrid = 280;\r\n        let heightForTviewsAndGrid = this.state.height - heightBeforeGrid - 50;\r\n        let tViewsKoef = 0.4;//доля оставшегося после формы пространства по высоте для Treeview (\"GUI Элементы\" и \"Аттрибуты\")\r\n        let gridKoef = 1 - tViewsKoef;  //доля оставшегося после формы пространства по высоте для датагрида\r\n        let tViewsHeight = heightForTviewsAndGrid * tViewsKoef;\r\n        let gridHeight = heightForTviewsAndGrid * gridKoef;\r\n        if (elm === \"tview\") {\r\n            return tViewsHeight;\r\n        }\r\n        if (elm === \"grid\") {\r\n            return gridHeight;\r\n        }\r\n        throw \"wrong elm \" + elm;\r\n    }\r\n\r\n\r\n    getGrid(): DataGrid<any, any> {\r\n        //@ts-ignore\r\n        return this.gridRef.instance;\r\n    }\r\n\r\n\r\n    getCurrentRowIndex(): number {\r\n        return this.state.currentRowIndex;\r\n    }\r\n\r\n    onRowListChanged(rows: any[]) {\r\n        let currInd = this.state.currentRowIndex;\r\n        //@ts-ignore\r\n        this.getGrid().refresh();\r\n    }\r\n\r\n    setCurrentRowIndex(idx: number) {\r\n        this.setState({ currentRowIndex: idx });\r\n    }\r\n\r\n\r\n\r\n    loadRows(){\r\n    this.setState({rows:[   \r\n                            {id:\"1\",filial:\"F1\",name:\"терм1\",typeDev:\"Кешин\",subnet:\"Внешн\",status:updateState.New},\r\n                            {id:\"2\",filial:\"F1\",name:\"терм1\",typeDev:\"Кешин\",subnet:\"Внешн\",status:updateState.InProcess},\r\n                            {id:\"3\",filial:\"F1\",name:\"терм1\",typeDev:\"Кешин\",subnet:\"Внутр\",status:updateState.Complete},\r\n                            {id:\"4\",filial:\"F2\",name:\"терм2\",typeDev:\"Кешин\",subnet:\"Внутр\",status:updateState.Error},\r\n                            {id:\"5\",filial:\"F2\",name:\"терм2\",typeDev:\"Кешин\",subnet:\"Внешн\"},\r\n                            {id:\"6\",filial:\"F2\",name:\"терм2\",typeDev:\"Кешин\",subnet:\"Внутр\"},\r\n                            {id:\"7\",filial:\"F2\",name:\"терм2\",typeDev:\"Кешин\",subnet:\"Внутр\"},\r\n                            {id:\"8\",filial:\"F2\",name:\"терм2\",typeDev:\"Кешин\",subnet:\"Внутр\"},\r\n                            {id:\"9\",filial:\"F2\",name:\"терм2\",typeDev:\"Кешин\",subnet:\"Внутр\"},\r\n                            {id:\"10\",filial:\"F2\",name:\"терм2\",typeDev:\"Кешин\",subnet:\"Внутр\"},\r\n                        ],currentRowIndex:0});\r\n    }\r\n    \r\n    getColumns(){\r\n        let result:JSX.Element[] = [];\r\n        TupRow.forEach((fld)=>{\r\n            let newItem = <Column key={fld.name} dataField={fld.name} caption={fld.title} />;\r\n            if(fld.cellRender){\r\n                newItem = <Column key={fld.name} dataField={fld.name} caption={fld.title} cellRender={fld.cellRender} />;\r\n            }\r\n            result.push(newItem);\r\n        });\r\n        return result;\r\n    }\r\n\r\n    updStatusRender(cellData:any):JSX.Element{\r\n        let isactive = this.state.currentRowIndex === cellData.rowIndex;\r\n        let color = isactive?\"white\":undefined;\r\n        let toolTipMsg:string = GetUpdateTooltipText(cellData.data.status);\r\n        return( \r\n            <OverlayTrigger placement=\"right\"  overlay={(props)=>RenderTooltip(props,toolTipMsg)}>\r\n                <div>\r\n                    {GetUpdateStateImg(cellData.data.status,color)}\r\n                </div>\r\n            </OverlayTrigger>\r\n        );\r\n    }\r\n\r\n    hadleSelectionChange(e:any){\r\n\r\n        let selrows:[] = e.selectedRowsData;\r\n        let dwnlEnabled = selrows.every((itm:any)=>itm.status === undefined || itm.status === updateState.Unknown);\r\n        this.setState({btnDwnlEnabled:dwnlEnabled})\r\n        \r\n    }\r\n\r\n    renderDataGrid() {\r\n        return (\r\n            <DataGrid\r\n                ref={(gref) => {\r\n                    if (gref) {\r\n                        this.gridRef = gref;\r\n                    }\r\n                }}\r\n                style={{ height: this.getHeight(\"grid\") }}\r\n                dataSource={this.state.rows}\r\n                focusedRowEnabled={true}\r\n                focusedRowIndex={this.state.currentRowIndex}\r\n                keyExpr=\"id\"\r\n                onSelectionChanged={this.hadleSelectionChange}\r\n                onFocusedRowChanging={(e) => {\r\n                    this.setState({currentRowIndex:e.newRowIndex});\r\n                }}\r\n            >\r\n                <GroupPanel visible={true} />\r\n                <HeaderFilter visible={true} />\r\n                <Selection mode=\"multiple\" />\r\n                {this.getColumns()}    \r\n            </DataGrid>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        let rowSelected = (this.state.currentRowIndex != -1);\r\n        return (<div id=\"userRolesPage\">\r\n            <h3 style={{ display: \"inline-block\", textAlign: \"left\" }}>{getLocMsg(LocMsgId.Menu_Reports_AutoUpdates_Tup)}</h3>\r\n            <div style={{ display: \"flex\", flexDirection:\"row\",flexWrap:\"wrap\", marginBottom: \"20px\", marginTop: \"10px\" }}>\r\n                <Button icon=\"download\" disabled={!this.state.btnDwnlEnabled} text={getLocMsg(LocMsgId.Button_Update_Download)}  onClick={() => console.log(\"\")} style={{ marginLeft: \"10px\",marginTop:\"10px\"}} />\r\n                <Button icon=\"todo\" disabled={!this.state.btnInstallEnabled}  text={getLocMsg(LocMsgId.Button_Update_Install)}  onClick={() => console.log(\"\")} style={{ marginLeft: \"10px\",marginTop:\"10px\" }} />\r\n                <Button icon=\"clear\" disabled={!this.state.btnCancelDwnlEnabled} text={getLocMsg(LocMsgId.Button_Update_CancelDownload)}  onClick={() => console.log(\"\")} style={{ marginLeft: \"10px\",marginTop:\"10px\" }} />\r\n                <Button icon=\"clear\" disabled={!this.state.btnCancelInstallEnabled} text={getLocMsg(LocMsgId.Button_Update_CancelInstall)}  onClick={() => console.log(\"\")} style={{ marginLeft: \"10px\",marginTop:\"10px\" }} />\r\n                <Button icon=\"clear\" disabled={!this.state.btnRollbackEnabled} text={getLocMsg(LocMsgId.Button_Update_Rollback)}  onClick={() => console.log(\"\")} style={{ marginLeft: \"10px\" ,marginTop:\"10px\"}} />\r\n            </div>\r\n            {this.renderDataGrid()}\r\n        </div>);\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport { Tooltip } from \"react-bootstrap\";\r\n\r\nexport function RenderTooltip(props:object, message:string) { \r\n    return (\r\n        <Tooltip id=\"button-tooltip\" {...props}>\r\n            <span>{message}</span>\r\n        </Tooltip>\r\n    );\r\n}","import getLocMsg, { LocMsgId } from '../../localization';\r\n\r\nexport default function getLabelText(code: string): string {\r\n    switch (code) {\r\n        case 'PageName':\r\n            return getLocMsg(LocMsgId.Menu_Dicts_Monitoring_MailingListUser);\r\n\r\n        case 'UserName':\r\n            return getLocMsg(LocMsgId.Column_Username);\r\n        case 'EmailList':\r\n            return getLocMsg(LocMsgId.Column_EmailList);\r\n        case 'IsGroupEmail':\r\n            return getLocMsg(LocMsgId.Column_IsGroupEmail);\r\n        case 'Description':\r\n            return getLocMsg(LocMsgId.Column_Description);\r\n\r\n        case 'NeedSelect':\r\n            return getLocMsg(LocMsgId.Message_NeedSelect);\r\n        case 'PopupTitle_Error':\r\n            return getLocMsg(LocMsgId.PopupTitle_Error);\r\n\r\n        case 'Message_Error':\r\n            return getLocMsg(LocMsgId.Message_Error);\r\n        case 'Message_DataIntegrityViolationError':\r\n            return getLocMsg(LocMsgId.Message_DataIntegrityViolationError);\r\n        case 'Message_EditMode':\r\n            return getLocMsg(LocMsgId.Message_EditMode);\r\n\r\n        case 'Message_Confirm':\r\n            return getLocMsg(LocMsgId.Message_Confirm);\r\n        case 'Message_ConfirmSave':\r\n            return getLocMsg(LocMsgId.Message_Saving);\r\n        case 'Message_ConfirmDelete':\r\n            return getLocMsg(LocMsgId.Message_Deleting);\r\n        case 'Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n        case 'Button_Yes':\r\n            return getLocMsg(LocMsgId.Button_Yes);\r\n        case 'Button_No':\r\n            return getLocMsg(LocMsgId.Button_No);\r\n\r\n        case 'UserName_Incorrect':\r\n            return getLocMsg(LocMsgId.Message_Required);\r\n        case 'UserName_IsDublicate':\r\n            return getLocMsg(LocMsgId.Message_DuplicateName);\r\n        case 'EMails_Incorrect':\r\n            return getLocMsg(LocMsgId.Message_EMails_Incorrect);\r\n        case 'Message_DirectoryNotAvailable':\r\n            return getLocMsg(LocMsgId.Message_DirectoryNotAvailable);\r\n\r\n        case 'Hint_Button_Add':\r\n            return getLocMsg(LocMsgId.Button_Add);\r\n        case 'Hint_Button_Delete':\r\n            return getLocMsg(LocMsgId.Button_Delete);\r\n        case 'Hint_Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Hint_Button_Refresh':\r\n            return getLocMsg(LocMsgId.Button_Refresh);\r\n        case 'Hint_Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n    }\r\n\r\n    return '';\r\n}\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../../DbWrapper';\r\nimport DataGrid, {\r\n    Column,\r\n    ColumnChooser,\r\n    FilterRow,\r\n    HeaderFilter,\r\n    SearchPanel,\r\n    Sorting,\r\n    Pager,\r\n    Paging\r\n} from 'devextreme-react/data-grid';\r\nimport Button from 'devextreme-react/button';\r\nimport { MessagePopup } from '../../components/CommonComponents/MessagePopup';\r\nimport TextBox from 'devextreme-react/text-box';\r\nimport { CheckBox, TextArea, Toast } from 'devextreme-react';\r\nimport { Popup, ToolbarItem } from 'devextreme-react/popup';\r\n\r\nimport { Model } from './Model';\r\nimport getLabelText from './Labels';\r\nimport { MailingListUser } from '../../Models/MailingListUser';\r\nimport { IncorrectData } from './IncorrectData';\r\n\r\ninterface Props { }\r\n\r\ntype State = {\r\n    data: Model[],\r\n    currentItem: { model: Model, rowKey: number },                          //Содержит ссылку на текущую выбранную запись из Grid, так же информирует, добавляется новая запись или редактируется существующая\r\n    isNeedToSave: boolean,                                                  //Информирует, нужно ли сохранять данные в БД. Принимает значение True, если пользователь внес изменения к какое нибудь поле.\r\n    isNew: boolean,                                                         //Новая запись или нет\r\n    prevCurrentItem?: { model: Model, rowKey: number },                     //Содержит ссылку на предыдущую текущую выбранную запись из Grid, эта информация нужна для перехода на нё после отмены Создания новой записи\r\n\r\n    //Для отображения или скрытия модального окна с кнопками подтверждения\r\n    confirmFormVisible: boolean\r\n    confirmFormTitle: string,\r\n    confirmFormMessage: string,\r\n    confirmFormOkButtonText: string,\r\n    confirmFormOkButton?: any,\r\n    confirmFormCancelButtonText: string,\r\n    confirmFormCancelButton?: any,\r\n\r\n    popupTitle: string,                                           //Для передачи в PopUp окно, нужного заголовка\r\n    popupMessage: string,                                         //Для передачи в PopUp окно, нужного текста сообщения\r\n    popupVisible: boolean,                                        //Для отображения или скрытия PopUp окна\r\n    popupVisibleForCriticalError: boolean,                        //Для отображения или скрытия PopUp окна. Для обработки критической ошибки\r\n    hasCriticalError: boolean,                                    //Используется если есть критическая ошибка и справочник не может работать\r\n    nextRow: number,                                              //Указатель на следующую запись\r\n\r\n    dataIsCorrect: { userName: IncorrectData, eMails: IncorrectData },                       //Здесь индикаторы корректности данных. Это нужно для проверки данных перед сохранением в БД\r\n\r\n    isVisibleEditArea: boolean,\r\n\r\n    refComponents: any,                                                                     //Хранилище ссылок на объекты формы\r\n    isVisibleToastForEdit: boolean                                                          //Признак необходимости отобразить сообщение пользователю, что он находится в режиме редактирования\r\n}\r\n\r\nconst allowedPageSizes = [5, 10, 15, 20];\r\n\r\nexport class MailingListUsersDictClass extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: [],\r\n            currentItem: {\r\n                model: { id: 0, userName: '', isGroupEmail: false },\r\n                rowKey: 0\r\n            },\r\n            isNeedToSave: false,\r\n            isNew: false,\r\n\r\n            confirmFormVisible: false,\r\n            confirmFormTitle: '',\r\n            confirmFormMessage: '',\r\n            confirmFormOkButtonText: '',\r\n            confirmFormCancelButtonText: '',\r\n\r\n            popupTitle: \"\",\r\n            popupMessage: \"\",\r\n            popupVisible: false,\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: false,\r\n            nextRow: 0,\r\n\r\n            dataIsCorrect: {\r\n                userName: { isValid: true },\r\n                eMails: { isValid: true }\r\n            },\r\n\r\n            isVisibleEditArea: false,\r\n            isVisibleToastForEdit: false,\r\n\r\n            refComponents: new Map()\r\n        };\r\n\r\n        this.handleButtonSaveClick = this.handleButtonSaveClick.bind(this);\r\n        this.handleButtonRefreshClick = this.handleButtonRefreshClick.bind(this);\r\n        this.handleButtonRevertClick = this.handleButtonRevertClick.bind(this);\r\n\r\n        this.onChangeIsGroupEmail = this.onChangeIsGroupEmail.bind(this);\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n\r\n        this.closeConfirmSaveFormClick = this.closeConfirmSaveFormClick.bind(this);\r\n        this.confirmSaveFormClick = this.confirmSaveFormClick.bind(this);\r\n\r\n        this.closeConfirmDeleteFormClick = this.closeConfirmDeleteFormClick.bind(this);\r\n        this.confirmDeleteFormClick = this.confirmDeleteFormClick.bind(this);\r\n\r\n        this.applyChange = this.applyChange.bind(this);\r\n        this.changeCurrentRow = this.changeCurrentRow.bind(this);\r\n        this.onChangeUserName = this.onChangeUserName.bind(this);\r\n        this.onChangeEmailList = this.onChangeEmailList.bind(this);\r\n\r\n        this.hidePopup = this.hidePopup.bind(this);\r\n        this.hidePopupForCriticalError = this.hidePopupForCriticalError.bind(this);\r\n\r\n        this.handleButtonNewClick = this.handleButtonNewClick.bind(this);\r\n        this.handleButtonDeleteClick = this.handleButtonDeleteClick.bind(this);\r\n        this.onRowClick = this.onRowClick.bind(this);\r\n\r\n        this.onFocusedRowChanged = this.onFocusedRowChanged.bind(this);\r\n        this.onContentReady = this.onContentReady.bind(this);\r\n        this.onFocusedRowChanging = this.onFocusedRowChanging.bind(this);\r\n\r\n        this.onToastHiding = this.onToastHiding.bind(this)\r\n    }\r\n\r\n    //Настройки перед отображением запроса на Сохранение данных\r\n    confirmSaveFormVisible() {\r\n        this.setState({\r\n            confirmFormVisible: true,\r\n            confirmFormTitle: getLabelText('Message_Confirm'),\r\n            confirmFormMessage: getLabelText('Message_ConfirmSave'),\r\n            confirmFormOkButtonText: getLabelText('Button_Save'),\r\n            confirmFormOkButton: this.confirmSaveFormClick,\r\n            confirmFormCancelButtonText: getLabelText('Button_Cancel'),\r\n            confirmFormCancelButton: this.closeConfirmSaveFormClick\r\n        })\r\n    }\r\n    //Настройки перед отображением запроса на Удаление данных\r\n    confirmDeleteFormVisible() {\r\n        this.setState({\r\n            confirmFormVisible: true,\r\n            confirmFormTitle: getLabelText('Message_Confirm'),\r\n            confirmFormMessage: getLabelText('Message_ConfirmDelete') + \"\\n\\r\" + getLabelText('UserName') + ': ' + this.state.currentItem.model.userName,\r\n            confirmFormOkButtonText: getLabelText('Button_Yes'),\r\n            confirmFormOkButton: this.confirmDeleteFormClick,\r\n            confirmFormCancelButtonText: getLabelText('Button_No'),\r\n            confirmFormCancelButton: this.closeConfirmDeleteFormClick\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        (async () => {\r\n            await dbwrap.GetRows(\"MailingListUsers\", null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.setState({ data: data.data })\r\n\r\n                    if (this.state.nextRow != 0) {\r\n                        this.setToNextRow()\r\n                    }\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisibleForCriticalError: true\r\n                    });\r\n                }\r\n            });\r\n        })();\r\n    }\r\n    changeCurrentRow(e: Model) {\r\n        this.setState({ isNew: false })             //Если сюда пришло, то обязательно устанавливаем в False параметр isNew\r\n\r\n        if (e == null) { return }\r\n\r\n        const dataRow = e;\r\n\r\n        this.setState({\r\n            currentItem: {\r\n                model: { ...dataRow },\r\n                rowKey: dataRow.id\r\n            },\r\n        })\r\n        this.setState({ isNeedToSave: false })\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n    }\r\n    onFocusedRowChanged(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        this.changeCurrentRow(e.row && e.row.data)\r\n    }\r\n    onFocusedRowChanging(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            e.cancel = true;\r\n\r\n            return\r\n        }\r\n    }\r\n    onContentReady(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        var item = this.state.currentItem.model\r\n        var key = item.id\r\n        var keyExistsInFilteredRows = -1\r\n        var filteredRows: any\r\n\r\n        this.onFocusedRowChanged(item)                                                     //Перед тем как поменять текущую запсиь на новую, проверяем, нужно ли сохранить текущие данные\r\n        if (this.state.isNeedToSave) { return }                                            //Проверяем на isNeedToSave что бы не пропустить сохранение\r\n\r\n        this.setState({ currentItem: { model: { ...item }, rowKey: key } })                //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdData = this.state.refComponents.dgdData\r\n\r\n        if (item != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store()                                       //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n                });\r\n\r\n            keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)          //Проверяем на наличие нужной нам записи в текущей выборке\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {            //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdData != null) {\r\n                key = dgdData.instance.getKeyByRowIndex(0)                                 //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    filteredRows = result;\r\n                });\r\n            item = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        this.setState({ currentItem: { model: { ...item }, rowKey: key } })\r\n\r\n        //Проверяем, если список пустой, то область редактирования скрываем\r\n        if (dgdData != null) {\r\n            dgdData.instance.getDataSource().store()                                    //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n                });\r\n\r\n            if (filteredRows.length === 0) {\r\n                this.setState({ isVisibleEditArea: false })\r\n            }\r\n            else {\r\n                this.setState({ isVisibleEditArea: true })\r\n            }\r\n        }\r\n    }\r\n\r\n    onRowClick(e: any) {\r\n        if (this.state.currentItem.model.id === e.data.id) { return }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        };\r\n\r\n        if (this.state.currentItem.model.id === 0 || this.state.currentItem.model.id == null) {\r\n            this.changeCurrentRow(e.data)\r\n        }\r\n    }\r\n\r\n    applyChange(target: any) {\r\n        let item = this.state.data.find(x => x.id === target.id)\r\n        let currentItem: string = \"\"\r\n\r\n        if (item != null) {\r\n            currentItem = JSON.stringify(item)\r\n        }\r\n\r\n        let newItem = JSON.stringify(target)\r\n\r\n        let hasChanged = currentItem != newItem\r\n\r\n        this.setState({ currentItem: { model: target, rowKey: this.state.currentItem.rowKey } })       //Сохраним новые значения\r\n\r\n        this.setState({ isNeedToSave: hasChanged })                                                    //Установим признак \"нужно сохранить\"\r\n    }\r\n    onChangeIsGroupEmail = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.isGroupEmail = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeDescription = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.description = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeUserName = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.userName = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeEmailList = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.emailList = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n\r\n    //Добавить новую запись\r\n    handleButtonNewClick() {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        };\r\n\r\n        this.setState({ prevCurrentItem: { ...this.state.currentItem } })              //Предварительно сохраняем предыдущую запись\r\n\r\n        var newItem: Model = { id: 0, userName: '', isGroupEmail: false }\r\n\r\n        this.setState({ currentItem: { model: newItem, rowKey: newItem.id } })\r\n        this.setState({ isNew: true })\r\n\r\n        this.resetDataForCorrect()\r\n\r\n        let first = this.state.refComponents.txtUserName\r\n\r\n        if (first != null) {\r\n            first.instance.focus()        //Устанавливаем фокус на первом радактируемом элементе\r\n        }\r\n    }\r\n    //Удалить запись\r\n    handleButtonDeleteClick() {\r\n        if (this.state.data.find(x => x.id === this.state.currentItem.model.id) == null) { return }\r\n\r\n        // Показ формы подтверждения удаления.\r\n        this.confirmDeleteFormVisible()\r\n    }\r\n    // Сохранение данных\r\n    handleButtonSaveClick() {\r\n        if (this.state.currentItem.model.id === 0 && this.state.isNew === false) {\r\n            this.setState({ isNeedToSave: false })\r\n            return\r\n        }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            // Показ формы подтверждения сохранения.\r\n            this.confirmSaveFormVisible()\r\n        };\r\n    }\r\n    //Сбросим все индикаторы проверки\r\n    resetDataForCorrect() {\r\n        this.setState({ dataIsCorrect: { userName: { isValid: true, message: '' }, eMails: { isValid: true, message: '' } } })\r\n    }\r\n    // Проверяем данные на корректность E-Mails перед записью в БД\r\n    checkEMailsForCorrect(value?: string): boolean {\r\n        let regexp = new RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/)\r\n\r\n        let checkValue = value != null && value != undefined ? value : ''\r\n\r\n        let splitted = checkValue.split(\",\");\r\n\r\n        let result = true\r\n\r\n        splitted.forEach(function (val) {\r\n            result = result && regexp.test(val.trim())\r\n        });\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность перед записью в БД\r\n    checkDataForCorrect(model: Model): boolean {\r\n        let userName = model.userName == null ? '' : model.userName.trim()\r\n\r\n        var userNameIsValid = userName != null && userName != '' && userName != undefined\r\n        var userNameMessage = userNameIsValid ? '' : getLabelText('UserName_Incorrect')\r\n\r\n        if (userNameIsValid) {\r\n            userNameIsValid = this.state.data.find(x => x.userName.toUpperCase() === userName.toUpperCase() && x.id != model.id) === undefined\r\n            userNameMessage = userNameIsValid ? '' : getLabelText('UserName_IsDublicate')\r\n        }\r\n\r\n        var eMailsIsValid = this.checkEMailsForCorrect(model.emailList)\r\n        var eMailsMessage = eMailsIsValid ? '' : getLabelText('EMails_Incorrect')\r\n\r\n        this.setState({ dataIsCorrect: { userName: { isValid: userNameIsValid, message: userNameMessage }, eMails: { isValid: eMailsIsValid, message: eMailsMessage } } })\r\n\r\n        if (userNameIsValid === false) {\r\n            let comp = this.state.refComponents.txtUserName\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus()\r\n            }\r\n        }\r\n        else if (eMailsIsValid === false) {\r\n            let comp = this.state.refComponents.txtEmailList\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus()\r\n            }\r\n        }\r\n\r\n        return userNameIsValid && eMailsIsValid     //Консолидированный результат\r\n    }\r\n    // Действие при подтверждении формы сохранения.\r\n    confirmSaveFormClick() {\r\n        var item = this.state.currentItem.model\r\n\r\n        //Здесь проверяем данные перед их сохранением в БД\r\n        if (this.checkDataForCorrect(item) === false) {\r\n            this.setState({ confirmFormVisible: false });\r\n\r\n            return\r\n        }\r\n\r\n        var users: MailingListUser[] = [];\r\n\r\n        users.push({\r\n            id: item.id,\r\n            userName: item.userName == null ? '' : item.userName.trim(),\r\n            description: item.description == null ? '' : item.description.trim(),\r\n            emailList: item.emailList == null ? '' : item.emailList.trim(),\r\n            isGroupEmail: item.isGroupEmail == null ? false : item.isGroupEmail\r\n        })\r\n\r\n        if (this.state.currentItem.model.id === 0) {\r\n            var newItem = users[0]\r\n\r\n            dbwrap.AddRow(\"MailingListUsers\", newItem, null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    var currentItem = this.state.currentItem.model\r\n                    currentItem.id = data.data.id\r\n\r\n                    this.handleButtonRefreshClick();\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisible: true\r\n                    });\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            dbwrap.UpdateRow(\"MailingListUsers\", users, null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.handleButtonRefreshClick();\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisible: true\r\n                    });\r\n                }\r\n            })\r\n        }\r\n\r\n        this.closeConfirmSaveFormClick('saved');\r\n    }\r\n    // Действие при отмене сохранения.\r\n    closeConfirmSaveFormClick(action: string) {\r\n        if (action != 'saved') { action = 'cancel' }\r\n\r\n        this.setState({\r\n            confirmFormVisible: false,\r\n            isNeedToSave: false\r\n        });\r\n\r\n        if (this.state.currentItem != null && this.state.currentItem != undefined && action == 'cancel') {\r\n            var item = this.state.data.find(x => x.id === this.state.currentItem.model.id)\r\n\r\n            if (item != null && item != undefined) {\r\n                this.setState({ currentItem: { model: { ...item }, rowKey: this.state.currentItem.rowKey } })\r\n            }\r\n        }\r\n\r\n        //Если до этого места текущая выбранная запись всё ещё Ноль, обнуляем некоторые параметры, что бы это повлияло на скрытие формы редактирования (верхняя чать экрана)\r\n        if (this.state.currentItem.model.id === 0) {\r\n            this.setState({ currentItem: { model: { id: 0, userName: '', isGroupEmail: false }, rowKey: 0 } })\r\n\r\n            if (this.state.isNew && this.state.prevCurrentItem != null) {\r\n                this.setState({ currentItem: { ...this.state.prevCurrentItem } })\r\n            }\r\n\r\n            this.setState({ isNew: false, isNeedToSave: false })\r\n        }\r\n\r\n        this.setState({ prevCurrentItem: undefined })               //Очистка данного параметра должна быть в любом случае, если зашли в процедуру Отмены\r\n\r\n        this.resetDataForCorrect()                                 //Сбросим все индикаторы корректности данных\r\n\r\n        this.handleButtonRefreshClick()\r\n    }\r\n    // Действие при подтверждении формы удаления.\r\n    confirmDeleteFormClick() {\r\n        var item = this.state.currentItem.model\r\n\r\n        dbwrap.DeleteRow(\"MailingListUsers\", item.id, null).then((data: dbwrap.responseResult) => {\r\n            if (data.success) {\r\n                this.handleButtonRefreshClick();\r\n            }\r\n            else {\r\n                let errorMessage: string = ''\r\n\r\n                if (data.data.parsedErrObject == null) {\r\n                    errorMessage = data.data.request.responseText\r\n                }\r\n                else {\r\n                    errorMessage = data.data.parsedErrObject.message\r\n                }\r\n\r\n                this.setState({\r\n                    popupTitle: getLabelText('PopupTitle_Error'),\r\n                    popupMessage: errorMessage,\r\n                    popupVisible: true\r\n                });\r\n            }\r\n        })\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n\r\n        this.closeConfirmDeleteFormClick();\r\n    }\r\n    // Действие при отмене удаления.\r\n    closeConfirmDeleteFormClick() {\r\n\r\n        this.setState({\r\n            confirmFormVisible: false,\r\n            isNeedToSave: false\r\n        });\r\n\r\n        this.handleButtonRefreshClick()\r\n\r\n        //Если в массиве нет записей, то обнуляем некоторые параметры\r\n        if (this.state.data.length <= 1) {\r\n            this.setState(\r\n                {\r\n                    currentItem: { model: { id: 0, userName: '', isGroupEmail: false }, rowKey: 0 },\r\n                    isNew: false,\r\n                    isNeedToSave: false\r\n                }\r\n            )\r\n        }\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n    }\r\n    setToNextRow() {\r\n        let item = this.state.data.find(x => x.id === this.state.nextRow)\r\n\r\n        if (item != null) {\r\n            this.setState({ currentItem: { model: { ...item }, rowKey: this.state.nextRow } })\r\n        }\r\n\r\n        this.setState({ nextRow: 0 })           //После установки следующей записи, сбрасываем значение следующей записи\r\n    }\r\n    setToPrevRow() {\r\n        this.setState({ isVisibleToastForEdit: true })\r\n\r\n        let dgdData = this.state.refComponents.dgdData\r\n\r\n        if (dgdData != null) {\r\n            if (this.state.prevCurrentItem != null) {\r\n                dgdData.instance.navigateToRow(this.state.prevCurrentItem.model.id)\r\n            }\r\n            if (this.state.currentItem != null && this.state.currentItem.model.id != 0) {\r\n                dgdData.instance.navigateToRow(this.state.currentItem.model.id)\r\n            }\r\n        }\r\n    }\r\n    onToastHiding() {\r\n        this.setState({ isVisibleToastForEdit: false })\r\n    }\r\n\r\n    // Обновление grid.\r\n    handleButtonRefreshClick() {\r\n        this.componentDidMount()\r\n    }\r\n    //Отмена внесенных пользователем изменений\r\n    handleButtonRevertClick() {\r\n        this.closeConfirmSaveFormClick('cancel')\r\n    }\r\n    // Закрытие popup.\r\n    hidePopup() {\r\n        this.setState({ popupVisible: false });\r\n    }\r\n    // Закрытие popup. Для обработки критической ошибки\r\n    hidePopupForCriticalError() {\r\n        this.setState({ popupVisibleForCriticalError: false });\r\n        this.setState({ hasCriticalError: true });                      //True - если справочник не может продолжить свою работу\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                    {getLabelText('PageName')}\r\n                </h3>\r\n\r\n                <div hidden={this.state.hasCriticalError === false}>\r\n                    <table width='100%' style={{ height: '80vh' }}>\r\n                        <tr>\r\n                            <td align='center'>\r\n                                <h1>\r\n                                    {getLabelText('Message_DirectoryNotAvailable')}\r\n                                </h1>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div hidden={this.state.hasCriticalError}>\r\n                    <Button icon=\"add\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNew || this.state.isNeedToSave} onClick={this.handleButtonNewClick} hint={getLabelText('Hint_Button_Add')} className='mb-2 mr-2' />\r\n                    <Button icon=\"trash\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNew || this.state.isVisibleEditArea === false || this.state.isNeedToSave} onClick={this.handleButtonDeleteClick} hint={getLabelText('Hint_Button_Delete')} className='mb-2 mr-2' />\r\n                    <Button icon=\"save\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNeedToSave === false} onClick={this.handleButtonSaveClick} hint={getLabelText('Hint_Button_Save')} className='mb-2 mr-2' />\r\n                    <Button icon=\"refresh\" activeStateEnabled={false} hoverStateEnabled={false} visible={this.state.isNeedToSave === false && this.state.isNew === false} disabled={this.state.isNew} onClick={this.handleButtonRefreshClick} hint={getLabelText('Hint_Button_Refresh')} className='mb-2 mr-2' />\r\n                    <Button icon=\"revert\" activeStateEnabled={false} hoverStateEnabled={false} visible={this.state.isNeedToSave || this.state.isNew} onClick={this.handleButtonRevertClick} hint={getLabelText('Hint_Button_Cancel')} className='mb-2 mr-2' />\r\n\r\n                    <div hidden={this.state.isVisibleEditArea === false && this.state.isNew === false}>\r\n                        <table width={\"100%\"}>\r\n                            <tr>\r\n                                <td width={\"16%\"} /><td width={\"52%\"} /><td width={\"2%\"} /><td width={\"30%\"} />\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {getLabelText('UserName') + \":\"}\r\n                                </td>\r\n                                <td>\r\n                                    <TextBox maxLength={255} value={this.state.currentItem.model.userName} valueChangeEvent=\"input\" onValueChanged={this.onChangeUserName}\r\n                                        isValid={this.state.dataIsCorrect.userName.isValid} hint={this.state.dataIsCorrect.userName.message}\r\n                                        ref={(ref) => { this.state.refComponents[\"txtUserName\"] = ref }}                //Регистрация компонента в общем массиве\r\n                                    />\r\n                                </td>\r\n                                <td />\r\n                                <td>\r\n                                    <CheckBox text={getLabelText('IsGroupEmail')} value={this.state.currentItem.model.isGroupEmail} onValueChanged={this.onChangeIsGroupEmail} />\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {getLabelText('EmailList') + \":\"}\r\n                                </td>\r\n                                <td>\r\n                                    <TextBox maxLength={500} value={this.state.currentItem.model.emailList} valueChangeEvent=\"input\" onValueChanged={this.onChangeEmailList}\r\n                                        isValid={this.state.dataIsCorrect.eMails.isValid} hint={this.state.dataIsCorrect.eMails.message}\r\n                                        ref={(ref) => { this.state.refComponents[\"txtEmailList\"] = ref }}               //Регистрация компонента в общем массиве\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {getLabelText('Description') + \":\"}\r\n                                </td>\r\n                                <td>\r\n                                    <TextBox maxLength={500} value={this.state.currentItem.model.description} valueChangeEvent=\"input\" onValueChanged={this.onChangeDescription} />\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <Popup\r\n                        visible={this.state.confirmFormVisible}\r\n                        dragEnabled={false}\r\n                        closeOnOutsideClick={false}\r\n                        showCloseButton={false}\r\n                        showTitle={true}\r\n                        width={500}\r\n                        height={300}\r\n                        title={this.state.confirmFormTitle}\r\n                        container=\".dx-viewport\">\r\n\r\n                        <TextArea\r\n                            height={150}\r\n                            value={this.state.confirmFormMessage}\r\n                            readOnly={true}\r\n                        />\r\n\r\n                        <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={{ text: this.state.confirmFormOkButtonText, onClick: this.state.confirmFormOkButton }}></ToolbarItem>\r\n                        <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={{ text: this.state.confirmFormCancelButtonText, onClick: this.state.confirmFormCancelButton }}></ToolbarItem>\r\n                    </Popup>\r\n\r\n                    <MessagePopup\r\n                        visible={this.state.popupVisible}\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopup}\r\n                        message={this.state.popupMessage}\r\n                    />\r\n                    <MessagePopup\r\n                        visible={this.state.popupVisibleForCriticalError}\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopupForCriticalError}\r\n                        message={this.state.popupMessage}\r\n                    />\r\n\r\n                    <br />\r\n\r\n                    <DataGrid\r\n                        dataSource={this.state.data}\r\n                        keyExpr=\"id\"\r\n                        showBorders={true}\r\n                        focusedRowEnabled={true}\r\n                        allowColumnResizing={true}\r\n                        allowColumnReordering={true}\r\n                        onFocusedRowChanged={this.onFocusedRowChanged}\r\n                        onRowClick={this.onRowClick}\r\n                        focusedRowKey={this.state.currentItem.rowKey}\r\n                        onFocusedRowChanging={this.onFocusedRowChanging}\r\n\r\n                        autoNavigateToFocusedRow={true}\r\n                        onContentReady={this.onContentReady}\r\n                        ref={(ref) => { this.state.refComponents[\"dgdData\"] = ref }}\r\n                    >\r\n\r\n                        <Paging defaultPageSize={10} />\r\n                        <Pager\r\n                            visible={true}\r\n                            allowedPageSizes={allowedPageSizes}\r\n                            displayMode={'full'}\r\n                            showPageSizeSelector={true}\r\n                            showInfo={true}\r\n                            showNavigationButtons={true} />\r\n\r\n                        <FilterRow visible={true} />\r\n                        <HeaderFilter visible={true} />\r\n                        <ColumnChooser enabled={true} mode=\"select\" />\r\n                        <Sorting mode=\"multiple\" />\r\n                        <SearchPanel visible={true} />\r\n\r\n                        <Column dataField=\"userName\" dataType=\"string\" caption={getLabelText('UserName')} />\r\n                        <Column dataField=\"emailList\" dataType=\"string\" caption={getLabelText('EmailList')} />\r\n                        <Column dataField=\"description\" dataType=\"string\" caption={getLabelText('Description')} />\r\n                        <Column dataField=\"isGroupEmail\" dataType=\"boolean\" caption={getLabelText('IsGroupEmail')} />\r\n                    </DataGrid>\r\n\r\n                    <Toast\r\n                        visible={this.state.isVisibleToastForEdit}\r\n                        message={getLabelText('Message_EditMode')}\r\n                        type={'warning'}\r\n                        onHiding={this.onToastHiding}\r\n                        displayTime={3000}\r\n                        width={400}\r\n                        position={'center center'}\r\n                    />\r\n                </div >\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) { return {} }\r\n\r\nfunction mapDispatchToProps(dispatch: any) { return { actions: {} } }\r\n\r\nexport const MailingListUsersDict = connect(mapStateToProps, mapDispatchToProps)(MailingListUsersDictClass);","import getLocMsg, { LocMsgId } from '../../localization';\r\n\r\nexport default function getLabelText(code: string): string {\r\n    switch (code) {\r\n        case 'PageName':\r\n            return getLocMsg(LocMsgId.Menu_Dicts_Monitoring_MailingGroupUser);\r\n\r\n        case 'Groups':\r\n            return getLocMsg(LocMsgId.Column_Groups);\r\n        case 'AllUsers':\r\n            return getLocMsg(LocMsgId.Column_AllUsers);\r\n        case 'GroupUsers':\r\n            return getLocMsg(LocMsgId.Column_GroupUsers);\r\n        case 'GroupsName':\r\n            return getLocMsg(LocMsgId.Column_GroupsName);\r\n        case 'UsersName':\r\n            return getLocMsg(LocMsgId.Column_UsersName);\r\n        case 'Button_AddToGroup':\r\n            return getLocMsg(LocMsgId.Button_AddToGroup);\r\n        case 'Button_RemoveFromGroup':\r\n            return getLocMsg(LocMsgId.Button_RemoveFromGroup);\r\n\r\n        case 'NeedSelect':\r\n            return getLocMsg(LocMsgId.Message_NeedSelect);\r\n        case 'PopupTitle_Error':\r\n            return getLocMsg(LocMsgId.PopupTitle_Error);\r\n        case 'Message_Error':\r\n            return getLocMsg(LocMsgId.Message_Error);\r\n        case 'Message_Confirm':\r\n            return getLocMsg(LocMsgId.Message_Confirm);\r\n        case 'Message_ConfirmSave':\r\n            return getLocMsg(LocMsgId.Message_Saving);\r\n        case 'Message_ConfirmDelete':\r\n            return getLocMsg(LocMsgId.Message_Deleting);\r\n        case 'Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n        case 'Button_Yes':\r\n            return getLocMsg(LocMsgId.Button_Yes);\r\n        case 'Button_No':\r\n            return getLocMsg(LocMsgId.Button_No);\r\n\r\n        case 'GroupName_Incorrect':\r\n            return getLocMsg(LocMsgId.Message_Required);\r\n        case 'GroupName_IsDublicate':\r\n            return getLocMsg(LocMsgId.Message_DuplicateName);\r\n        case 'Message_DirectoryNotAvailable':\r\n            return getLocMsg(LocMsgId.Message_DirectoryNotAvailable);\r\n        case 'Message_EditMode':\r\n            return getLocMsg(LocMsgId.Message_EditMode);\r\n\r\n        case 'Hint_Button_Add':\r\n            return getLocMsg(LocMsgId.Button_Add);\r\n        case 'Hint_Button_Delete':\r\n            return getLocMsg(LocMsgId.Button_Delete);\r\n        case 'Hint_Button_Save':\r\n            return getLocMsg(LocMsgId.Button_Save);\r\n        case 'Hint_Button_Refresh':\r\n            return getLocMsg(LocMsgId.Button_Refresh);\r\n        case 'Hint_Button_Cancel':\r\n            return getLocMsg(LocMsgId.Button_Cancel);\r\n    }\r\n\r\n    return '';\r\n}\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../../DbWrapper';\r\nimport DataGrid, {\r\n    Column,\r\n    FilterRow,\r\n    HeaderFilter,\r\n    SearchPanel,\r\n    Sorting,\r\n    Pager,\r\n    Paging\r\n} from 'devextreme-react/data-grid';\r\nimport Button from 'devextreme-react/button';\r\nimport { MessagePopup } from '../../components/CommonComponents/MessagePopup';\r\nimport TextBox from 'devextreme-react/text-box';\r\nimport ResponsiveBox, { Row, Col, Item, Location } from 'devextreme-react/responsive-box';\r\nimport { Popup, ToolbarItem } from 'devextreme-react/popup';\r\n\r\nimport getLabelText from './Labels';\r\n\r\nimport { Model_ListUser, Model_GroupUser, ModelExt_MailingGroupUserRelation } from './Model';\r\nimport { MailingGroupUser } from '../../Models/MailingGroupUser';\r\nimport { MailingGroupUserRelation } from '../../Models/MailingGroupUserRelation';\r\nimport { IncorrectData } from './IncorrectData';\r\nimport { TextArea, Toast } from 'devextreme-react';\r\n\r\ninterface Props { }\r\n\r\ntype State = {\r\n    dataGroupUser: Model_GroupUser[],\r\n\r\n    currentItem_GroupUser: { model: Model_GroupUser, rowKey: number },                               //Содержит ссылку на текущую выбранную запись из Grid, так же информирует, добавляется новая запись или редактируется существующая\r\n    isNeedToSave: boolean,                                                                           //Информирует, нужно ли сохранять данные в БД. Принимает значение True, если пользователь внес изменения к какое нибудь поле.\r\n    isNew: boolean,                                                                                  //Новая запись или нет\r\n    prevCurrentItem_GroupUser?: { model: Model_GroupUser, rowKey: number },                          //Содержит ссылку на предыдущую текущую выбранную запись из Grid, эта информация нужна для перехода на нё после отмены Создания новой записи\r\n\r\n    currentItem_ListUser: { model: Model_ListUser, rowKey: number },                                 //Содержит ссылку на текущую выбранную запись из Grid, так же информирует, добавляется новая запись или редактируется существующая\r\n    currentItem_GroupUserRelation: { model: ModelExt_MailingGroupUserRelation, rowKey: number },     //Содержит ссылку на текущую выбранную запись из Grid, так же информирует, добавляется новая запись или редактируется существующая\r\n\r\n    listUser: Model_ListUser[],                                                                      //Здесь отфильтрованный список\r\n\r\n    listUsers: Model_ListUser[],                                                                     //Здесь будет храниться весь список пользователей без фильтрации по принадлежности к группе\r\n\r\n    //Для отображения или скрытия модального окна с кнопками подтверждения\r\n    confirmFormVisible: boolean,\r\n    confirmFormTitle: string,\r\n    confirmFormMessage: string,\r\n    confirmFormOkButtonText: string,\r\n\r\n    confirmFormOkButton?: any,\r\n    confirmFormCancelButtonText: string,\r\n    confirmFormCancelButton?: any,\r\n\r\n    popupTitle: string,                                           //Для передачи в PopUp окно, нужного заголовка\r\n    popupMessage: string,                                         //Для передачи в PopUp окно, нужного текста сообщения\r\n    popupVisible: boolean,                                        //Для отображения или скрытия PopUp окна\r\n    popupVisibleForCriticalError: boolean,                        //Для отображения или скрытия PopUp окна. Для обработки критической ошибки\r\n    hasCriticalError: boolean,                                    //Используется если есть критическая ошибка и справочник не может работать\r\n\r\n    dataIsCorrect: { groupName: IncorrectData },                  //Здесь индикаторы корректности данных. Это нужно для проверки данных перед сохранением в БД\r\n\r\n    isVisibleEditArea: boolean,\r\n    isVisibleButtonAddToGroup: boolean,\r\n    isVisibleButtonRemoveFromGroup: boolean,\r\n\r\n    refComponents: any,                                            //Хранилище ссылок на объекты формы\r\n    isVisibleToastForEdit: boolean                                 //Признак необходимости отобразить сообщение пользователю, что он находится в режиме редактирования\r\n}\r\n\r\nexport class MailingGroupUsersDictClass extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            dataGroupUser: [],\r\n\r\n            currentItem_GroupUser: {\r\n                model: { id: 0, name: '', groupUserRelations: [] },\r\n                rowKey: 0\r\n            },\r\n            isNeedToSave: false,\r\n            isNew: false,\r\n\r\n            currentItem_ListUser: {\r\n                model: { id: 0, userName: '', isGroupEmail: false },\r\n                rowKey: 0\r\n            },\r\n\r\n            currentItem_GroupUserRelation: {\r\n                model: {\r\n                    id: 0,\r\n                    groupUserRelation: { id: 0, userId: 0, groupId: 0 }\r\n                },\r\n                rowKey: 0\r\n            },\r\n\r\n            listUser: [],\r\n            listUsers: [],\r\n\r\n            confirmFormVisible: false,\r\n            confirmFormTitle: '',\r\n            confirmFormMessage: '',\r\n            confirmFormOkButtonText: '',\r\n            confirmFormCancelButtonText: '',\r\n\r\n            popupTitle: \"\",\r\n            popupMessage: \"\",\r\n            popupVisible: false,\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: false,\r\n\r\n            dataIsCorrect: {\r\n                groupName: { isValid: true }\r\n            },\r\n\r\n            isVisibleEditArea: false,\r\n\r\n            isVisibleButtonAddToGroup: false,\r\n            isVisibleButtonRemoveFromGroup: false,\r\n\r\n            isVisibleToastForEdit: false,\r\n\r\n            refComponents: new Map()\r\n        };\r\n\r\n        this.onResize = this.onResize.bind(this)\r\n\r\n        this.handleButtonSaveClick = this.handleButtonSaveClick.bind(this);\r\n        this.handleButtonRefreshClick = this.handleButtonRefreshClick.bind(this);\r\n        this.handleButtonRevertClick = this.handleButtonRevertClick.bind(this);\r\n\r\n        this.closeConfirmSaveFormClick = this.closeConfirmSaveFormClick.bind(this);\r\n        this.confirmSaveFormClick = this.confirmSaveFormClick.bind(this);\r\n\r\n        this.closeConfirmDeleteFormClick = this.closeConfirmDeleteFormClick.bind(this);\r\n        this.confirmDeleteFormClick = this.confirmDeleteFormClick.bind(this);\r\n\r\n        this.applyChange_GroupUser = this.applyChange_GroupUser.bind(this);\r\n        this.changeCurrentRow_GroupUser = this.changeCurrentRow_GroupUser.bind(this);\r\n        this.onChangeGroupName = this.onChangeGroupName.bind(this);\r\n\r\n        this.hidePopup = this.hidePopup.bind(this);\r\n        this.hidePopupForCriticalError = this.hidePopupForCriticalError.bind(this);\r\n\r\n        this.handleButtonNewClick = this.handleButtonNewClick.bind(this);\r\n        this.handleButtonDeleteClick = this.handleButtonDeleteClick.bind(this);\r\n        this.onRowClick_GroupUser = this.onRowClick_GroupUser.bind(this);\r\n\r\n        this.onFocusedRowChanged_GroupUser = this.onFocusedRowChanged_GroupUser.bind(this);\r\n        this.onContentReady_GroupUser = this.onContentReady_GroupUser.bind(this);\r\n        this.onFocusedRowChanging_GroupUser = this.onFocusedRowChanging_GroupUser.bind(this);\r\n\r\n        this.onFocusedRowChanged_ListUser = this.onFocusedRowChanged_ListUser.bind(this);\r\n        this.onContentReady_ListUser = this.onContentReady_ListUser.bind(this);\r\n\r\n        this.onFocusedRowChanged_GroupUserRelation = this.onFocusedRowChanged_GroupUserRelation.bind(this);\r\n        this.onContentReady_GroupUserRelation = this.onContentReady_GroupUserRelation.bind(this);\r\n\r\n        this.handleButtonAddToGroupClick = this.handleButtonAddToGroupClick.bind(this);\r\n        this.handleButtonRemoveFromGroupClick = this.handleButtonRemoveFromGroupClick.bind(this);\r\n\r\n        this.onToastHiding = this.onToastHiding.bind(this)\r\n    }\r\n\r\n    //Настройки перед отображением запроса на Сохранение данных\r\n    confirmSaveFormVisible() {\r\n        this.setState({\r\n            confirmFormVisible: true,\r\n            confirmFormTitle: getLabelText('Message_Confirm'),\r\n            confirmFormMessage: getLabelText('Message_ConfirmSave'),\r\n            confirmFormOkButtonText: getLabelText('Button_Save'),\r\n            confirmFormOkButton: this.confirmSaveFormClick,\r\n            confirmFormCancelButtonText: getLabelText('Button_Cancel'),\r\n            confirmFormCancelButton: this.closeConfirmSaveFormClick\r\n        })\r\n    }\r\n    //Настройки перед отображением запроса на Удаление данных\r\n    confirmDeleteFormVisible() {\r\n        this.setState({\r\n            confirmFormVisible: true,\r\n            confirmFormTitle: getLabelText('Message_Confirm'),\r\n            confirmFormMessage: getLabelText('Message_ConfirmDelete') + \"\\n\\r\" + getLabelText('GroupsName') + \": \" + this.state.currentItem_GroupUser.model.name,\r\n            confirmFormOkButtonText: getLabelText('Button_Yes'),\r\n            confirmFormOkButton: this.confirmDeleteFormClick,\r\n            confirmFormCancelButtonText: getLabelText('Button_No'),\r\n            confirmFormCancelButton: this.closeConfirmDeleteFormClick\r\n        })\r\n    }\r\n\r\n    onResize() {\r\n        this.setState({ dataGroupUser: this.state.dataGroupUser });         //Так делаем, для того что бы заставить перерисоваться гриды\r\n    }\r\n\r\n    setUserName() {\r\n        if (\r\n            this.state.dataGroupUser == null\r\n        ) { return }\r\n\r\n        for (let i = 0; i < this.state.dataGroupUser.length; i++) {\r\n            let group = this.state.dataGroupUser[i]\r\n            group.groupUserRelations = []\r\n\r\n            if (group.mailingGroupUserRelations != null) {\r\n                for (let j = 0; j < group.mailingGroupUserRelations.length; j++) {\r\n                    let relation = group.mailingGroupUserRelations[j]\r\n\r\n                    let user = this.state.listUsers.find(x => x.id === relation.userId)\r\n\r\n                    if (user != null) {\r\n                        group.groupUserRelations.push(\r\n                            {\r\n                                id: relation.userId,                                        //В качестве значения для идентификации записи будем использовать userId\r\n                                groupUserRelation: relation, userName: user.userName\r\n                            }\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        (async () => {\r\n            await dbwrap.GetRows(\"MailingListUsers\", null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.setState({ listUsers: data.data });\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisibleForCriticalError: true\r\n                    });\r\n\r\n                    return\r\n                }\r\n\r\n                (async () => {\r\n                    await dbwrap.GetRows(\"MailingGroupUsers\", null).then((data: dbwrap.responseResult) => {\r\n                        if (data.success) {\r\n\r\n                            this.setState({ dataGroupUser: data.data });\r\n\r\n                            this.setUserName();                                     //Заполняем имя пользователя для дальнейшего отображения на форме\r\n\r\n                            window.addEventListener('resize', this.onResize)        //Подпишемся к событию Window Resize\r\n                            this.render()                                           //Принудительное обновление экрана\r\n\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: getLabelText('PopupTitle_Error'),\r\n                                popupMessage: errorMessage,\r\n                                popupVisibleForCriticalError: true\r\n                            });\r\n                        }\r\n                    });\r\n                })();\r\n            });\r\n        })();\r\n    }\r\n\r\n    getListUser(): any {\r\n        let listUsers: Model_ListUser[]\r\n\r\n        listUsers = { ...this.state.listUsers }     //Делаем копию массива, для того, что бы иметь возможность менять копию и не \"ломать\" оригинал\r\n\r\n        listUsers = Object.values(listUsers)\r\n\r\n        if (listUsers != null) {\r\n            for (let i = 0; i < this.state.currentItem_GroupUser.model.groupUserRelations.length; i++) {\r\n                let index = listUsers.findIndex(x => x.id === this.state.currentItem_GroupUser.model.groupUserRelations[i].groupUserRelation.userId)\r\n\r\n                if (index >= 0) {\r\n                    listUsers.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        return listUsers\r\n    }\r\n\r\n    getDeepClone_GroupUser(model: Model_GroupUser): Model_GroupUser {\r\n        let newItem = { ...model }\r\n\r\n        let newGroupUserRelations: ModelExt_MailingGroupUserRelation[] = []\r\n\r\n        for (var i = 0; i < model.groupUserRelations.length; i++) {\r\n            let item = model.groupUserRelations[i]\r\n\r\n            newGroupUserRelations.push(\r\n                {\r\n                    id: item.id,\r\n                    groupUserRelation: { ...model.groupUserRelations[i].groupUserRelation },\r\n                    userName: item.userName\r\n                }\r\n            )\r\n        }\r\n\r\n        newItem.groupUserRelations = newGroupUserRelations\r\n\r\n        return newItem\r\n    }\r\n\r\n    changeCurrentRow_GroupUser(e: Model_GroupUser) {\r\n        this.setState({ isNew: false })             //Если сюда пришло, то обязательно устанавливаем в False параметр isNew\r\n\r\n        if (e == null) { return }\r\n\r\n        let dataRow = e\r\n\r\n        this.setState({\r\n            currentItem_GroupUser: {\r\n                model: this.getDeepClone_GroupUser(dataRow),\r\n                rowKey: dataRow.id\r\n            },\r\n        })\r\n\r\n        this.setState({\r\n            prevCurrentItem_GroupUser: {\r\n                model: this.state.currentItem_GroupUser.model,\r\n                rowKey: this.state.currentItem_GroupUser.rowKey\r\n            },\r\n        })\r\n\r\n        this.setState({ isNeedToSave: false })\r\n\r\n        this.setState({ listUser: this.getListUser() })\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n\r\n        this.clearFilters()                 //Сбросим все фильтры и поисковые значения\r\n    }\r\n\r\n    clearFilters() {\r\n        if (this.state.refComponents.dgdListUser != null) {\r\n            this.state.refComponents.dgdListUser.instance.clearFilter()\r\n        }\r\n\r\n        if (this.state.refComponents.dgdGroupUserRelation != null) {\r\n            this.state.refComponents.dgdGroupUserRelation.instance.clearFilter()\r\n        }\r\n    }\r\n\r\n    changeCurrentRow_ListUser(e: Model_ListUser) {\r\n        if (e == null) { return }\r\n\r\n        const dataRow = e;\r\n\r\n        this.setState({\r\n            currentItem_ListUser: {\r\n                model: { ...dataRow },\r\n                rowKey: dataRow.id\r\n            },\r\n        })\r\n    }\r\n    changeCurrentRow_GroupUserRelation(e: ModelExt_MailingGroupUserRelation) {\r\n        if (e == null) { return }\r\n\r\n        const dataRow = e;\r\n\r\n        this.setState({\r\n            currentItem_GroupUserRelation: {\r\n                model: { ...dataRow },\r\n                rowKey: dataRow.id\r\n            },\r\n        })\r\n    }\r\n\r\n    onFocusedRowChanged_GroupUser(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        this.changeCurrentRow_GroupUser(e.row && e.row.data)\r\n    }\r\n    onFocusedRowChanging_GroupUser(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            e.cancel = true;\r\n\r\n            return\r\n        }\r\n    }\r\n\r\n    onFocusedRowChanged_ListUser(e: any) {\r\n        this.changeCurrentRow_ListUser(e.row && e.row.data)\r\n    }\r\n    onFocusedRowChanged_GroupUserRelation(e: any) {\r\n        this.changeCurrentRow_GroupUserRelation(e.row && e.row.data)\r\n    }\r\n\r\n    onContentReady_GroupUser(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n\r\n        if (\r\n            (this.state.currentItem_GroupUser == null || this.state.currentItem_GroupUser.model.id === 0)\r\n            &&\r\n            (this.state.prevCurrentItem_GroupUser != null && this.state.prevCurrentItem_GroupUser.model.id > 0)\r\n        ) {\r\n            this.setState({ currentItem_GroupUser: { model: this.getDeepClone_GroupUser(this.state.prevCurrentItem_GroupUser.model), rowKey: this.state.prevCurrentItem_GroupUser.model.id } })\r\n        }\r\n\r\n        let item = this.state.currentItem_GroupUser.model\r\n        let key = item.id\r\n        let keyExistsInFilteredRows = -1\r\n\r\n        this.onFocusedRowChanged_GroupUser(item)                                           //Перед тем как поменять текущую запсиь на новую, проверяем, нужно ли сохранить текущие данные\r\n        if (this.state.isNeedToSave) { return }                                            //Проверяем на isNeedToSave что бы не пропустить сохранение\r\n\r\n        this.setState({ currentItem_GroupUser: { model: this.getDeepClone_GroupUser(item), rowKey: key } })      //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdGroupUser = this.state.refComponents.dgdGroupUser\r\n\r\n        if (item != null && dgdGroupUser != null) {\r\n            dgdGroupUser.instance.getDataSource().store()                                      //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdGroupUser.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n\r\n                    keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)      //Проверяем на наличие нужной нам записи в текущей выборке\r\n                });\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {                //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdGroupUser != null) {\r\n                key = dgdGroupUser.instance.getKeyByRowIndex(0)                                //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdGroupUser != null) {\r\n            dgdGroupUser.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;\r\n\r\n                    item = filteredRows.find((x: any) => x.id === key)\r\n                });\r\n        }\r\n\r\n        this.setState({ currentItem_GroupUser: { model: this.getDeepClone_GroupUser(item), rowKey: key } })\r\n        this.setState({ listUser: this.getListUser() })\r\n\r\n        //Проверяем, если список пустой, то область редактирования скрываем\r\n        if (dgdGroupUser != null) {\r\n            dgdGroupUser.instance.getDataSource().store()                                      //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdGroupUser.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n\r\n                    if (filteredRows.length === 0) {\r\n                        this.setState({ isVisibleEditArea: false })\r\n                        this.setState({ listUser: [] })\r\n                        this.setState({\r\n                            currentItem_GroupUser: {\r\n                                model: { id: 0, name: '', groupUserRelations: [] },\r\n                                rowKey: 0\r\n                            }\r\n                        })\r\n                    }\r\n                    else {\r\n                        this.setState({ isVisibleEditArea: true })\r\n                    }\r\n                });\r\n        }\r\n    }\r\n    onContentReady_ListUser(e: any) {\r\n        let item = this.state.currentItem_ListUser.model\r\n        let key = item.id\r\n        let keyExistsInFilteredRows = -1\r\n\r\n        this.onFocusedRowChanged_ListUser(item)                                           //Перед тем как поменять текущую запсиь на новую, проверяем, нужно ли сохранить текущие данные\r\n\r\n        this.setState({ currentItem_ListUser: { model: { ...item }, rowKey: key } })      //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdListUser = this.state.refComponents.dgdListUser\r\n\r\n        if (item != null && dgdListUser != null) {\r\n            dgdListUser.instance.getDataSource().store()                                     //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdListUser.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n\r\n                    keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)          //Проверяем на наличие нужной нам записи в текущей выборке\r\n                });\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {                //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdListUser != null) {\r\n                key = dgdListUser.instance.getKeyByRowIndex(0)                                //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdListUser != null) {\r\n            dgdListUser.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;\r\n\r\n                    item = filteredRows.find((x: any) => x.id === key)\r\n                });\r\n        }\r\n\r\n        this.setState({ currentItem_ListUser: { model: { ...item }, rowKey: key } })\r\n\r\n        //Проверяем, если список пустой, то кнопку добавления в группу блокируем\r\n        if (dgdListUser != null) {\r\n            dgdListUser.instance.getDataSource().store()                                      //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdListUser.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n\r\n                    if (filteredRows.length === 0) {\r\n                        this.setState({ isVisibleButtonAddToGroup: false })\r\n                    }\r\n                    else {\r\n                        this.setState({ isVisibleButtonAddToGroup: true })\r\n                    }\r\n                });\r\n        }\r\n    }\r\n    onContentReady_GroupUserRelation(e: any) {\r\n        if (this.state.currentItem_GroupUserRelation.model == null || this.state.currentItem_GroupUserRelation.model.groupUserRelation == null) { return }\r\n\r\n        let item = this.state.currentItem_GroupUserRelation.model\r\n        let key = item.id\r\n        let keyExistsInFilteredRows = -1\r\n\r\n        this.onFocusedRowChanged_GroupUserRelation(item)\r\n\r\n        this.setState({ currentItem_GroupUserRelation: { model: { ...item }, rowKey: key } })                //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdGroupUserRelation = this.state.refComponents.dgdGroupUserRelation\r\n\r\n        if (item != null && dgdGroupUserRelation != null) {\r\n            dgdGroupUserRelation.instance.getDataSource().store()                                    //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdGroupUserRelation.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                                   //Записываем результат во временную переменную filteredRows\r\n\r\n                    keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)                            //Проверяем на наличие нужной нам записи в текущей выборке\r\n                });\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {                              //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdGroupUserRelation != null) {\r\n                key = dgdGroupUserRelation.instance.getKeyByRowIndex(0)                                      //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdGroupUserRelation != null) {\r\n            dgdGroupUserRelation.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;\r\n\r\n                    item = filteredRows.find((x: any) => x.id === key)\r\n                });\r\n        }\r\n\r\n        this.setState({ currentItem_GroupUserRelation: { model: { ...item }, rowKey: key } })\r\n\r\n        //Проверяем, если список пустой, то кнопку удаления из группы блокируем\r\n        if (dgdGroupUserRelation != null) {\r\n            dgdGroupUserRelation.instance.getDataSource().store()                                      //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdGroupUserRelation.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n\r\n                    if (filteredRows.length === 0) {\r\n                        this.setState({ isVisibleButtonRemoveFromGroup: false })\r\n                    }\r\n                    else {\r\n                        this.setState({ isVisibleButtonRemoveFromGroup: true })\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    onRowClick_GroupUser(e: any) {\r\n        if (this.state.currentItem_GroupUser.model.id === e.data.id) { return }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        };\r\n\r\n        if (this.state.currentItem_GroupUser.model.id === 0 || this.state.currentItem_GroupUser.model.id == null) {\r\n            this.changeCurrentRow_GroupUser(e.data)\r\n        }\r\n    }\r\n\r\n    equalGroupUsers(newItem: Model_GroupUser, oldItem: Model_GroupUser): boolean {\r\n        if (newItem == null || oldItem == null) { return false }\r\n\r\n        let result: boolean = true\r\n\r\n        if (newItem.name != oldItem.name) {\r\n            return false\r\n        }\r\n\r\n        if (newItem.groupUserRelations.length != oldItem.groupUserRelations.length) {\r\n            return false\r\n        }\r\n        else {\r\n            for (let i = 0; i < oldItem.groupUserRelations.length; i++) {\r\n                if (newItem.groupUserRelations.findIndex(x => x.groupUserRelation.userId === oldItem.groupUserRelations[i].groupUserRelation.userId) === -1) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n\r\n        return result\r\n    }\r\n    applyChange_GroupUser(target: any) {\r\n        if (this.state.isVisibleEditArea === false) { return }\r\n\r\n        if (target == null) {\r\n            target = this.state.currentItem_GroupUser.model\r\n        }\r\n\r\n        let item = this.state.dataGroupUser.find(x => x.id === target.id)\r\n\r\n        let hasChanged: boolean = true\r\n\r\n        if (item != null) {\r\n            hasChanged = !this.equalGroupUsers(target, item)\r\n        }\r\n\r\n        this.setState({ currentItem_GroupUser: { model: target, rowKey: this.state.currentItem_GroupUser.rowKey } })       //Сохраним новые значения\r\n\r\n        this.setState({ isNeedToSave: hasChanged })                                                                        //Установим признак \"нужно сохранить\"\r\n    }\r\n    onChangeGroupName = (e: any) => {\r\n        var changedItem = this.getDeepClone_GroupUser(this.state.currentItem_GroupUser.model);\r\n\r\n        changedItem.name = e.value;\r\n\r\n        this.applyChange_GroupUser(changedItem);\r\n    }\r\n\r\n    //Добавить новую запись\r\n    handleButtonNewClick() {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        };\r\n\r\n        if (this.state.currentItem_GroupUser != null && this.state.currentItem_GroupUser.model.id != 0) {\r\n            this.setState({ prevCurrentItem_GroupUser: { ...this.state.currentItem_GroupUser } })              //Предварительно сохраняем предыдущую запись\r\n        }\r\n\r\n        var newItem: Model_GroupUser = { id: 0, name: '', groupUserRelations: [] }\r\n\r\n        this.setState({ currentItem_GroupUser: { model: newItem, rowKey: newItem.id } })\r\n        this.setState({ isNew: true, isVisibleEditArea: true })\r\n        this.setState({ listUser: this.getListUser() })\r\n\r\n        this.resetDataForCorrect()\r\n\r\n        let first = this.state.refComponents.txtGroupName\r\n\r\n        if (first != null) {\r\n            first.instance.focus()        //Устанавливаем фокус на первом радактируемом элементе\r\n        }\r\n    }\r\n    //Удалить запись\r\n    handleButtonDeleteClick() {\r\n        if (this.state.dataGroupUser.find(x => x.id === this.state.currentItem_GroupUser.model.id) == null) { return }\r\n\r\n        this.confirmDeleteFormVisible()             // Показ формы подтверждения удаления.\r\n    }\r\n    // Сохранение данных\r\n    handleButtonSaveClick() {\r\n        if (this.state.currentItem_GroupUser.model.id === 0 && this.state.isNew === false) {\r\n            this.setState({ isNeedToSave: false })\r\n            return\r\n        }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            this.confirmSaveFormVisible()           // Показ формы подтверждения сохранения.\r\n        };\r\n    }\r\n    //Добавить в группу\r\n    handleButtonAddToGroupClick() {\r\n        if (\r\n            this.state.currentItem_GroupUser == null ||\r\n            this.state.currentItem_GroupUser.model == null ||\r\n\r\n            this.state.currentItem_ListUser == null ||\r\n            this.state.currentItem_ListUser.model == null ||\r\n            this.state.currentItem_ListUser.model.id === 0\r\n        ) { return }\r\n\r\n        let group = this.state.currentItem_GroupUser.model\r\n        let groupId = this.state.currentItem_GroupUser.model.id\r\n        let userId = this.state.currentItem_ListUser.model.id\r\n        let userName = this.state.currentItem_ListUser.model.userName\r\n\r\n        if (group.groupUserRelations.findIndex(x => x.groupUserRelation.groupId === groupId && x.groupUserRelation.userId === userId) === -1) {\r\n\r\n            group.groupUserRelations.push({\r\n                id: userId,\r\n                groupUserRelation: {\r\n                    id: 0,\r\n                    userId: userId,\r\n                    groupId: groupId\r\n                },\r\n                userName: userName\r\n            })\r\n\r\n            this.setState({ currentItem_GroupUser: { model: group, rowKey: this.state.currentItem_GroupUser.rowKey } })\r\n\r\n            let dgdGroupUserRelation = this.state.refComponents.dgdGroupUserRelation\r\n\r\n            dgdGroupUserRelation.instance.refresh()\r\n\r\n            this.setState({ listUser: this.getListUser() })\r\n            this.setState({ isNeedToSave: true })\r\n        }\r\n\r\n        this.applyChange_GroupUser(undefined)                   //Проверяем на внесение изменений\r\n    }\r\n    //Удалить из группы\r\n    handleButtonRemoveFromGroupClick() {\r\n        if (\r\n            this.state.currentItem_GroupUserRelation == null ||\r\n            this.state.currentItem_GroupUserRelation.model == null ||\r\n            this.state.currentItem_GroupUserRelation.model.groupUserRelation == null\r\n        ) { return }\r\n\r\n        let relation = this.state.currentItem_GroupUserRelation.model\r\n\r\n        let group = this.state.currentItem_GroupUser.model\r\n\r\n        let index = group.groupUserRelations.findIndex(x => x.id === relation.id)\r\n\r\n        group.groupUserRelations.splice(index, 1);\r\n\r\n        let dgdGroupUserRelation = this.state.refComponents.dgdGroupUserRelation\r\n\r\n        dgdGroupUserRelation.instance.refresh()\r\n\r\n        this.setState({ listUser: this.getListUser() })\r\n        this.setState({ isNeedToSave: true })\r\n\r\n        this.applyChange_GroupUser(undefined)                   //Проверяем на внесение изменений\r\n    }\r\n\r\n    //Сбросим все индикаторы проверки\r\n    resetDataForCorrect() {\r\n        this.setState({ dataIsCorrect: { groupName: { isValid: true, message: '' } } })\r\n    }\r\n\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkDataForCorrect(model: Model_GroupUser): boolean {\r\n        let name = model.name == null ? '' : model.name.trim()\r\n\r\n        let groupNameIsValid = name != null && name != '' && name != undefined\r\n        let groupNameMessage = groupNameIsValid ? '' : getLabelText('GroupName_Incorrect')\r\n\r\n        if (groupNameIsValid) {\r\n            groupNameIsValid = this.state.dataGroupUser.find(x => x.name.toUpperCase() === name.toUpperCase() && x.id != model.id) === undefined\r\n            groupNameMessage = groupNameIsValid ? '' : getLabelText('GroupName_IsDublicate')\r\n        }\r\n\r\n        this.setState({ dataIsCorrect: { groupName: { isValid: groupNameIsValid, message: groupNameMessage } } })\r\n\r\n        if (groupNameIsValid === false) {\r\n            let comp = this.state.refComponents.txtGroupName\r\n\r\n            if (comp != null) {\r\n                comp.instance.focus()\r\n            }\r\n        }\r\n\r\n        return groupNameIsValid     //Консолидированный результат\r\n    }\r\n    // Действие при подтверждении формы сохранения.\r\n    confirmSaveFormClick() {\r\n        var item = this.state.currentItem_GroupUser.model\r\n\r\n        //Здесь проверяем данные перед их сохранением в БД\r\n        if (this.checkDataForCorrect(item) === false) {\r\n            this.setState({ confirmFormVisible: false });\r\n\r\n            return\r\n        }\r\n\r\n        let group: MailingGroupUser;\r\n        let groupUserRelations: MailingGroupUserRelation[] = [];\r\n\r\n        let relations = this.state.currentItem_GroupUser.model.groupUserRelations\r\n\r\n        for (let i = 0; i < relations.length; i++) {\r\n            groupUserRelations.push({\r\n                id: relations[i].groupUserRelation.id,\r\n                groupId: relations[i].groupUserRelation.groupId,\r\n                userId: relations[i].groupUserRelation.userId\r\n            })\r\n        }\r\n\r\n        group = {\r\n            id: item.id,\r\n            name: item.name == null ? '' : item.name.trim(),\r\n            mailingGroupUserRelations: groupUserRelations\r\n        }\r\n\r\n        if (this.state.currentItem_GroupUser.model.id === 0) {\r\n\r\n            dbwrap.AddRow(\"MailingGroupUsers\", group, null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    var currentItem = this.state.currentItem_GroupUser.model\r\n                    currentItem.id = data.data.id\r\n\r\n                    this.setState({ prevCurrentItem_GroupUser: { model: this.state.currentItem_GroupUser.model, rowKey: this.state.currentItem_GroupUser.rowKey } })\r\n\r\n                    this.handleButtonRefreshClick();\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisible: true\r\n                    });\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            dbwrap.UpdateRow(\"MailingGroupUsers\", group, null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.handleButtonRefreshClick();\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: getLabelText('PopupTitle_Error'),\r\n                        popupMessage: errorMessage,\r\n                        popupVisible: true\r\n                    });\r\n                }\r\n            })\r\n        }\r\n\r\n        this.closeConfirmSaveFormClick('saved');\r\n    }\r\n    // Действие при отмене сохранения.\r\n    closeConfirmSaveFormClick(action: string) {\r\n        if (action != 'saved') { action = 'cancel' }\r\n\r\n        this.setState({\r\n            confirmFormVisible: false,\r\n            isNeedToSave: false\r\n        });\r\n\r\n        if (this.state.currentItem_GroupUser != null && this.state.currentItem_GroupUser != undefined && action == 'cancel') {\r\n            var item = this.state.dataGroupUser.find(x => x.id === this.state.currentItem_GroupUser.model.id)\r\n\r\n            if (item != null && item != undefined) {\r\n                this.setState({ currentItem_GroupUser: { model: this.getDeepClone_GroupUser(item), rowKey: this.state.currentItem_GroupUser.rowKey } })\r\n                this.setState({ listUser: this.getListUser() })\r\n            }\r\n        }\r\n\r\n        //Если до этого места текущая выбранная запись всё ещё Ноль, обнуляем некоторые параметры, что бы это повлияло на скрытие формы редактирования (верхняя чать экрана)\r\n        if (this.state.currentItem_GroupUser.model.id === 0) {\r\n            this.setState({ currentItem_GroupUser: { model: { id: 0, name: '', groupUserRelations: [] }, rowKey: 0 } })\r\n            this.setState({ listUser: this.getListUser() })\r\n\r\n            if (this.state.isNew && this.state.prevCurrentItem_GroupUser != null) {\r\n                this.setState({ currentItem_GroupUser: { ...this.state.prevCurrentItem_GroupUser } })\r\n            }\r\n\r\n            this.setState({ isNew: false, isNeedToSave: false })\r\n        }\r\n\r\n        this.resetDataForCorrect()                                  //Сбросим все индикаторы корректности данных\r\n\r\n        this.handleButtonRefreshClick()\r\n\r\n        this.clearFilters()\r\n    }\r\n    // Действие при подтверждении формы удаления.\r\n    confirmDeleteFormClick() {\r\n        var item = this.state.currentItem_GroupUser.model\r\n\r\n        dbwrap.DeleteRow(\"MailingGroupUsers\", item.id, null).then((data: dbwrap.responseResult) => {\r\n            if (data.success) {\r\n                this.handleButtonRefreshClick();\r\n            }\r\n            else {\r\n                let errorMessage: string = ''\r\n\r\n                if (data.data.parsedErrObject == null) {\r\n                    errorMessage = data.data.request.responseText\r\n                }\r\n                else {\r\n                    errorMessage = data.data.parsedErrObject.message\r\n                }\r\n\r\n                this.setState({\r\n                    popupTitle: getLabelText('PopupTitle_Error'),\r\n                    popupMessage: errorMessage,\r\n                    popupVisible: true\r\n                });\r\n            }\r\n        })\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n\r\n        this.closeConfirmDeleteFormClick();\r\n    }\r\n    // Действие при отмене удаления.\r\n    closeConfirmDeleteFormClick() {\r\n\r\n        this.setState({\r\n            confirmFormVisible: false,\r\n            isNeedToSave: false\r\n        });\r\n\r\n        this.handleButtonRefreshClick()\r\n\r\n        //Если в массиве нет записей, то обнуляем некоторые параметры\r\n        if (this.state.dataGroupUser.length <= 1) {\r\n            this.setState(\r\n                {\r\n                    currentItem_GroupUser: { model: { id: 0, name: '', groupUserRelations: [] }, rowKey: 0 },\r\n                    isNew: false,\r\n                    isNeedToSave: false\r\n                }\r\n            )\r\n\r\n            this.setState({ listUser: this.getListUser() })\r\n        }\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n    }\r\n    setToPrevRow() {\r\n        this.setState({ isVisibleToastForEdit: true })\r\n\r\n        let dgdGroupUser = this.state.refComponents.dgdGroupUser\r\n\r\n        if (dgdGroupUser != null) {\r\n            if (this.state.prevCurrentItem_GroupUser != null) {\r\n                dgdGroupUser.instance.navigateToRow(this.state.prevCurrentItem_GroupUser.model.id)\r\n            }\r\n\r\n            if (this.state.currentItem_GroupUser != null && this.state.currentItem_GroupUser.model.id != 0) {\r\n                dgdGroupUser.instance.navigateToRow(this.state.currentItem_GroupUser.model.id)\r\n            }\r\n        }\r\n    }\r\n    onToastHiding() {\r\n        this.setState({ isVisibleToastForEdit: false })\r\n    }\r\n\r\n    // Обновление grid.\r\n    handleButtonRefreshClick() {\r\n        this.componentDidMount()\r\n    }\r\n    //Отмена внесенных пользователем изменений\r\n    handleButtonRevertClick() {\r\n        this.closeConfirmSaveFormClick('cancel')\r\n    }\r\n    // Закрытие popup.\r\n    hidePopup() {\r\n        this.setState({ popupVisible: false });\r\n    }\r\n    // Закрытие popup. Для обработки критической ошибки\r\n    hidePopupForCriticalError() {\r\n        this.setState({ popupVisibleForCriticalError: false });\r\n        this.setState({ hasCriticalError: true });                      //True - если справочник не может продолжить свою работу\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                    {getLabelText('PageName')}\r\n                </h3>\r\n\r\n                <div hidden={this.state.hasCriticalError === false}>\r\n                    <table width='100%' style={{ height: '80vh' }}>\r\n                        <tr>\r\n                            <td align='center'>\r\n                                <h1>\r\n                                    {getLabelText('Message_DirectoryNotAvailable')}\r\n                                </h1>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div hidden={this.state.hasCriticalError}>\r\n                    <Button icon=\"add\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNew || this.state.isNeedToSave} onClick={this.handleButtonNewClick} hint={getLabelText('Hint_Button_Add')} className='mb-2 mr-2' />\r\n                    <Button icon=\"trash\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNew || this.state.isVisibleEditArea === false || this.state.isNeedToSave} onClick={this.handleButtonDeleteClick} hint={getLabelText('Hint_Button_Delete')} className='mb-2 mr-2' />\r\n                    <Button icon=\"save\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNeedToSave === false} onClick={this.handleButtonSaveClick} hint={getLabelText('Hint_Button_Save')} className='mb-2 mr-2' />\r\n                    <Button icon=\"refresh\" activeStateEnabled={false} hoverStateEnabled={false} visible={this.state.isNeedToSave === false && this.state.isNew === false} disabled={this.state.isNew} onClick={this.handleButtonRefreshClick} hint={getLabelText('Hint_Button_Refresh')} className='mb-2 mr-2' />\r\n                    <Button icon=\"revert\" activeStateEnabled={false} hoverStateEnabled={false} visible={this.state.isNeedToSave || this.state.isNew} onClick={this.handleButtonRevertClick} hint={getLabelText('Hint_Button_Cancel')} className='mb-2 mr-2' />\r\n\r\n                    <div hidden={this.state.isVisibleEditArea === false && this.state.isNew === false}>\r\n                        <table width={\"100%\"}>\r\n                            <tr>\r\n                                <td width={\"16%\"} /><td width={\"84%\"} />\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    {getLabelText('GroupsName') + \":\"}\r\n                                </td>\r\n                                <td>\r\n                                    <TextBox maxLength={100} value={this.state.currentItem_GroupUser.model.name} valueChangeEvent=\"input\" onValueChanged={this.onChangeGroupName}\r\n                                        isValid={this.state.dataIsCorrect.groupName.isValid} hint={this.state.dataIsCorrect.groupName.message}\r\n                                        ref={(ref) => { this.state.refComponents[\"txtGroupName\"] = ref }}                //Регистрация компонента в общем массиве\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <Popup\r\n                        visible={this.state.confirmFormVisible}\r\n                        dragEnabled={false}\r\n                        closeOnOutsideClick={false}\r\n                        showCloseButton={false}\r\n                        showTitle={true}\r\n                        width={500}\r\n                        height={300}\r\n                        title={this.state.confirmFormTitle}>\r\n\r\n                        <TextArea\r\n                            height={150}\r\n                            value={this.state.confirmFormMessage}\r\n                            readOnly={true}\r\n                        />\r\n\r\n                        <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={{ text: this.state.confirmFormOkButtonText, onClick: this.state.confirmFormOkButton }}></ToolbarItem>\r\n                        <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={{ text: this.state.confirmFormCancelButtonText, onClick: this.state.confirmFormCancelButton }}></ToolbarItem>\r\n                    </Popup>\r\n\r\n                    <MessagePopup\r\n                        visible={this.state.popupVisible}\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopup}\r\n                        message={this.state.popupMessage}\r\n                    />\r\n                    <MessagePopup\r\n                        visible={this.state.popupVisibleForCriticalError}\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopupForCriticalError}\r\n                        message={this.state.popupMessage}\r\n                    />\r\n\r\n                    <br />\r\n                    <ResponsiveBox>\r\n                        <Row ratio={0.01} />\r\n                        <Row ratio={1} />\r\n                        <Row ratio={2} />\r\n\r\n                        <Col ratio={1} />\r\n                        <Col ratio={0.05} />\r\n\r\n                        <Col ratio={1} />\r\n                        <Col ratio={0.05} />\r\n\r\n                        <Col ratio={0.5} />\r\n                        <Col ratio={0.05} />\r\n\r\n                        <Col ratio={1} />\r\n                        <Item>\r\n                            <Location row={0} col={0} />\r\n                            <p><b>{getLabelText('Groups')}</b></p>\r\n                        </Item>\r\n                        <Item>\r\n                            <Location row={0} col={2} />\r\n                            <p><b>{getLabelText('AllUsers')}</b></p>\r\n                        </Item>\r\n                        <Item>\r\n                            <Location row={0} col={6} />\r\n                            <p><b>{getLabelText('GroupUsers')}</b></p>\r\n                        </Item>\r\n                        <Item>\r\n                            <Location row={1} col={0} rowspan={2} />\r\n                            <DataGrid\r\n                                dataSource={this.state.dataGroupUser}\r\n                                keyExpr=\"id\"\r\n                                showBorders={true}\r\n                                focusedRowEnabled={true}\r\n                                allowColumnResizing={true}\r\n                                allowColumnReordering={true}\r\n                                onFocusedRowChanged={this.onFocusedRowChanged_GroupUser}\r\n                                onRowClick={this.onRowClick_GroupUser}\r\n                                focusedRowKey={this.state.currentItem_GroupUser.rowKey}\r\n                                onFocusedRowChanging={this.onFocusedRowChanging_GroupUser}\r\n\r\n                                autoNavigateToFocusedRow={true}\r\n                                onContentReady={this.onContentReady_GroupUser}\r\n                                ref={(ref) => { this.state.refComponents[\"dgdGroupUser\"] = ref }}\r\n\r\n                                height={window.innerHeight - 270}\r\n                            >\r\n\r\n                                <Paging defaultPageSize={15} />\r\n                                <Pager\r\n                                    visible={true}\r\n                                    displayMode={'full'}\r\n                                    showInfo={true}\r\n                                    showNavigationButtons={true} />\r\n\r\n                                <FilterRow visible={true} />\r\n                                <HeaderFilter visible={true} />\r\n                                <Sorting mode=\"multiple\" />\r\n                                <SearchPanel visible={false} />\r\n\r\n                                <Column dataField=\"name\" dataType=\"string\" caption={getLabelText('GroupsName')} />\r\n                            </DataGrid>\r\n                        </Item>\r\n                        <Item>\r\n                            <Location row={1} col={2} rowspan={2} />\r\n                            <DataGrid\r\n                                dataSource={this.state.listUser}\r\n                                keyExpr=\"id\"\r\n                                showBorders={true}\r\n                                focusedRowEnabled={true}\r\n                                allowColumnResizing={true}\r\n                                allowColumnReordering={true}\r\n                                onFocusedRowChanged={this.onFocusedRowChanged_ListUser}\r\n                                focusedRowKey={this.state.currentItem_ListUser.rowKey}\r\n\r\n                                autoNavigateToFocusedRow={true}\r\n                                onContentReady={this.onContentReady_ListUser}\r\n                                ref={(ref) => { this.state.refComponents[\"dgdListUser\"] = ref }}\r\n\r\n                                height={window.innerHeight - 270}\r\n                            >\r\n                                <Paging defaultPageSize={15} />\r\n                                <Pager\r\n                                    visible={true}\r\n                                    displayMode={'full'}\r\n                                    showInfo={true}\r\n                                    showNavigationButtons={true} />\r\n\r\n                                <FilterRow visible={true} />\r\n                                <HeaderFilter visible={true} />\r\n                                <Sorting mode=\"multiple\" />\r\n                                <SearchPanel visible={false} />\r\n\r\n                                <Column dataField=\"userName\" dataType=\"string\" caption={getLabelText('UsersName')} />\r\n                            </DataGrid>\r\n                        </Item>\r\n                        <Item>\r\n                            <Location row={2} col={4} />\r\n                            <Button\r\n                                activeStateEnabled={false} hoverStateEnabled={false}\r\n                                disabled={(this.state.isNew === false && this.state.isVisibleEditArea === false) || this.state.isVisibleButtonAddToGroup === false}\r\n                                text={getLabelText('Button_AddToGroup')}\r\n                                onClick={this.handleButtonAddToGroupClick}\r\n                            />\r\n                            <br />\r\n                            <Button\r\n                                activeStateEnabled={false} hoverStateEnabled={false}\r\n                                disabled={(this.state.isNew === false && this.state.isVisibleEditArea === false) || this.state.isVisibleButtonRemoveFromGroup === false}\r\n                                text={getLabelText('Button_RemoveFromGroup')}\r\n                                onClick={this.handleButtonRemoveFromGroupClick}\r\n                            />\r\n                        </Item>\r\n                        <Item>\r\n                            <Location row={1} col={6} rowspan={2} />\r\n                            <DataGrid\r\n                                dataSource={this.state.currentItem_GroupUser.model.groupUserRelations}\r\n                                keyExpr=\"id\"\r\n                                showBorders={true}\r\n                                focusedRowEnabled={true}\r\n                                allowColumnResizing={true}\r\n                                allowColumnReordering={true}\r\n                                onFocusedRowChanged={this.onFocusedRowChanged_GroupUserRelation}\r\n                                focusedRowKey={this.state.currentItem_GroupUserRelation.rowKey}\r\n\r\n                                autoNavigateToFocusedRow={true}\r\n                                onContentReady={this.onContentReady_GroupUserRelation}\r\n                                ref={(ref) => { this.state.refComponents[\"dgdGroupUserRelation\"] = ref }}\r\n\r\n                                height={window.innerHeight - 270}\r\n                            >\r\n                                <Paging defaultPageSize={15} />\r\n                                <Pager\r\n                                    visible={true}\r\n                                    displayMode={'full'}\r\n                                    showInfo={true}\r\n                                    showNavigationButtons={true} />\r\n\r\n                                <FilterRow visible={true} />\r\n                                <HeaderFilter visible={true} />\r\n                                <Sorting mode=\"multiple\" />\r\n                                <SearchPanel visible={false} />\r\n\r\n                                <Column dataField=\"userName\" dataType=\"string\" caption={getLabelText('UsersName')} />\r\n                            </DataGrid>\r\n                        </Item>\r\n                    </ResponsiveBox>\r\n\r\n                    <Toast\r\n                        visible={this.state.isVisibleToastForEdit}\r\n                        message={getLabelText('Message_EditMode')}\r\n                        type={'warning'}\r\n                        onHiding={this.onToastHiding}\r\n                        displayTime={3000}\r\n                        width={400}\r\n                        position={'center center'}\r\n                    />\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) { return {} }\r\n\r\nfunction mapDispatchToProps(dispatch: any) { return { actions: {} } }\r\n\r\nexport const MailingGroupUsersDict = connect(mapStateToProps, mapDispatchToProps)(MailingGroupUsersDictClass);","import getLocMsg, { LocMsgId } from '../../localization';\r\n\r\nexport function PageName() { return getLocMsg(LocMsgId.Menu_Dicts_Managements_TerminalDirectory); }\r\nexport function PopupTitle_Error() { return getLocMsg(LocMsgId.PopupTitle_Error); }\r\n\r\nexport function Message_ConfirmDelete() { return getLocMsg(LocMsgId.Message_Deleting); }\r\nexport function Message_Confirm() { return getLocMsg(LocMsgId.Message_Confirm); }\r\nexport function Message_ConfirmSave() { return getLocMsg(LocMsgId.Message_Saving); }\r\nexport function Button_Save() { return getLocMsg(LocMsgId.Button_Save); }\r\nexport function Button_Cancel() { return getLocMsg(LocMsgId.Button_Cancel); }\r\nexport function Button_Yes() { return getLocMsg(LocMsgId.Button_Yes); }\r\nexport function Button_No() { return getLocMsg(LocMsgId.Button_No); }\r\nexport function Button_Close() { return getLocMsg(LocMsgId.Button_Close); }\r\n\r\nexport function Message_Required() { return getLocMsg(LocMsgId.Message_Required); }\r\nexport function AddressRegRus_Incorrect() { return getLocMsg(LocMsgId.Message_AddressRegRus_Incorrect); }\r\nexport function Message_MinValue() { return getLocMsg(LocMsgId.Message_MinValue); }\r\nexport function Date_Incorrect() { return getLocMsg(LocMsgId.Message_Date_Incorrect); }\r\n\r\n\r\nexport function Message_DirectoryNotAvailable() { return getLocMsg(LocMsgId.Message_DirectoryNotAvailable); }\r\nexport function Message_EditMode() { return getLocMsg(LocMsgId.Message_EditMode); }\r\nexport function NeedSelect() { return getLocMsg(LocMsgId.Message_NeedSelect); }\r\n\r\n\r\nexport function Hint_Button_Add() { return getLocMsg(LocMsgId.Button_Add); }\r\nexport function Hint_Button_Delete() { return getLocMsg(LocMsgId.Button_Delete); }\r\nexport function Hint_Button_Save() { return getLocMsg(LocMsgId.Button_Save); }\r\nexport function Hint_Button_Refresh() { return getLocMsg(LocMsgId.Button_Refresh); }\r\nexport function Hint_Button_Cancel() { return getLocMsg(LocMsgId.Button_Cancel); }\r\n\r\nexport function Id() { return getLocMsg(LocMsgId.Column_Id); }\r\nexport function Name() { return getLocMsg(LocMsgId.Column_Name); }\r\nexport function Dealer() { return getLocMsg(LocMsgId.Column_Dealer); }\r\nexport function Address() { return getLocMsg(LocMsgId.Column_Address); }\r\nexport function City() { return getLocMsg(LocMsgId.Column_City); }\r\nexport function Area() { return getLocMsg(LocMsgId.Column_Area); }\r\nexport function Country() { return getLocMsg(LocMsgId.Column_Country); }\r\nexport function Location() { return getLocMsg(LocMsgId.Column_Location); }\r\nexport function TerminalType() { return getLocMsg(LocMsgId.Column_TerminalType); }\r\nexport function TerminalKey() { return getLocMsg(LocMsgId.Column_TerminalKey); }\r\nexport function SerialNumber() { return getLocMsg(LocMsgId.Column_SerialNumber); }\r\nexport function RNM() { return getLocMsg(LocMsgId.Column_RNM); }\r\nexport function DeviceCode() { return getLocMsg(LocMsgId.Column_DeviceCode); }\r\nexport function TerminalSerialNumber() { return getLocMsg(LocMsgId.Column_TerminalSerialNumber); }\r\nexport function Account() { return getLocMsg(LocMsgId.Column_Account); }\r\nexport function CashDeskCode() { return getLocMsg(LocMsgId.Column_CashDeskCode); }\r\nexport function TypePointPlace() { return getLocMsg(LocMsgId.Column_TypePointPlace); }\r\nexport function StackerCapacity() { return getLocMsg(LocMsgId.Column_StackerCapacity); }\r\nexport function Users() { return getLocMsg(LocMsgId.Column_Users); }\r\nexport function Enabled() { return getLocMsg(LocMsgId.Column_Enabled); }\r\nexport function InServing() { return getLocMsg(LocMsgId.Column_InServing); }\r\nexport function ServiceNote() { return getLocMsg(LocMsgId.Column_Comment); }\r\nexport function Subnet() { return getLocMsg(LocMsgId.Column_Subnet); }\r\nexport function NetType() { return getLocMsg(LocMsgId.Column_NetType); }\r\nexport function Profile() { return getLocMsg(LocMsgId.Column_Profile); }\r\nexport function Timezone() { return getLocMsg(LocMsgId.Column_TimeZoneOffset); }\r\nexport function AvailabilitySchedules() { return getLocMsg(LocMsgId.Column_AvailabilitySchedules); }\r\nexport function WarrantyPeriod() { return getLocMsg(LocMsgId.Column_WarrantyPeriod); }\r\nexport function TechnicalSupportNumbers() { return getLocMsg(LocMsgId.Column_TechnicalSupportNumbers); }\r\nexport function CallCenterNumbers() { return getLocMsg(LocMsgId.Column_CallCenterNumbers); }\r\nexport function EditButton() { return getLocMsg(LocMsgId.Button_Edit); }\r\nexport function ChangeApiKeyButton() { return getLocMsg(LocMsgId.Button_ChangeApiKey); }\r\nexport function ApiKeyRequired() { return getLocMsg(LocMsgId.Message_ApiKeyRequired); }\r\nexport function NewApiKey() { return getLocMsg(LocMsgId.Message_NewApiKey); }\r\nexport function TerminalName_Unique() { return getLocMsg(LocMsgId.Message_TerminalNameUnique); }\r\nexport function TerminalKey_Unique() { return getLocMsg(LocMsgId.Message_TerminalKeyUnique); }\r\nexport function CashDeskCode_Unique() { return getLocMsg(LocMsgId.Message_CashDeskCodeUnique); }\r\n\r\nexport function DeviceUsers() { return getLocMsg(LocMsgId.PopupTitle_DeviceUsers); }\r\nexport function Button_AddUser() { return getLocMsg(LocMsgId.Button_AddToGroup); }\r\nexport function Button_RemoveUser() { return getLocMsg(LocMsgId.Button_RemoveFromGroup); }\r\n\r\nexport function TerminalName_Required() { return getLocMsg(LocMsgId.Message_TerminalNameRequired); }\r\nexport function TerminalAddress_Required() { return getLocMsg(LocMsgId.Message_TerminalAddressRequired); }\r\nexport function TerminalKey_Required() { return getLocMsg(LocMsgId.Message_TerminalKeyRequired); }\r\nexport function Dealer_Required() { return getLocMsg(LocMsgId.Message_DealerRequired); }\r\nexport function TerminalType_Required() { return getLocMsg(LocMsgId.Message_TerminalTypeRequired); }\r\nexport function Subnet_Required() { return getLocMsg(LocMsgId.Message_SubnetRequired); }\r\nexport function Rnm_Required() { return getLocMsg(LocMsgId.Message_RnmRequired); }\r\nexport function DeviceCode_Required() { return getLocMsg(LocMsgId.Message_DeviceCodeRequired); }\r\nexport function TerminalSerialNumber_Required() { return getLocMsg(LocMsgId.Message_TerminalSerialNumberRequired); }\r\nexport function StackerCapacity_Required() { return getLocMsg(LocMsgId.Message_StackerCapacityRequired); }\r\nexport function ServiceNote_Required() { return getLocMsg(LocMsgId.Message_ServiceNoteRequired); }\r\nexport function TerminalProfile_Required() { return getLocMsg(LocMsgId.Message_TerminalProfileRequired); }\r\nexport function TerminalTimezone_Required() { return getLocMsg(LocMsgId.Message_TerminalTimezoneRequired); }\r\nexport function AvailabilitySchedule_Requider() { return getLocMsg(LocMsgId.Message_AvailabilityScheduleRequider); }\r\nexport function TerminalLocation_Required() { return getLocMsg(LocMsgId.Message_TerminalLocationRequired); }\r\nexport function TerminalTypePointPlace_Required() { return getLocMsg(LocMsgId.Message_TerminalTypePointPlaceRequired); }\r\nexport function NetType_Required() { return getLocMsg(LocMsgId.Message_NetTypeRequired); }\r\nexport function TechnicalSupportNumber_Required() { return getLocMsg(LocMsgId.Message_TechnicalSupportNumberRequired); }\r\nexport function TechnicalSupportNumbers_Required() { return getLocMsg(LocMsgId.Message_TechnicalSupportNumbersRequired); }\r\nexport function TechnicalSupportNumber_MaxLength() { return getLocMsg(LocMsgId.Message_TechnicalSupportNumberMaxLength); }\r\nexport function TechnicalSupportNumber_MaxCount() { return getLocMsg(LocMsgId.Message_TechnicalSupportNumberMaxCount); }\r\nexport function TechnicalSupportNumber_Unique() { return getLocMsg(LocMsgId.Message_TechnicalSupportNumberUnique); }\r\nexport function CallCenterNumber_Required() { return getLocMsg(LocMsgId.Message_CallCenterNumberRequired); }\r\nexport function CallCenterNumbers_Required() { return getLocMsg(LocMsgId.Message_CallCenterNumbersRequired); }\r\nexport function CallCenterNumber_MaxLength() { return getLocMsg(LocMsgId.Message_CallCenterNumberMaxLength); }\r\nexport function CallCenterNumber_MaxCount() { return getLocMsg(LocMsgId.Message_CallCenterNumberMaxCount); }\r\nexport function CallCenterNumber_Unique() { return getLocMsg(LocMsgId.Message_CallCenterNumberUnique); }\r\nexport function CashDeskCode_Required() { return getLocMsg(LocMsgId.Message_CashDeskCodeRequired); }","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../../DbWrapper';\r\nimport DataGrid, {\r\n    Column,\r\n    ColumnChooser,\r\n    FilterRow,\r\n    HeaderFilter,\r\n    SearchPanel,\r\n    Sorting,\r\n    Pager,\r\n    Paging,\r\n    Selection,\r\n    Scrolling,\r\n    Editing,\r\n    Lookup\r\n} from 'devextreme-react/data-grid';\r\nimport Button from 'devextreme-react/button';\r\nimport { MessagePopup } from '../../components/CommonComponents/MessagePopup';\r\nimport TextBox from 'devextreme-react/text-box';\r\nimport { CheckBox, TextArea, Toast, NumberBox, DateBox, DropDownBox } from 'devextreme-react';\r\nimport { Popup, ToolbarItem } from 'devextreme-react/popup';\r\nimport SelectBox from 'devextreme-react/select-box';\r\nimport List from 'devextreme-react/list';\r\n\r\nimport { Model, Location, UserTerminalModel, PropertyModel, PhoneModel } from './Model';\r\nimport * as labels from './Labels';\r\nimport { IncorrectData } from './IncorrectData';\r\nimport { Timezone } from '../../Models/Timezone';\r\nimport { Attribute } from '../../Models/Attribute';\r\nimport { NetType } from '../../Models/NetType';\r\nimport { TerminalSchedule } from '../../Models/TerminalSchedule';\r\nimport { AvailabilitySchedule } from '../../Models/AvailabilitySchedule';\r\nimport { TerminalAttribute } from '../../Models/TerminalAttribute';\r\nimport { TypePointPlace } from '../../Models/TypePointPlace';\r\nimport { ServicesProfile } from '../../Models/ServicesProfile';\r\nimport { City } from '../../Models/City';\r\nimport { Area } from '../../Models/Area';\r\nimport { Country } from '../../Models/Country';\r\nimport { User } from '../../Models/User';\r\nimport { UserTerminal } from '../../Models/UserTerminal';\r\nimport { Terminal } from '../../Models/Terminal';\r\nimport { Dealer } from '../../Models/Dealer';\r\nimport { TerminalDTO } from '../../Models/DTO/TerminalDTO';\r\n\r\ninterface Props { }\r\n\r\ntype State = {\r\n    data: Model[],\r\n    currentItem: { model: Model, rowKey: number },                          //Содержит ссылку на текущую выбранную запись из Grid, так же информирует, добавляется новая запись или редактируется существующая\r\n    isNeedToSave: boolean,                                                  //Информирует, нужно ли сохранять данные в БД. Принимает значение True, если пользователь внес изменения к какое нибудь поле.\r\n    isNew: boolean,                                                         //Новая запись или нет\r\n    isReady: boolean,\r\n    prevCurrentItem?: { model: Model, rowKey: number },                     //Содержит ссылку на предыдущую текущую выбранную запись из Grid, эта информация нужна для перехода на нё после отмены Создания новой записи\r\n\r\n    terminalDTOList: TerminalDTO[]                                          //Список объединенных моделей\r\n    timezoneList: Timezone[],                                               //Список Time зон\r\n    attributesList: Attribute[],                                            //Все возможные атрибуты\r\n    terminalTypeList: Attribute[],                                          //Список типов терминалов\r\n    subnetList: Attribute[],                                                //Список подсетей\r\n    netTypeList: NetType[],                                                 //Список типов сетей\r\n    availabilityScheduleList: AvailabilitySchedule[],                       //Таблица режимов доступности\r\n    typePointPlaceList: TypePointPlace[],                                   //Таблица Тип точки установки\r\n    servicesProfileList: ServicesProfile[],                                 //Таблица Тип точки установки\r\n    cityList: City[],                                                       //Таблица Городов\r\n    areaList: Area[],                                                       //Таблица Областей\r\n    countryList: Country[],                                                 //Таблица Стран\r\n    locationList: Location[],                                               //Структура для объединения таблиц City, Area, Country\r\n    userList: User[],                                                       //Таблица всех пользователей системы\r\n    dealerList: Dealer[]                                                    //Таблица филиалов\r\n\r\n    userFilteredList: User[],                                               //Здесь отфильтрованный список пользователей относительно терминалов\r\n\r\n    //Для отображения или скрытия модального окна с кнопками подтверждения\r\n    confirmFormVisible: boolean,\r\n    confirmFormTitle: string,\r\n    confirmFormMessage: string,\r\n    confirmFormOkButtonText: string,\r\n    confirmFormOkButton?: any,\r\n    confirmFormCancelButtonText: string,\r\n    confirmFormCancelButton?: any,\r\n\r\n    usersFormVisible: boolean,                                    //Окно для редактирования списка пользователей\r\n    isVisibleButtonAddUser: boolean,\r\n    isVisibleButtonRemoveUser: boolean,\r\n\r\n    apiKeyFormVisible: boolean,\r\n\r\n    popupTitle: string,                                           //Для передачи в PopUp окно, нужного заголовка\r\n    popupMessage: string,                                         //Для передачи в PopUp окно, нужного текста сообщения\r\n    popupVisible: boolean,                                        //Для отображения или скрытия PopUp окна\r\n    popupVisibleForCriticalError: boolean,                        //Для отображения или скрытия PopUp окна. Для обработки критической ошибки\r\n    hasCriticalError: boolean,                                    //Используется если есть критическая ошибка и справочник не может работать\r\n\r\n    //Здесь индикаторы корректности данных. Это нужно для проверки данных перед сохранением в БД\r\n    terminalNameIsCorrect: IncorrectData,\r\n    addressIsCorrect: IncorrectData,\r\n    terminalKeyIsCorrect: IncorrectData,\r\n    dealerIsCorrect: IncorrectData,\r\n    technicalSupportNumbersIsCorrect: IncorrectData,\r\n    callCenterNumbersIsCorrect: IncorrectData,\r\n    stackerCapacityIsCorrect: IncorrectData,\r\n    locationIsCorrect: IncorrectData,\r\n    rnmIsCorrect: IncorrectData,\r\n    serialNumberIsCorrect: IncorrectData,\r\n    deviceCodeIsCorrect: IncorrectData,\r\n    serviceNoteIsCorrect: IncorrectData,\r\n    profileIsCorrect: IncorrectData,\r\n    typePointPlaceIsCorrect: IncorrectData,\r\n    netTypeIsCorrect: IncorrectData,\r\n    subnetIsCorrect: IncorrectData,\r\n    terminalTypeIsCorrect: IncorrectData,\r\n    cashDeskCodeIsCorrect: IncorrectData,\r\n    timezoneIsCorrect: IncorrectData,\r\n    availabilityScheduleIsCorrect: IncorrectData,\r\n\r\n    isVisibleEditArea: boolean,\r\n\r\n    refComponents: any,                                                                     //Хранилище ссылок на объекты формы\r\n    isVisibleToast: boolean,                                                                //Признак необходимости отобразить сообщение пользователю, что он находится в режиме редактирования\r\n    toastMessage: string,\r\n\r\n    isLocationGridBoxOpened: boolean,\r\n    isTechnicalSupportNumberGridOpened: boolean,\r\n    isTechnicalSupportNumberAllowAdding: boolean,\r\n    isTechnicalSupportNumberEdited: boolean,\r\n    isCallCenterNumberGridOpened: boolean,\r\n    isCallCenterNumberAllowAdding: boolean,\r\n    isCallCenterNumberEdited: boolean,\r\n\r\n    currentItem_ListUser: { model: User, rowKey: number },\r\n    currentItem_ListUserSelected: { model: UserTerminalModel, rowKey: number },\r\n\r\n    currentUsersTerminalModels: UserTerminalModel[]\r\n}\r\n\r\nconst allowedPageSizes = [5, 10, 15, 20];\r\n\r\nexport class TerminalDirectoryDictClass extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: [],\r\n            currentItem: {\r\n                model: this.createNewModel(),\r\n                rowKey: 0\r\n            },\r\n            isNeedToSave: false,\r\n            isNew: false,\r\n            isReady: false,\r\n\r\n            terminalDTOList: [],\r\n            timezoneList: [],\r\n            attributesList: [],\r\n            terminalTypeList: [],\r\n            netTypeList: [],\r\n            subnetList: [],\r\n            availabilityScheduleList: [],\r\n            typePointPlaceList: [],\r\n            servicesProfileList: [],\r\n            cityList: [],\r\n            areaList: [],\r\n            countryList: [],\r\n            locationList: [],\r\n            userList: [],\r\n            dealerList: [],\r\n\r\n            userFilteredList: [],\r\n\r\n            confirmFormVisible: false,\r\n            confirmFormTitle: '',\r\n            confirmFormMessage: '',\r\n            confirmFormOkButtonText: '',\r\n            confirmFormCancelButtonText: '',\r\n\r\n            usersFormVisible: false,\r\n            isVisibleButtonAddUser: false,\r\n            isVisibleButtonRemoveUser: false,\r\n\r\n            apiKeyFormVisible: false,\r\n\r\n            popupTitle: \"\",\r\n            popupMessage: \"\",\r\n            popupVisible: false,\r\n            popupVisibleForCriticalError: false,\r\n            hasCriticalError: false,\r\n\r\n            terminalNameIsCorrect: { isValid: true },\r\n            addressIsCorrect: { isValid: true },\r\n            terminalKeyIsCorrect: { isValid: true },\r\n            dealerIsCorrect: { isValid: true },\r\n            technicalSupportNumbersIsCorrect: { isValid: true },\r\n            callCenterNumbersIsCorrect: { isValid: true },\r\n            stackerCapacityIsCorrect: { isValid: true },\r\n            locationIsCorrect: { isValid: true },\r\n            rnmIsCorrect: { isValid: true },\r\n            serialNumberIsCorrect: { isValid: true },\r\n            deviceCodeIsCorrect: { isValid: true },\r\n            serviceNoteIsCorrect: { isValid: true },\r\n            profileIsCorrect: { isValid: true },\r\n            typePointPlaceIsCorrect: { isValid: true },\r\n            netTypeIsCorrect: { isValid: true },\r\n            subnetIsCorrect: { isValid: true },\r\n            terminalTypeIsCorrect: { isValid: true },\r\n            cashDeskCodeIsCorrect: { isValid: true },\r\n            timezoneIsCorrect: { isValid: true },\r\n            availabilityScheduleIsCorrect: { isValid: true },\r\n\r\n            isVisibleEditArea: false,\r\n            isVisibleToast: false,\r\n            toastMessage: \"\",\r\n\r\n            isLocationGridBoxOpened: false,\r\n            isTechnicalSupportNumberGridOpened: false,\r\n            isTechnicalSupportNumberAllowAdding: true,\r\n            isTechnicalSupportNumberEdited: false,\r\n            isCallCenterNumberGridOpened: false,\r\n            isCallCenterNumberAllowAdding: true,\r\n            isCallCenterNumberEdited: false,\r\n\r\n            refComponents: new Map(),\r\n\r\n            currentItem_ListUser: {\r\n                model: { id: 0, username: '', isGroupEmail: false },\r\n                rowKey: 0\r\n            },\r\n            currentItem_ListUserSelected: {\r\n                model: { id: 0, userId: 0, terminalId: 0, userName: '' },\r\n                rowKey: 0\r\n            },\r\n            currentUsersTerminalModels: []\r\n        };\r\n\r\n        this.handleButtonSaveClick = this.handleButtonSaveClick.bind(this);\r\n        this.handleButtonRefreshClick = this.handleButtonRefreshClick.bind(this);\r\n        this.handleButtonRevertClick = this.handleButtonRevertClick.bind(this);\r\n\r\n        this.closeConfirmSaveFormClick = this.closeConfirmSaveFormClick.bind(this);\r\n        this.confirmSaveFormClick = this.confirmSaveFormClick.bind(this);\r\n\r\n        this.applyChange = this.applyChange.bind(this);\r\n        this.applyChange_ListUser = this.applyChange_ListUser.bind(this);\r\n        this.changeCurrentRow = this.changeCurrentRow.bind(this);\r\n\r\n        this.onChangeInServing = this.onChangeInServing.bind(this);\r\n        this.onChangeEnabled = this.onChangeEnabled.bind(this);\r\n        this.onChangeTerminalName = this.onChangeTerminalName.bind(this);\r\n        this.onChangeSerialNumber = this.onChangeSerialNumber.bind(this);\r\n        this.onChangeAddress = this.onChangeAddress.bind(this);\r\n        this.onChangeTerminalKey = this.onChangeTerminalKey.bind(this);\r\n        this.onChangeRnm = this.onChangeRnm.bind(this);\r\n        this.onChangeDeviceCode = this.onChangeDeviceCode.bind(this);\r\n        this.onChangeAccount = this.onChangeAccount.bind(this);\r\n        this.onChangeCashDeskCode = this.onChangeCashDeskCode.bind(this);\r\n        this.onChangeServiceNote = this.onChangeServiceNote.bind(this);\r\n        this.onChangeStackerCapacity = this.onChangeStackerCapacity.bind(this);\r\n        this.onChangeTimezone = this.onChangeTimezone.bind(this);\r\n        this.onChangeTerminalType = this.onChangeTerminalType.bind(this);\r\n        this.onChangeSubnet = this.onChangeSubnet.bind(this);\r\n        this.onChangeNetType = this.onChangeNetType.bind(this);\r\n        this.onChangeAvailabilitySchedule = this.onChangeAvailabilitySchedule.bind(this);\r\n        this.onChangeTypePointPlace = this.onChangeTypePointPlace.bind(this);\r\n        this.onChangeProfile = this.onChangeProfile.bind(this);\r\n        this.onChangeLocation = this.onChangeLocation.bind(this);\r\n        this.onOptionChangedLocation = this.onOptionChangedLocation.bind(this);\r\n        this.onChangeWarrantyPeriod = this.onChangeWarrantyPeriod.bind(this);\r\n        this.onChangeTerminalSerialNumber = this.onChangeTerminalSerialNumber.bind(this);\r\n        this.onChangeTechnicalSupportNumbers = this.onChangeTechnicalSupportNumbers.bind(this);\r\n        this.onChangeCallCenterNumbers = this.onChangeCallCenterNumbers.bind(this);\r\n        this.onChangeApiKey = this.onChangeApiKey.bind(this);\r\n\r\n        this.onFocusedRowChanged_ListUser = this.onFocusedRowChanged_ListUser.bind(this);\r\n        this.onContentReady_ListUser = this.onContentReady_ListUser.bind(this);\r\n        this.changeCurrentRow_ListUser = this.changeCurrentRow_ListUser.bind(this);\r\n\r\n        this.onFocusedRowChanged_ListUserSelected = this.onFocusedRowChanged_ListUserSelected.bind(this);\r\n        this.onContentReady_ListUserSelected = this.onContentReady_ListUserSelected.bind(this);\r\n        this.changeCurrentRow_ListUserSelected = this.changeCurrentRow_ListUserSelected.bind(this);\r\n\r\n        this.getLocationGrid = this.getLocationGrid.bind(this);\r\n        this.getTechnicalSupportNumberGrid = this.getTechnicalSupportNumberGrid.bind(this);\r\n        this.getCallCenterNumberGrid = this.getCallCenterNumberGrid.bind(this);\r\n\r\n        this.hidePopup = this.hidePopup.bind(this);\r\n        this.hidePopupForCriticalError = this.hidePopupForCriticalError.bind(this);\r\n\r\n        this.handleButtonNewClick = this.handleButtonNewClick.bind(this);\r\n\r\n        this.onRowClick = this.onRowClick.bind(this);\r\n        this.onFocusedRowChanged = this.onFocusedRowChanged.bind(this);\r\n        this.onContentReady = this.onContentReady.bind(this);\r\n        this.onFocusedRowChanging = this.onFocusedRowChanging.bind(this);\r\n\r\n        this.handleButtonUsersClick = this.handleButtonUsersClick.bind(this);\r\n        this.usersFormCancelButton = this.usersFormCancelButton.bind(this);\r\n        this.handleButtonAddUserClick = this.handleButtonAddUserClick.bind(this);\r\n        this.handleButtonRemoveUserClick = this.handleButtonRemoveUserClick.bind(this);\r\n\r\n        this.apiKeyCloseButton = this.apiKeyCloseButton.bind(this);\r\n        this.handleApiKeyClick = this.handleApiKeyClick.bind(this);\r\n\r\n        this.onToastHiding = this.onToastHiding.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        (async () => {\r\n            await dbwrap.GetRows(\"TerminalDicts\", null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    this.setState({ terminalDTOList: data.data })\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: labels.PopupTitle_Error(),\r\n                        popupMessage: errorMessage,\r\n                        popupVisibleForCriticalError: true\r\n                    });\r\n\r\n                    return\r\n                }\r\n\r\n                (async () => {\r\n                    await dbwrap.GetRows(\"Dealers\", null).then((data: dbwrap.responseResult) => {\r\n                        if (data.success) {\r\n                            this.setState({ dealerList: data.data })\r\n                        }\r\n                        else {\r\n                            let errorMessage: string = ''\r\n\r\n                            if (data.data.parsedErrObject == null) {\r\n                                errorMessage = data.data.request.responseText\r\n                            }\r\n                            else {\r\n                                errorMessage = data.data.parsedErrObject.message\r\n                            }\r\n\r\n                            this.setState({\r\n                                popupTitle: labels.PopupTitle_Error(),\r\n                                popupMessage: errorMessage,\r\n                                popupVisibleForCriticalError: true\r\n                            });\r\n\r\n                            return\r\n                        }\r\n\r\n                        (async () => {\r\n                            await dbwrap.GetRows(\"Timezones\", null).then((data: dbwrap.responseResult) => {\r\n                                if (data.success) {\r\n                                    this.setState({ timezoneList: data.data })\r\n                                }\r\n                                else {\r\n                                    let errorMessage: string = ''\r\n\r\n                                    if (data.data.parsedErrObject == null) {\r\n                                        errorMessage = data.data.request.responseText\r\n                                    }\r\n                                    else {\r\n                                        errorMessage = data.data.parsedErrObject.message\r\n                                    }\r\n\r\n                                    this.setState({\r\n                                        popupTitle: labels.PopupTitle_Error(),\r\n                                        popupMessage: errorMessage,\r\n                                        popupVisibleForCriticalError: true\r\n                                    });\r\n\r\n                                    return\r\n                                }\r\n\r\n                                (async () => {\r\n                                    await dbwrap.GetRows(\"Attributes/device\", null).then((data: dbwrap.responseResult) => {\r\n                                        if (data.success) {\r\n                                            this.setState({ terminalTypeList: data.data })\r\n                                        }\r\n                                        else {\r\n                                            let errorMessage: string = ''\r\n\r\n                                            if (data.data.parsedErrObject == null) {\r\n                                                errorMessage = data.data.request.responseText\r\n                                            }\r\n                                            else {\r\n                                                errorMessage = data.data.parsedErrObject.message\r\n                                            }\r\n\r\n                                            this.setState({\r\n                                                popupTitle: labels.PopupTitle_Error(),\r\n                                                popupMessage: errorMessage,\r\n                                                popupVisibleForCriticalError: true\r\n                                            });\r\n\r\n                                            return\r\n                                        }\r\n\r\n                                        (async () => {\r\n                                            await dbwrap.GetRows(\"Attributes/network\", null).then((data: dbwrap.responseResult) => {\r\n                                                if (data.success) {\r\n                                                    this.setState({ subnetList: data.data })\r\n                                                }\r\n                                                else {\r\n                                                    let errorMessage: string = ''\r\n\r\n                                                    if (data.data.parsedErrObject == null) {\r\n                                                        errorMessage = data.data.request.responseText\r\n                                                    }\r\n                                                    else {\r\n                                                        errorMessage = data.data.parsedErrObject.message\r\n                                                    }\r\n\r\n                                                    this.setState({\r\n                                                        popupTitle: labels.PopupTitle_Error(),\r\n                                                        popupMessage: errorMessage,\r\n                                                        popupVisibleForCriticalError: true\r\n                                                    });\r\n\r\n                                                    return\r\n                                                }\r\n\r\n                                                (async () => {\r\n                                                    await dbwrap.GetRows(\"NetTypes\", null).then((data: dbwrap.responseResult) => {\r\n                                                        if (data.success) {\r\n                                                            this.setState({ netTypeList: data.data })\r\n                                                        }\r\n                                                        else {\r\n                                                            let errorMessage: string = ''\r\n\r\n                                                            if (data.data.parsedErrObject == null) {\r\n                                                                errorMessage = data.data.request.responseText\r\n                                                            }\r\n                                                            else {\r\n                                                                errorMessage = data.data.parsedErrObject.message\r\n                                                            }\r\n\r\n                                                            this.setState({\r\n                                                                popupTitle: labels.PopupTitle_Error(),\r\n                                                                popupMessage: errorMessage,\r\n                                                                popupVisibleForCriticalError: true\r\n                                                            });\r\n\r\n                                                            return\r\n                                                        }\r\n\r\n                                                        (async () => {\r\n                                                            await dbwrap.GetRows(\"AvailabilitySchedules\", null).then((data: dbwrap.responseResult) => {\r\n                                                                if (data.success) {\r\n                                                                    this.setState({ availabilityScheduleList: data.data })\r\n                                                                }\r\n                                                                else {\r\n                                                                    let errorMessage: string = ''\r\n\r\n                                                                    if (data.data.parsedErrObject == null) {\r\n                                                                        errorMessage = data.data.request.responseText\r\n                                                                    }\r\n                                                                    else {\r\n                                                                        errorMessage = data.data.parsedErrObject.message\r\n                                                                    }\r\n\r\n                                                                    this.setState({\r\n                                                                        popupTitle: labels.PopupTitle_Error(),\r\n                                                                        popupMessage: errorMessage,\r\n                                                                        popupVisibleForCriticalError: true\r\n                                                                    });\r\n\r\n                                                                    return\r\n                                                                }\r\n\r\n                                                                (async () => {\r\n                                                                    await dbwrap.GetRows(\"Attributes\", null).then((data: dbwrap.responseResult) => {\r\n                                                                        if (data.success) {\r\n                                                                            this.setState({ attributesList: data.data })\r\n                                                                        }\r\n                                                                        else {\r\n                                                                            let errorMessage: string = ''\r\n\r\n                                                                            if (data.data.parsedErrObject == null) {\r\n                                                                                errorMessage = data.data.request.responseText\r\n                                                                            }\r\n                                                                            else {\r\n                                                                                errorMessage = data.data.parsedErrObject.message\r\n                                                                            }\r\n\r\n                                                                            this.setState({\r\n                                                                                popupTitle: labels.PopupTitle_Error(),\r\n                                                                                popupMessage: errorMessage,\r\n                                                                                popupVisibleForCriticalError: true\r\n                                                                            });\r\n\r\n                                                                            return\r\n                                                                        }\r\n\r\n                                                                        (async () => {\r\n                                                                            await dbwrap.GetRows(\"TypePointPlaces\", null).then((data: dbwrap.responseResult) => {\r\n                                                                                if (data.success) {\r\n                                                                                    this.setState({ typePointPlaceList: data.data })\r\n                                                                                }\r\n                                                                                else {\r\n                                                                                    let errorMessage: string = ''\r\n\r\n                                                                                    if (data.data.parsedErrObject == null) {\r\n                                                                                        errorMessage = data.data.request.responseText\r\n                                                                                    }\r\n                                                                                    else {\r\n                                                                                        errorMessage = data.data.parsedErrObject.message\r\n                                                                                    }\r\n\r\n                                                                                    this.setState({\r\n                                                                                        popupTitle: labels.PopupTitle_Error(),\r\n                                                                                        popupMessage: errorMessage,\r\n                                                                                        popupVisibleForCriticalError: true\r\n                                                                                    });\r\n\r\n                                                                                    return\r\n                                                                                }\r\n\r\n                                                                                (async () => {\r\n                                                                                    await dbwrap.GetRows(\"ServicesProfiles\", null).then((data: dbwrap.responseResult) => {\r\n                                                                                        if (data.success) {\r\n                                                                                            this.setState({ servicesProfileList: data.data })\r\n                                                                                        }\r\n                                                                                        else {\r\n                                                                                            let errorMessage: string = ''\r\n\r\n                                                                                            if (data.data.parsedErrObject == null) {\r\n                                                                                                errorMessage = data.data.request.responseText\r\n                                                                                            }\r\n                                                                                            else {\r\n                                                                                                errorMessage = data.data.parsedErrObject.message\r\n                                                                                            }\r\n\r\n                                                                                            this.setState({\r\n                                                                                                popupTitle: labels.PopupTitle_Error(),\r\n                                                                                                popupMessage: errorMessage,\r\n                                                                                                popupVisibleForCriticalError: true\r\n                                                                                            });\r\n\r\n                                                                                            return\r\n                                                                                        }\r\n\r\n                                                                                        (async () => {\r\n                                                                                            await dbwrap.GetRows(\"Cities\", null).then((data: dbwrap.responseResult) => {\r\n                                                                                                if (data.success) {\r\n                                                                                                    this.setState({ cityList: data.data })\r\n                                                                                                }\r\n                                                                                                else {\r\n                                                                                                    let errorMessage: string = ''\r\n\r\n                                                                                                    if (data.data.parsedErrObject == null) {\r\n                                                                                                        errorMessage = data.data.request.responseText\r\n                                                                                                    }\r\n                                                                                                    else {\r\n                                                                                                        errorMessage = data.data.parsedErrObject.message\r\n                                                                                                    }\r\n\r\n                                                                                                    this.setState({\r\n                                                                                                        popupTitle: labels.PopupTitle_Error(),\r\n                                                                                                        popupMessage: errorMessage,\r\n                                                                                                        popupVisibleForCriticalError: true\r\n                                                                                                    });\r\n\r\n                                                                                                    return\r\n                                                                                                }\r\n\r\n                                                                                                (async () => {\r\n                                                                                                    await dbwrap.GetRows(\"Areas\", null).then((data: dbwrap.responseResult) => {\r\n                                                                                                        if (data.success) {\r\n                                                                                                            this.setState({ areaList: data.data })\r\n                                                                                                        }\r\n                                                                                                        else {\r\n                                                                                                            let errorMessage: string = ''\r\n\r\n                                                                                                            if (data.data.parsedErrObject == null) {\r\n                                                                                                                errorMessage = data.data.request.responseText\r\n                                                                                                            }\r\n                                                                                                            else {\r\n                                                                                                                errorMessage = data.data.parsedErrObject.message\r\n                                                                                                            }\r\n\r\n                                                                                                            this.setState({\r\n                                                                                                                popupTitle: labels.PopupTitle_Error(),\r\n                                                                                                                popupMessage: errorMessage,\r\n                                                                                                                popupVisibleForCriticalError: true\r\n                                                                                                            });\r\n\r\n                                                                                                            return\r\n                                                                                                        }\r\n\r\n                                                                                                        (async () => {\r\n                                                                                                            await dbwrap.GetRows(\"Countries\", null).then((data: dbwrap.responseResult) => {\r\n                                                                                                                if (data.success) {\r\n                                                                                                                    this.setState({ countryList: data.data })\r\n                                                                                                                }\r\n                                                                                                                else {\r\n                                                                                                                    let errorMessage: string = ''\r\n\r\n                                                                                                                    if (data.data.parsedErrObject == null) {\r\n                                                                                                                        errorMessage = data.data.request.responseText\r\n                                                                                                                    }\r\n                                                                                                                    else {\r\n                                                                                                                        errorMessage = data.data.parsedErrObject.message\r\n                                                                                                                    }\r\n\r\n                                                                                                                    this.setState({\r\n                                                                                                                        popupTitle: labels.PopupTitle_Error(),\r\n                                                                                                                        popupMessage: errorMessage,\r\n                                                                                                                        popupVisibleForCriticalError: true\r\n                                                                                                                    });\r\n\r\n                                                                                                                    return\r\n                                                                                                                }\r\n\r\n                                                                                                                (async () => {\r\n                                                                                                                    await dbwrap.GetRows(\"Users\", null).then((data: dbwrap.responseResult) => {\r\n                                                                                                                        if (data.success) {\r\n                                                                                                                            this.setState({ userList: data.data })\r\n\r\n                                                                                                                            this.convertToModelArray();\r\n                                                                                                                        }\r\n                                                                                                                        else {\r\n                                                                                                                            let errorMessage: string = ''\r\n\r\n                                                                                                                            if (data.data.parsedErrObject == null) {\r\n                                                                                                                                errorMessage = data.data.request.responseText\r\n                                                                                                                            }\r\n                                                                                                                            else {\r\n                                                                                                                                errorMessage = data.data.parsedErrObject.message\r\n                                                                                                                            }\r\n\r\n                                                                                                                            this.setState({\r\n                                                                                                                                popupTitle: labels.PopupTitle_Error(),\r\n                                                                                                                                popupMessage: errorMessage,\r\n                                                                                                                                popupVisibleForCriticalError: true\r\n                                                                                                                            });\r\n\r\n                                                                                                                            return\r\n                                                                                                                        }\r\n                                                                                                                    });\r\n                                                                                                                })();\r\n                                                                                                            });\r\n                                                                                                        })();\r\n                                                                                                    });\r\n                                                                                                })();\r\n                                                                                            });\r\n                                                                                        })();\r\n                                                                                    });\r\n                                                                                })();\r\n                                                                            });\r\n                                                                        })();\r\n                                                                    });\r\n                                                                })();\r\n                                                            });\r\n                                                        })();\r\n                                                    });\r\n                                                })();\r\n                                            });\r\n                                        })();\r\n                                    });\r\n                                })();\r\n                            });\r\n                        })();\r\n                    });\r\n                })();\r\n            });\r\n        })();\r\n    }\r\n\r\n    //#region Model mapping\r\n    convertToModelArray() {\r\n        //Данный блок объединяет все действия по дозаполнению модели данными. Должен запускаться после загрузки всех таблиц\r\n        this.setDataArray();                                                     //Convert TerminalDTO[] to Model[]\r\n\r\n        this.mergeTerminalTypeWithTerminalAttributesAndAttributes()              //Привязываем Тип терминала с атрибутами терминаламов\r\n        this.mergeSubnetWithTerminalAttributesAndAttributes()                    //Привязываем Посдесть терминала с атрибутами терминаламов\r\n\r\n        this.mergeAvailabilityScheduleWithTerminalSchedule();                    //Привязываем Режимы доступности с терминалами\r\n\r\n        this.mergeCityWithAreaAndCountry();                                      //Привязываем Города, Области и Страны\r\n        this.setPositionName();                                                  //Заполняем поле Местоположение для дальнейшего отображения на форме\r\n\r\n        this.mergeTerminalUsersWithUsers()                                       //Привязываем Пользователей и терминалы\r\n        this.setProperties()                                                     //Define support and callcenter phone numbers.\r\n\r\n        this.setState({ isReady: true });\r\n    }\r\n\r\n    setDataArray() {\r\n        let newDataSet: Model[] = []\r\n\r\n        for (let i = 0; i < this.state.terminalDTOList.length; i++) {\r\n            let item = this.state.terminalDTOList[i]\r\n\r\n            let modelItem: Model = {\r\n                id: item.terminal.id,\r\n                name: item.terminal.name,\r\n                address: item.terminal.address,\r\n                terminalKey: item.terminal.terminalKey,\r\n                dealerId: item.terminal.dealerId,\r\n                properties: item.terminal.properties,\r\n                stackerCapacity: item.terminal.stackerCapacity,\r\n                enabled: item.terminal.enabled,\r\n                inServing: item.terminal.inServing,\r\n                cityId: item.terminal.cityId,\r\n                rnm: item.terminal.rnm,\r\n                serialNumber: item.terminal.serialNumber,\r\n                deviceCode: item.terminal.deviceCode,\r\n                account: item.terminal.account,\r\n                serviceNote: item.terminal.serviceNote,\r\n                profileId: item.terminal.profileId,\r\n                typePointPlaceId: item.terminal.typePointPlaceId,\r\n                netTypeId: item.terminal.netTypeId,\r\n                servicesProfileDate: item.terminal.servicesProfileDate,\r\n                terminalSerialNumber: item.terminal.terminalSerialNumber,\r\n                warrantyPeriod: item.terminal.warrantyPeriod,\r\n                apiKey: item.terminal.apiKey,\r\n                cashDeskCode: item.terminal.cashDeskCode,\r\n                timezoneId: item.terminal.timezoneId,\r\n\r\n                terminalAttributes: item.terminalAttributes,\r\n                terminalSchedules: item.terminalSchedules,\r\n                userTerminals: item.userTerminals,\r\n\r\n                users: [],\r\n                technicalSupportNumbers: [],\r\n                technicalSupportNumbersString: \"\",\r\n                callCenterNumbers: [],\r\n                callCenterNumbersString: \"\"\r\n            };\r\n\r\n            newDataSet.push(modelItem)\r\n        }\r\n\r\n        if (newDataSet.length > 0) {\r\n            this.setState({ data: newDataSet })\r\n        }\r\n    }\r\n\r\n    mergeTerminalTypeWithTerminalAttributesAndAttributes() {\r\n        let newDataSet: Model[] = []\r\n\r\n        for (let i = 0; i < this.state.data.length; i++) {\r\n            let item = this.state.data[i]\r\n\r\n            if (item.terminalAttributes != null) {\r\n                for (let i = 0; i < item.terminalAttributes.length; i++) {\r\n                    let foundItem = this.state.terminalTypeList.find(x => x.id === item.terminalAttributes[i].attributeId)\r\n\r\n                    if (foundItem != null) {\r\n                        item.terminalTypeId = foundItem.id\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n\r\n            newDataSet.push(item)\r\n        }\r\n\r\n        if (newDataSet.length > 0) {\r\n            this.setState({ data: newDataSet })\r\n        }\r\n    }\r\n    mergeSubnetWithTerminalAttributesAndAttributes() {\r\n        let newDataSet: Model[] = []\r\n\r\n        for (let i = 0; i < this.state.data.length; i++) {\r\n            let item = this.state.data[i]\r\n            if (item.terminalAttributes != null) {\r\n                for (let i = 0; i < item.terminalAttributes.length; i++) {\r\n                    let foundItem = this.state.subnetList.find(x => x.id === item.terminalAttributes[i].attributeId)\r\n\r\n                    if (foundItem != null) {\r\n                        item.subnetId = foundItem.id\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n\r\n            newDataSet.push(item)\r\n        }\r\n\r\n        if (newDataSet.length > 0) {\r\n            this.setState({ data: newDataSet })\r\n        }\r\n    }\r\n\r\n    mergeAvailabilityScheduleWithTerminalSchedule() {\r\n        let newDataSet: Model[] = []\r\n\r\n        for (let i = 0; i < this.state.data.length; i++) {\r\n            let item = this.state.data[i]\r\n\r\n            let foundItem = item.terminalSchedules.find(x => x.terminalId == item.id)\r\n\r\n            item.availabilitySchedulesId = foundItem == null ? 0 : foundItem.scheduleId\r\n\r\n            newDataSet.push(item)\r\n        }\r\n\r\n        if (newDataSet.length > 0) {\r\n            this.setState({ data: newDataSet })\r\n        }\r\n    }\r\n\r\n    mergeTerminalUsersWithUsers() {\r\n        let newDataSet: Model[] = []\r\n\r\n        for (let i = 0; i < this.state.data.length; i++) {\r\n            let item = this.state.data[i]\r\n\r\n            let users: UserTerminalModel[] = []                                                  //Создаем для каждого терминала свой список пользователей\r\n\r\n            if (item.userTerminals != null && item.userTerminals.length > 0) {\r\n                for (let j = 0; j < item.userTerminals.length; j++) {\r\n\r\n                    let user = this.state.userList.find(x => x.id === item.userTerminals[j].userId)\r\n\r\n                    if (user != null) {\r\n                        let newItem: UserTerminalModel = { id: item.userTerminals[j].id, terminalId: item.userTerminals[j].terminalId, userId: item.userTerminals[j].userId, userName: user.username }\r\n                        users.push(newItem)\r\n                    }\r\n                }\r\n            }\r\n\r\n            item.users = users\r\n\r\n            newDataSet.push(item)\r\n        }\r\n\r\n        if (newDataSet.length > 0) {\r\n            this.setState({ data: newDataSet })\r\n        }\r\n    }\r\n\r\n    mergeCityWithAreaAndCountry() {\r\n        let newDataSet: Location[] = []\r\n\r\n        for (let i = 0; i < this.state.cityList.length; i++) {\r\n            let item = this.state.cityList[i]\r\n\r\n            if (item != null) {\r\n                let areaId = item.areaId == null ? 0 : item.areaId\r\n\r\n                let foundArea = this.state.areaList.find(x => x.id === areaId)\r\n\r\n                if (foundArea != null) {\r\n                    let countryId = foundArea.countryId == null ? 0 : foundArea.countryId\r\n\r\n                    let foundCountry = this.state.countryList.find(x => x.id === countryId)\r\n\r\n                    if (foundCountry != null) {\r\n                        let location: Location = {\r\n                            cityId: item.id == null ? 0 : item.id,\r\n                            cityName: item.name == null ? \"\" : item.name,\r\n                            areaId: foundArea.id == null ? 0 : foundArea.id,\r\n                            areaName: foundArea.name == null ? \"\" : foundArea.name,\r\n                            countryId: foundCountry.id == null ? 0 : foundCountry.id,\r\n                            countryName: foundCountry.name == null ? \"\" : foundCountry.name,\r\n                        }\r\n\r\n                        newDataSet.push(location)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (newDataSet.length > 0) {\r\n            this.setState({ locationList: newDataSet })\r\n        }\r\n    }\r\n    setPositionName() {\r\n        let newDataSet: Model[] = []\r\n\r\n        for (let i = 0; i < this.state.data.length; i++) {\r\n            let item = this.state.data[i]\r\n\r\n            let foundItem = this.state.locationList.find(x => x.cityId === item.cityId)             //locationId сурагатное поле, на самом деле locationId - это CityId\r\n\r\n            item.locationId = foundItem == null ? 0 : foundItem.cityId                              //в locationId храним cityId\r\n            item.locationName = foundItem == null ? '' : foundItem.areaName                         //в locationName храним areaName, так заказчик хочет\r\n            item.locationHint = foundItem == null ? '' : foundItem.cityName                         //в locationHint храним cityName, что бы у пользователя была возможность видеть выбранный Город\r\n\r\n            item.cityName = foundItem == null ? '' : foundItem.cityName\r\n            item.areaName = foundItem == null ? '' : foundItem.areaName\r\n            item.countryName = foundItem == null ? '' : foundItem.countryName\r\n\r\n            newDataSet.push(item)\r\n        }\r\n\r\n        if (newDataSet.length > 0) {\r\n            this.setState({ data: newDataSet })\r\n        }\r\n    }\r\n\r\n    //#region Set Properties\r\n    setProperties() {\r\n        let newDataSet: Model[] = [];\r\n\r\n        for (let i = 0; i < this.state.data.length; i++) {\r\n            let item = this.state.data[i];\r\n\r\n            let properties: PropertyModel[] = [];\r\n            if (item.properties != null) {\r\n                properties = JSON.parse(item.properties);\r\n            }\r\n\r\n            let supportPhones = properties.find(x => x.name == \"SupportPhones\");\r\n            let callCenter = properties.find(x => x.name == \"CallCenter\");\r\n\r\n            if (supportPhones != null) {\r\n                item.technicalSupportNumbers = supportPhones.phones;\r\n                item.technicalSupportNumbersString = this.getPhonesString(supportPhones.phones);\r\n            }\r\n            else {\r\n                item.technicalSupportNumbers = [];\r\n                item.technicalSupportNumbersString = \"\";\r\n            }\r\n\r\n            if (callCenter != null) {\r\n                item.callCenterNumbers = callCenter.phones;\r\n                item.callCenterNumbersString = this.getPhonesString(callCenter.phones);\r\n            }\r\n            else {\r\n                item.callCenterNumbers = [];\r\n                item.callCenterNumbersString = \"\";\r\n            }\r\n\r\n            newDataSet.push(item);\r\n        }\r\n\r\n        if (newDataSet.length > 0) {\r\n            this.setState({ data: newDataSet });\r\n        }\r\n    }\r\n\r\n    // Get phones as string format.\r\n    getPhonesString(data: PhoneModel[]): string {\r\n        let phonesString: string = '';\r\n        for (let i = 0; i < data.length; i++) {\r\n            if (i == 0)\r\n                phonesString += data[i].number;\r\n            else\r\n                phonesString += \", \" + data[i].number;\r\n        }\r\n\r\n        return phonesString;\r\n    }\r\n\r\n    // Get PhoneModel array with selected phone property.\r\n    getPhoneModels(data: PhoneModel[]): PhoneModel[] {\r\n        let phones: PhoneModel[] = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            let phone: PhoneModel = { number: data[i].number };\r\n            phones.push(phone);\r\n        }\r\n\r\n        return phones;\r\n    }\r\n    //#endregion\r\n    //#endregion\r\n\r\n    //#region Toolbar buttons functions\r\n    //Добавить новую запись\r\n    handleButtonNewClick() {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        };\r\n\r\n        this.setState({ prevCurrentItem: { ...this.state.currentItem } })              //Предварительно сохраняем предыдущую запись\r\n\r\n        var newItem: Model = this.createNewModel()\r\n\r\n        this.setCurrentItem(newItem, newItem.id)\r\n        this.setState({ isNew: true })\r\n\r\n        this.resetDataForCorrect()\r\n\r\n        let first = this.state.refComponents.txtUserName\r\n\r\n        if (first != null) {\r\n            first.instance.focus()        //Устанавливаем фокус на первом радактируемом элементе\r\n        }\r\n    }\r\n\r\n    // Сохранение данных\r\n    handleButtonSaveClick() {\r\n        if (this.state.currentItem.model.id === 0 && this.state.isNew === false) {\r\n            this.setState({ isNeedToSave: false })\r\n            return\r\n        }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            // Показ формы подтверждения сохранения.\r\n            this.confirmSaveFormVisible()\r\n        };\r\n    }\r\n\r\n    // Обновление grid.\r\n    handleButtonRefreshClick() {\r\n        this.setState({ isReady: false });\r\n\r\n        this.componentDidMount()\r\n    }\r\n\r\n    //Отмена внесенных пользователем изменений\r\n    handleButtonRevertClick() {\r\n        this.closeConfirmSaveFormClick('cancel')\r\n    }\r\n    //#endregion\r\n\r\n    //#region Confirm functions\r\n    //Настройки перед отображением запроса на Сохранение данных\r\n    confirmSaveFormVisible() {\r\n        this.setState({\r\n            confirmFormVisible: true,\r\n            confirmFormTitle: labels.Message_Confirm(),\r\n            confirmFormMessage: labels.Message_ConfirmSave(),\r\n            confirmFormOkButtonText: labels.Button_Save(),\r\n            confirmFormOkButton: this.confirmSaveFormClick,\r\n            confirmFormCancelButtonText: labels.Button_Cancel(),\r\n            confirmFormCancelButton: this.closeConfirmSaveFormClick\r\n        })\r\n    }\r\n\r\n    // Действие при подтверждении формы сохранения.\r\n    confirmSaveFormClick() {\r\n        var item = this.state.currentItem.model\r\n\r\n        //Здесь проверяем данные перед их сохранением в БД\r\n        if (this.checkDataForCorrect(item) === false) {\r\n            this.setState({ confirmFormVisible: false });\r\n\r\n            return\r\n        }\r\n\r\n        // Need validate if saving new terminal.\r\n        if (this.state.isNew) {\r\n            this.setState({ confirmFormVisible: false });\r\n\r\n            let value = item.apiKey == null ? '' : item.apiKey.trim()\r\n\r\n            let isValid = value != null && value != '' && value != undefined\r\n            if (!isValid) {\r\n                this.setState({\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.ApiKeyRequired()\r\n                })\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        var terminals: Terminal[] = [];\r\n\r\n        terminals.push({\r\n            id: item.id,\r\n            name: item.name.trim(),\r\n            address: item.address.trim(),\r\n            terminalKey: item.terminalKey.trim(),\r\n            dealerId: item.dealerId,\r\n            properties: item.properties,\r\n            stackerCapacity: item.stackerCapacity,\r\n            enabled: item.enabled,\r\n            inServing: item.inServing,\r\n            cityId: item.locationId == null ? 0 : item.locationId,\r\n            rnm: item.rnm.trim(),\r\n            serialNumber: item.serialNumber.trim(),\r\n            deviceCode: item.deviceCode.trim(),\r\n            account: item.account == null ? undefined : item.account.trim(),\r\n            serviceNote: item.serviceNote == null ? undefined : item.serviceNote.trim(),\r\n            profileId: item.profileId,\r\n            typePointPlaceId: item.typePointPlaceId,\r\n            netTypeId: item.netTypeId,\r\n            servicesProfileDate: item.servicesProfileDate,\r\n            terminalSerialNumber: item.terminalSerialNumber == null ? undefined : item.terminalSerialNumber.trim(),\r\n            warrantyPeriod: item.warrantyPeriod,\r\n            apiKey: item.apiKey == null ? undefined : item.apiKey.trim(),\r\n            cashDeskCode: item.cashDeskCode == null ? undefined : item.cashDeskCode.trim(),\r\n            timezoneId: item.timezoneId\r\n        });\r\n\r\n        var terminalAttributes: TerminalAttribute[] = item.terminalAttributes;\r\n        var terminalSchedules: TerminalSchedule[] = item.terminalSchedules;\r\n\r\n        // Convert UserModel[] to UserTerminal[].\r\n        var userTerminals: UserTerminal[] = [];\r\n        for (let i = 0; i < item.users.length; i++) {\r\n            userTerminals.push({ id: item.users[i].id, userId: item.users[i].userId, terminalId: item.users[i].terminalId });\r\n        }\r\n\r\n        var newItem = terminals[0]\r\n        let terminalDTO: TerminalDTO = { terminal: newItem, terminalSchedules: terminalSchedules, terminalAttributes: terminalAttributes, userTerminals: userTerminals };\r\n\r\n        if (this.state.currentItem.model.id === 0) {\r\n            dbwrap.AddRow(\"TerminalDicts\", terminalDTO, null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    // Add new terminal to list.\r\n                    let terminalDTOList = this.state.terminalDTOList;\r\n                    terminalDTOList.push(data.data);\r\n\r\n                    this.convertToModelArray();\r\n\r\n                    // Set focus to new row.\r\n                    let currentItem = this.state.currentItem;\r\n                    currentItem.rowKey = data.data.terminal.id;\r\n\r\n                    this.closeConfirmSaveFormClick('saved');\r\n                }\r\n                else if (data.data.response.status == 453) {\r\n                    this.setUniqueViolationError();\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: labels.PopupTitle_Error(),\r\n                        popupMessage: errorMessage,\r\n                        popupVisible: true\r\n                    });\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            dbwrap.UpdateRow(\"TerminalDicts\", terminalDTO, null).then((data: dbwrap.responseResult) => {\r\n                if (data.success) {\r\n                    dbwrap.GetRows(\"TerminalDicts/\" + terminalDTO.terminal.id, null).then((data: dbwrap.responseResult) => {\r\n                        if (data.success) {\r\n                            // Update terminal by Id.\r\n                            let terminalDTOList = this.state.terminalDTOList;\r\n                            let terminalIndex = terminalDTOList.findIndex(x => x.terminal.id == data.data.terminal.id);\r\n                            if (terminalIndex != -1)\r\n                                terminalDTOList[terminalIndex] = data.data;\r\n\r\n                            this.convertToModelArray();\r\n\r\n                            this.closeConfirmSaveFormClick('saved');\r\n                        }\r\n                    })\r\n                }\r\n                else if (data.data.response.status == 453) {\r\n                    this.setUniqueViolationError();\r\n                }\r\n                else {\r\n                    let errorMessage: string = ''\r\n\r\n                    if (data.data.parsedErrObject == null) {\r\n                        errorMessage = data.data.request.responseText\r\n                    }\r\n                    else {\r\n                        errorMessage = data.data.parsedErrObject.message\r\n                    }\r\n\r\n                    this.setState({\r\n                        popupTitle: labels.PopupTitle_Error(),\r\n                        popupMessage: errorMessage,\r\n                        popupVisible: true\r\n                    });\r\n                }\r\n            })\r\n        }\r\n\r\n        this.setState({ confirmFormVisible: false });\r\n    }\r\n\r\n    // Действие при отмене сохранения.\r\n    closeConfirmSaveFormClick(action: string) {\r\n        if (action != 'saved') { action = 'cancel' }\r\n\r\n        this.setState({\r\n            confirmFormVisible: false,\r\n            isNeedToSave: false\r\n        });\r\n\r\n        if (this.state.currentItem != null && this.state.currentItem != undefined && action == 'cancel') {\r\n            // Reset inner collection.\r\n            this.convertToModelArray();\r\n\r\n            var item = this.state.data.find(x => x.id === this.state.currentItem.model.id)\r\n\r\n            if (item != null && item != undefined) {\r\n                this.setCurrentItem({ ...item }, this.state.currentItem.rowKey)\r\n            }\r\n        }\r\n\r\n        //Если до этого места текущая выбранная запись всё ещё Ноль, обнуляем некоторые параметры, что бы это повлияло на скрытие формы редактирования (верхняя чать экрана)\r\n        if (this.state.currentItem.model.id === 0) {\r\n            this.setCurrentItem(this.createNewModel(), 0)\r\n\r\n            if (this.state.isNew && this.state.prevCurrentItem != null) {\r\n                this.setCurrentItem({ ...this.state.prevCurrentItem.model }, this.state.prevCurrentItem.rowKey)\r\n            }\r\n\r\n            this.setState({ isNew: false, isNeedToSave: false })\r\n        }\r\n\r\n        this.setState({ prevCurrentItem: undefined })               //Очистка данного параметра должна быть в любом случае, если зашли в процедуру Отмены\r\n\r\n        this.resetDataForCorrect()                                 //Сбросим все индикаторы корректности данных\r\n    }\r\n    //#endregion\r\n\r\n    //#region Terminal DataGrid functions\r\n    createNewModel(): Model {\r\n        let model: Model = {\r\n            id: 0,\r\n            name: \"\",\r\n            address: \"\",\r\n            terminalKey: \"\",\r\n            dealerId: 0,\r\n            properties: \"\",\r\n            stackerCapacity: 0,\r\n            enabled: true,\r\n            inServing: false,\r\n            cityId: 0,\r\n            rnm: \"\",\r\n            serialNumber: \"\",\r\n            deviceCode: \"\",\r\n            account: \"\",\r\n            serviceNote: \"\",\r\n            profileId: 0,\r\n            netTypeId: 0,\r\n            terminalSerialNumber: \"\",\r\n            apiKey: \"\",\r\n            cashDeskCode: \"\",\r\n            timezoneId: 0,\r\n            terminalAttributes: [],\r\n            terminalSchedules: [],\r\n            userTerminals: [],\r\n            users: [],\r\n            technicalSupportNumbers: [],\r\n            technicalSupportNumbersString: \"\",\r\n            callCenterNumbers: [],\r\n            callCenterNumbersString: \"\"\r\n        }\r\n\r\n        return model\r\n    }\r\n\r\n    changeCurrentRow(e: Model) {\r\n        this.setState({ isNew: false })             //Если сюда пришло, то обязательно устанавливаем в False параметр isNew\r\n\r\n        if (e == null) { return }\r\n\r\n        const dataRow = e;\r\n\r\n        this.setCurrentItem({ ...dataRow }, dataRow.id)\r\n\r\n        this.setState({ isNeedToSave: false })\r\n\r\n        this.resetDataForCorrect()          //Сбросим все индикаторы корректности данных\r\n\r\n        this.setState({ userFilteredList: this.getListUser() })\r\n    }\r\n\r\n    onFocusedRowChanged(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        this.changeCurrentRow(e.row && e.row.data)\r\n    }\r\n\r\n    onFocusedRowChanging(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            e.cancel = true;\r\n\r\n            return\r\n        }\r\n    }\r\n\r\n    onContentReady(e: any) {\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        }\r\n\r\n        var item = this.state.currentItem.model\r\n        var key = item.id\r\n        var keyExistsInFilteredRows = -1\r\n        var filteredRows: any\r\n\r\n        this.onFocusedRowChanged(item)                                                     //Перед тем как поменять текущую запсиь на новую, проверяем, нужно ли сохранить текущие данные\r\n        if (this.state.isNeedToSave) { return }                                            //Проверяем на isNeedToSave что бы не пропустить сохранение\r\n\r\n        this.setCurrentItem({ ...item }, key)                                              //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdData = this.state.refComponents.dgdData\r\n\r\n        if (item != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store()                                       //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n                });\r\n\r\n            keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)          //Проверяем на наличие нужной нам записи в текущей выборке\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {            //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdData != null) {\r\n                key = dgdData.instance.getKeyByRowIndex(0)                                 //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdData != null) {\r\n            dgdData.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    filteredRows = result;\r\n                });\r\n            item = filteredRows.find((x: any) => x.id === key)\r\n        }\r\n\r\n        this.setCurrentItem({ ...item }, key)\r\n\r\n        //Проверяем, если список пустой, то область редактирования скрываем\r\n        if (dgdData != null) {\r\n            dgdData.instance.getDataSource().store()                                    //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdData.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n                });\r\n\r\n            if (filteredRows.length === 0) {\r\n                this.setState({ isVisibleEditArea: false })\r\n            }\r\n            else {\r\n                this.setState({ isVisibleEditArea: true })\r\n            }\r\n        }\r\n    }\r\n\r\n    setToPrevRow() {\r\n        this.setState({\r\n            isVisibleToast: true,\r\n            toastMessage: labels.Message_EditMode()\r\n        })\r\n\r\n        let dgdData = this.state.refComponents.dgdData\r\n\r\n        if (dgdData != null) {\r\n            if (this.state.prevCurrentItem != null) {\r\n                dgdData.instance.navigateToRow(this.state.prevCurrentItem.model.id)\r\n            }\r\n            if (this.state.currentItem != null && this.state.currentItem.model.id != 0) {\r\n                dgdData.instance.navigateToRow(this.state.currentItem.model.id)\r\n            }\r\n        }\r\n    }\r\n\r\n    onRowClick(e: any) {\r\n        if (this.state.currentItem.model.id === e.data.id) { return }\r\n\r\n        if (this.state.isNeedToSave) {\r\n            this.setToPrevRow()\r\n\r\n            return\r\n        };\r\n\r\n        this.changeCurrentRow(e.data)\r\n    }\r\n\r\n    setCurrentItem(model: Model, rowKey: number) {\r\n        let copy: Model = model;\r\n\r\n        // Clone inner collections.\r\n        let terminalAttributes: TerminalAttribute[] = [];\r\n        for (let i = 0; i < model.terminalAttributes.length; i++) {\r\n            terminalAttributes.push({ ...model.terminalAttributes[i] });\r\n        }\r\n        copy.terminalAttributes = terminalAttributes;\r\n\r\n        let terminalSchedules: TerminalSchedule[] = [];\r\n        for (let i = 0; i < model.terminalSchedules.length; i++) {\r\n            terminalSchedules.push({ ...model.terminalSchedules[i] });\r\n        }\r\n        copy.terminalSchedules = terminalSchedules;\r\n\r\n        let userTerminals: UserTerminal[] = [];\r\n        for (let i = 0; i < model.userTerminals.length; i++) {\r\n            userTerminals.push({ ...model.userTerminals[i] });\r\n        }\r\n        copy.userTerminals = userTerminals;\r\n\r\n        this.setState({ currentItem: { model: copy, rowKey: rowKey } })\r\n        this.setState({ userFilteredList: this.getListUser() })\r\n    }\r\n    //#endregion\r\n\r\n    //#region UserTerminals selection functions\r\n    //#region UserTerminals popup functions\r\n    // Открыть форму редактирования списка пользователей\r\n    handleButtonUsersClick() {\r\n        this.setState({ usersFormVisible: true })\r\n        if (!this.state.isNeedToSave)\r\n            this.setState({ currentUsersTerminalModels: { ...this.state.currentItem.model.users } })\r\n    }\r\n\r\n    // Действие при отмене сохранения изменений списка пользователей.\r\n    usersFormCancelButton() {\r\n        let listUserSelected = this.state.refComponents.listUserSelected\r\n        listUserSelected.instance.reload();\r\n        this.setState({ usersFormVisible: false })\r\n    }\r\n    //#endregion\r\n\r\n    //#region ApiKey form functions\r\n    handleApiKeyClick() {\r\n        this.setState({ apiKeyFormVisible: true });\r\n    }\r\n\r\n    apiKeyCloseButton() {\r\n        this.setState({ apiKeyFormVisible: false });\r\n    }\r\n    //#endregion\r\n\r\n    //#region ListUser data grid functions\r\n    onFocusedRowChanged_ListUser(e: any) {\r\n        this.changeCurrentRow_ListUser(e.row && e.row.data);\r\n    }\r\n\r\n    onContentReady_ListUser(e: any) {\r\n        let item = this.state.currentItem_ListUser.model\r\n        let key = item.id\r\n        let keyExistsInFilteredRows = -1\r\n\r\n        this.onFocusedRowChanged_ListUser(item)                                           //Перед тем как поменять текущую запсиь на новую, проверяем, нужно ли сохранить текущие данные\r\n\r\n        this.setState({ currentItem_ListUser: { model: { ...item }, rowKey: key } })      //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdListUser = this.state.refComponents.dgdListUser\r\n\r\n        if (item != null && dgdListUser != null) {\r\n            let dataSource = dgdListUser.instance.getDataSource();\r\n            if (dataSource == null)\r\n                return;\r\n\r\n            dataSource.store()                                                                 //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdListUser.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n\r\n                    keyExistsInFilteredRows = filteredRows.find((x: any) => x.id === key)          //Проверяем на наличие нужной нам записи в текущей выборке\r\n                });\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {                //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdListUser != null) {\r\n                key = dgdListUser.instance.getKeyByRowIndex(0)                                //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdListUser != null) {\r\n            dgdListUser.instance.getDataSource().store().load({ filter: ['id', '=', key] })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;\r\n\r\n                    item = filteredRows.find((x: any) => x.id === key)\r\n                });\r\n        }\r\n\r\n        this.setState({ currentItem_ListUser: { model: { ...item }, rowKey: key } })\r\n\r\n        //Проверяем, если список пустой, то кнопку добавления блокируем\r\n        if (dgdListUser != null) {\r\n            dgdListUser.instance.getDataSource().store()                                      //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdListUser.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n\r\n                    if (filteredRows.length === 0) {\r\n                        this.setState({ isVisibleButtonAddUser: false })\r\n                    }\r\n                    else {\r\n                        this.setState({ isVisibleButtonAddUser: true })\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    changeCurrentRow_ListUser(e: User) {\r\n        if (e == null) { return }\r\n\r\n        const dataRow = e;\r\n\r\n        this.setState({\r\n            currentItem_ListUser: {\r\n                model: { ...dataRow },\r\n                rowKey: dataRow.id\r\n            }\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region ListUserSelected data grid functions\r\n    onFocusedRowChanged_ListUserSelected(e: any) {\r\n        this.changeCurrentRow_ListUserSelected(e.row && e.row.data)\r\n    }\r\n\r\n    onContentReady_ListUserSelected(e: any) {\r\n        if (this.state.currentItem_ListUserSelected.model == null) { return }\r\n\r\n        let item = this.state.currentItem_ListUserSelected.model\r\n        let key = item.userId\r\n        let keyExistsInFilteredRows = -1\r\n\r\n        this.onFocusedRowChanged_ListUserSelected(item)\r\n\r\n        this.setState({ currentItem_ListUserSelected: { model: { ...item }, rowKey: key } })                //Пытаемся установить фокус на нужной нам записи\r\n\r\n        let dgdListUserSelected = this.state.refComponents.dgdListUserSelected\r\n\r\n        if (item != null && dgdListUserSelected != null) {\r\n            let dataSource = dgdListUserSelected.instance.getDataSource();\r\n            if (dataSource == null)\r\n                return;\r\n\r\n            dataSource.store()                                                                                   //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdListUserSelected.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                                   //Записываем результат во временную переменную filteredRows\r\n\r\n                    keyExistsInFilteredRows = filteredRows.find((x: any) => x.userId === key)                            //Проверяем на наличие нужной нам записи в текущей выборке\r\n                });\r\n        }\r\n\r\n        if (item == null || item.id === 0 || keyExistsInFilteredRows == null) {                              //Если список загружается в первый раз или в отфильтрованных записях нет искомой Id, нужно выбрать первую запись\r\n            if (dgdListUserSelected != null) {\r\n                key = dgdListUserSelected.instance.getKeyByRowIndex(0)                                      //Определяем Key по нулевому индексу (нулевой индекс - это всегда первая запись)\r\n            }\r\n        }\r\n\r\n        if (key != null && dgdListUserSelected != null) {\r\n            dgdListUserSelected.instance.getDataSource().store().load({ filter: ['userId', '=', key] })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;\r\n\r\n                    item = filteredRows.find((x: any) => x.userId === key)\r\n                });\r\n        }\r\n\r\n        this.setState({ currentItem_ListUserSelected: { model: { ...item }, rowKey: key } })\r\n\r\n        //Проверяем, если список пустой, то кнопку удаления из группы блокируем\r\n        if (dgdListUserSelected != null) {\r\n            dgdListUserSelected.instance.getDataSource().store()                                      //Применяем заданный на данный момент фильтр и получаем отфильтрованный массив данных.\r\n                .load({ filter: dgdListUserSelected.instance.getCombinedFilter() })\r\n                .then((result: any) => {\r\n                    let filteredRows = result;                                                 //Записываем результат во временную переменную filteredRows\r\n\r\n                    if (filteredRows.length === 0) {\r\n                        this.setState({ isVisibleButtonRemoveUser: false })\r\n                    }\r\n                    else {\r\n                        this.setState({ isVisibleButtonRemoveUser: true })\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    changeCurrentRow_ListUserSelected(e: UserTerminalModel) {\r\n        if (e == null) { return }\r\n\r\n        const dataRow = e;\r\n\r\n        this.setState({\r\n            currentItem_ListUserSelected: {\r\n                model: { ...dataRow },\r\n                rowKey: dataRow.userId\r\n            }\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Add/Remove buttons functions\r\n    //Добавить в группу\r\n    handleButtonAddUserClick() {\r\n        if (\r\n            this.state.currentItem_ListUser == null ||\r\n            this.state.currentItem_ListUser.model == null ||\r\n            this.state.currentItem_ListUser.model.id === 0\r\n        ) { return }\r\n\r\n        let userId = this.state.currentItem_ListUser.model.id\r\n        let userName = this.state.currentItem_ListUser.model.username\r\n\r\n        let terminal = { ...this.state.currentItem.model };\r\n\r\n        if (terminal.users.findIndex(x => x.userId == userId) === -1) {\r\n            let addedUserTerminalModel: UserTerminalModel = { id: 0, userId: userId, terminalId: terminal.id, userName: userName };\r\n            terminal.users.push(addedUserTerminalModel);\r\n\r\n            let dgdListUserSelected = this.state.refComponents.dgdListUserSelected\r\n            dgdListUserSelected.instance.refresh();\r\n            this.setState({ userFilteredList: this.getListUser() });\r\n\r\n            this.applyChange_ListUser(terminal);\r\n        }\r\n    }\r\n\r\n    //Удалить из группы\r\n    handleButtonRemoveUserClick() {\r\n        if (\r\n            this.state.currentItem_ListUserSelected == null ||\r\n            this.state.currentItem_ListUserSelected.model == null\r\n        ) { return }\r\n\r\n        let userId = this.state.currentItem_ListUserSelected.model.userId;\r\n\r\n        let terminal = { ...this.state.currentItem.model };\r\n\r\n        let index = terminal.users.findIndex(x => x.userId == userId);\r\n        terminal.users.splice(index, 1);\r\n\r\n        let dgdListUserSelected = this.state.refComponents.dgdListUserSelected\r\n        dgdListUserSelected.instance.refresh();\r\n        this.setState({ userFilteredList: this.getListUser() });\r\n\r\n        this.applyChange_ListUser(terminal);\r\n    }\r\n\r\n    getListUser(): any {\r\n        let listUsers: User[]\r\n\r\n        listUsers = { ...this.state.userList }               //Делаем копию массива, для того, что бы иметь возможность менять копию и не \"ломать\" оригинал\r\n\r\n        listUsers = Object.values(listUsers)                 //Преобразование Объекта в массив данных\r\n\r\n        if (listUsers != null && this.state.currentItem.model.users != null) {\r\n            for (let i = 0; i < this.state.currentItem.model.users.length; i++) {\r\n                let index = listUsers.findIndex(x => x.id === this.state.currentItem.model.users[i].userId)\r\n\r\n                if (index >= 0) {\r\n                    listUsers.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        return listUsers\r\n    }\r\n    //#endregion\r\n    //#endregion\r\n\r\n    //#region Change events handlers\r\n    applyChange(target: any) {\r\n        let item = this.state.data.find(x => x.id === target.id)\r\n        let currentItem: string = \"\"\r\n\r\n        if (item != null) {\r\n            currentItem = JSON.stringify(item)\r\n        }\r\n\r\n        let newItem = JSON.stringify(target)\r\n\r\n        let hasChanged = currentItem != newItem\r\n\r\n        this.setCurrentItem(target, this.state.currentItem.rowKey)                                     //Сохраним новые значения\r\n\r\n        this.setState({ isNeedToSave: hasChanged })                                                    //Установим признак \"нужно сохранить\"\r\n    }\r\n\r\n    // Compare old and new UsersTerminalsModel arrays.\r\n    equalListUsers(newItems: UserTerminalModel[], oldItems: UserTerminalModel[]): boolean {\r\n        if (newItems == null || oldItems == null) { return false }\r\n\r\n        let result: boolean = true;\r\n\r\n        if (newItems.length != oldItems.length) {\r\n            return false;\r\n        }\r\n        else {\r\n            for (let i = 0; i < oldItems.length; i++) {\r\n                if (newItems.findIndex(x => x.userId == oldItems[i].userId) === -1) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    applyChange_ListUser(target: Model) {\r\n        if (this.state.isVisibleEditArea === false) { return }\r\n\r\n        let hasChanged = !this.equalListUsers(target.users, Object.values(this.state.currentUsersTerminalModels));\r\n\r\n        if (hasChanged) {\r\n            this.applyChange(target);\r\n        }\r\n        this.setState({ isNeedToSave: hasChanged });\r\n    }\r\n\r\n    onChangeInServing = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.inServing = e.value;\r\n\r\n        if (changedItem.inServing === false) {                                                         //Возвращаем в исходное состояние \"serviceNote\"\r\n            let foundItem = this.state.data.find(x => x.id === changedItem.id)\r\n            changedItem.serviceNote = foundItem == null ? \"\" : foundItem.serviceNote\r\n        }\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeEnabled = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.enabled = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeTerminalName = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.name = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkTerminalNameForCorrect(changedItem);\r\n    }\r\n    onChangeSerialNumber = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.serialNumber = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkSerialNumberForCorrect(changedItem);\r\n    }\r\n    onChangeAddress = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.address = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkAddressForCorrect(changedItem);\r\n    }\r\n    onChangeTerminalKey = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.terminalKey = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkTerminalKeyForCorrect(changedItem);\r\n    }\r\n    onChangeRnm = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.rnm = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkRnmForCorrect(changedItem);\r\n    }\r\n    onChangeDeviceCode = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.deviceCode = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkDeviceCodeForCorrect(changedItem);\r\n    }\r\n    onChangeAccount = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.account = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeCashDeskCode = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.cashDeskCode = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkCashDeskCodeForCorrect(changedItem);\r\n    }\r\n    onChangeServiceNote = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.serviceNote = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkServiceNoteForCorrect(changedItem);\r\n    }\r\n    onChangeStackerCapacity = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.stackerCapacity = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkStackerCapacityForCorrect(changedItem);\r\n    }\r\n    onChangeTimezone = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.timezoneId = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkTimezoneForCorrect(changedItem);\r\n    }\r\n    onChangeTerminalType = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        if (changedItem.terminalTypeId == null) {\r\n            // If terminal attribute creating.\r\n            changedItem.terminalTypeId = e.value;\r\n\r\n            if (this.state.terminalTypeList != null && this.state.terminalTypeList.length > 0) {\r\n                let foundItem = this.state.terminalTypeList.find((x: any) => x.id === changedItem.terminalTypeId)\r\n                if (foundItem != null) {\r\n                    let newAttribute: TerminalAttribute = { id: 0, terminalId: changedItem.id, attributeId: foundItem.id }\r\n                    changedItem.terminalAttributes.push(newAttribute);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // If terminal attribute editing.\r\n            changedItem.terminalTypeId = e.value;\r\n\r\n            if (this.state.terminalTypeList != null && this.state.terminalTypeList.length > 0) {\r\n                let previousAttribute = changedItem.terminalAttributes.find(x => x.attributeId == e.previousValue);\r\n\r\n                let foundItem = this.state.terminalTypeList.find((x: any) => x.id === changedItem.terminalTypeId)\r\n                if (foundItem != null && previousAttribute != null) {\r\n                    previousAttribute.attributeId = foundItem.id\r\n                }\r\n            }\r\n        }\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkTerminalTypeForCorrect(changedItem);\r\n    }\r\n    onChangeSubnet = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        if (changedItem.subnetId == null) {\r\n            // If subnet attribute creating.\r\n            changedItem.subnetId = e.value;\r\n\r\n            if (this.state.subnetList != null && this.state.subnetList.length > 0) {\r\n                let foundItem = this.state.subnetList.find((x: any) => x.id === changedItem.subnetId)\r\n                if (foundItem != null) {\r\n                    let newAttribute: TerminalAttribute = { id: 0, terminalId: changedItem.id, attributeId: foundItem.id }\r\n                    changedItem.terminalAttributes.push(newAttribute);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // If subnet attribute editing.\r\n            changedItem.subnetId = e.value;\r\n\r\n            if (this.state.subnetList != null && this.state.subnetList.length > 0) {\r\n                let previousAttribute = changedItem.terminalAttributes.find(x => x.attributeId == e.previousValue);\r\n\r\n                let foundItem = this.state.subnetList.find((x: any) => x.id === changedItem.subnetId)\r\n                if (foundItem != null && previousAttribute != null) {\r\n                    previousAttribute.attributeId = foundItem.id\r\n                }\r\n            }\r\n        }\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkSubnetForCorrect(changedItem);\r\n    }\r\n    onChangeNetType = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.netTypeId = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkNetTypeForCorrect(changedItem);\r\n    }\r\n    onChangeAvailabilitySchedule = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.availabilitySchedulesId = e.value;\r\n\r\n        if (this.state.availabilityScheduleList != null && this.state.availabilityScheduleList.length > 0) {\r\n            let foundItem = this.state.availabilityScheduleList.find((x: any) => x.id === changedItem.availabilitySchedulesId)\r\n            if (foundItem != null) {\r\n                // Set TerminalSchedule object.\r\n                let terminalSchedule = changedItem.terminalSchedules.find(x => x.terminalId === changedItem.id)\r\n                if (terminalSchedule == null) {\r\n                    terminalSchedule = { id: 0, scheduleId: foundItem.id, terminalId: changedItem.id }\r\n                }\r\n                else {\r\n                    terminalSchedule.scheduleId = foundItem.id\r\n                }\r\n\r\n                changedItem.terminalSchedules = [terminalSchedule];\r\n            }\r\n        }\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkAvailabilityScheduleForCorrect(changedItem);\r\n    }\r\n    onChangeTypePointPlace = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.typePointPlaceId = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkTypePointPlaceForCorrect(changedItem);\r\n    }\r\n    onChangeProfile = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.profileId = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkProfileForCorrect(changedItem);\r\n    }\r\n    onChangeLocation = (e: any) => {\r\n        if (e.currentSelectedRowKeys.length === 0) { return }\r\n\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.locationId = e.currentSelectedRowKeys[0].cityId\r\n\r\n        if (this.state.locationList != null && this.state.locationList.length > 0) {\r\n            let foundItem = this.state.locationList.find((x: any) => x.cityId === changedItem.locationId)\r\n            if (foundItem != null) {\r\n                changedItem.locationName = foundItem.areaName\r\n                changedItem.locationHint = foundItem.cityName\r\n            }\r\n        }\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkLocationForCorrect(changedItem);\r\n\r\n        this.setState({ isLocationGridBoxOpened: false });\r\n\r\n        this.state.refComponents.dgdLocation.instance.clearSelection();         //Сброс всех выборок\r\n    }\r\n    onChangeWarrantyPeriod = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.warrantyPeriod = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeTerminalSerialNumber = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.terminalSerialNumber = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeTechnicalSupportNumbers = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.properties = e;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkTechnicalSupportNumbersForCorrect(changedItem);\r\n    }\r\n    onChangeCallCenterNumbers = (e: string) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.properties = e;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkCallCenterNumbersForCorrect(changedItem);\r\n    }\r\n    onChangeApiKey = (e: any) => {\r\n        var changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.apiKey = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n    }\r\n    onChangeDealer = (e: any) => {\r\n        let changedItem = { ...this.state.currentItem.model };\r\n\r\n        changedItem.dealerId = e.value;\r\n\r\n        this.applyChange(changedItem);\r\n\r\n        this.checkDealerForCorrect(changedItem);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Validation functions\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkTerminalNameForCorrect(model: Model): IncorrectData {\r\n        let value = model.name == null ? '' : model.name.trim()\r\n\r\n        let isValid = value != null && value != '' && value != undefined\r\n        let message = isValid ? '' : labels.TerminalName_Required()\r\n\r\n        if (isValid) {\r\n            isValid = this.state.data.find(x => x.name.toUpperCase() === value.toUpperCase() && x.id != model.id) === undefined\r\n            message = isValid ? '' : labels.TerminalName_Unique()\r\n        }\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ terminalNameIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkAddressForCorrect(model: Model): IncorrectData {\r\n        let value = model.address == null ? '' : model.address.trim()\r\n\r\n        let isValid = value != null && value != '' && value != undefined\r\n        let message = isValid ? '' : labels.TerminalAddress_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ addressIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        if (isValid) {\r\n            result = this.checkAddressForCorrect_2(value)      //Дополнительная проверка\r\n        }\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkAddressForCorrect_2(value: string): IncorrectData {\r\n        let regexp = new RegExp(/^[?!,.#@$^%&*()\\-_+~`:;\"'/\\\\|<>№а-яА-ЯёЁ0-9\\s]+$/)\r\n\r\n        let isValid = regexp.test(value.trim())\r\n        let message = isValid ? '' : labels.AddressRegRus_Incorrect()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ addressIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkTerminalKeyForCorrect(model: Model): IncorrectData {\r\n        let value = model.terminalKey == null ? '' : model.terminalKey.trim()\r\n\r\n        let isValid = value != null && value != '' && value != undefined\r\n        let message = isValid ? '' : labels.TerminalKey_Required()\r\n\r\n        if (isValid) {\r\n            isValid = this.state.data.find(x => x.terminalKey.toUpperCase() === value.toUpperCase() && x.id != model.id) === undefined\r\n            message = isValid ? '' : labels.TerminalKey_Unique()\r\n        }\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ terminalKeyIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkDealerForCorrect(model: Model): IncorrectData {\r\n        let value = model.dealerId == null ? 0 : model.dealerId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.Dealer_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ dealerIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkTechnicalSupportNumbersForCorrect(model: Model): IncorrectData {\r\n        var result: IncorrectData = { isValid: true, message: '' }\r\n        this.setState({ technicalSupportNumbersIsCorrect: { isValid: true, message: '' } });\r\n\r\n        let value = model.properties;\r\n\r\n        if (value == null || value == \"\") {\r\n            result = { isValid: false, message: labels.TechnicalSupportNumbers_Required() }\r\n            this.setState({ technicalSupportNumbersIsCorrect: { isValid: result.isValid, message: result.message } })\r\n        }\r\n        else {\r\n            let properties: PropertyModel[] = [];\r\n\r\n            properties = JSON.parse(value);\r\n            let technicalSupport = properties.find(x => x.name == \"SupportPhones\");\r\n\r\n            if (technicalSupport != null && technicalSupport.phones.length == 0) {\r\n                result = { isValid: false, message: labels.TechnicalSupportNumbers_Required() }\r\n                this.setState({ technicalSupportNumbersIsCorrect: { isValid: false, message: labels.TechnicalSupportNumbers_Required() } });\r\n            }\r\n        }\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkCallCenterNumbersForCorrect(model: Model): IncorrectData {\r\n        var result: IncorrectData = { isValid: true, message: '' }\r\n        this.setState({ callCenterNumbersIsCorrect: { isValid: true, message: '' } });\r\n\r\n        let value = model.properties;\r\n\r\n        if (value == null || value == \"\") {\r\n            result = { isValid: false, message: labels.CallCenterNumbers_Required() }\r\n            this.setState({ callCenterNumbersIsCorrect: { isValid: result.isValid, message: result.message } })\r\n        }\r\n        else {\r\n            let properties: PropertyModel[] = [];\r\n\r\n            properties = JSON.parse(value);\r\n            let callCenter = properties.find(x => x.name == \"CallCenter\");\r\n\r\n            if (callCenter != null && callCenter.phones.length == 0) {\r\n                result = { isValid: false, message: labels.CallCenterNumbers_Required() }\r\n                this.setState({ callCenterNumbersIsCorrect: { isValid: false, message: labels.CallCenterNumbers_Required() } });\r\n            }\r\n        }\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkStackerCapacityForCorrect(model: Model): IncorrectData {\r\n        let value = model.stackerCapacity == null ? 0 : model.stackerCapacity\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.StackerCapacity_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ stackerCapacityIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkLocationForCorrect(model: Model): IncorrectData {\r\n        let value = model.locationId == null ? 0 : model.locationId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.TerminalLocation_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ locationIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        if (!isValid) {\r\n            let currentItem = this.state.currentItem;\r\n            currentItem.model.locationHint = result.message;\r\n        }\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkRnmForCorrect(model: Model): IncorrectData {\r\n        let value = model.rnm == null ? '' : model.rnm.trim()\r\n\r\n        let isValid = value != null && value != '' && value != undefined\r\n        let message = isValid ? '' : labels.Rnm_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ rnmIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkSerialNumberForCorrect(model: Model): IncorrectData {\r\n        let value = model.serialNumber == null ? '' : model.serialNumber.trim()\r\n\r\n        let isValid = value != null && value != '' && value != undefined\r\n        let message = isValid ? '' : labels.TerminalSerialNumber_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ serialNumberIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkDeviceCodeForCorrect(model: Model): IncorrectData {\r\n        let value = model.deviceCode == null ? '' : model.deviceCode.trim()\r\n\r\n        let isValid = value != null && value != '' && value != undefined\r\n        let message = isValid ? '' : labels.DeviceCode_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ deviceCodeIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkServiceNoteForCorrect(model: Model): IncorrectData {\r\n        let isValid = true\r\n        let result: IncorrectData = { isValid: isValid, message: \"\" }\r\n\r\n        if (this.state.currentItem.model.inServing) {                                   //Проверку делаем если активен сервисный режим\r\n            let value = model.serviceNote == null ? '' : model.serviceNote.trim()\r\n\r\n            isValid = value != null && value != '' && value != undefined\r\n            let message = isValid ? '' : labels.ServiceNote_Required()\r\n\r\n            result = { isValid: isValid, message: message }\r\n\r\n            this.setState({ serviceNoteIsCorrect: { isValid: result.isValid, message: result.message } })\r\n        }\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkProfileForCorrect(model: Model): IncorrectData {\r\n        let value = model.profileId == null ? 0 : model.profileId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.TerminalProfile_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ profileIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkTypePointPlaceForCorrect(model: Model): IncorrectData {\r\n        let value = model.typePointPlaceId == null ? 0 : model.typePointPlaceId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.TerminalTypePointPlace_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ typePointPlaceIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkNetTypeForCorrect(model: Model): IncorrectData {\r\n        let value = model.netTypeId == null ? 0 : model.netTypeId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.NetType_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ netTypeIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkSubnetForCorrect(model: Model): IncorrectData {\r\n        let value = model.subnetId == null ? 0 : model.subnetId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.Subnet_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ subnetIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkTerminalTypeForCorrect(model: Model): IncorrectData {\r\n        let value = model.terminalTypeId == null ? 0 : model.terminalTypeId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.TerminalType_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ terminalTypeIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkCashDeskCodeForCorrect(model: Model): IncorrectData {\r\n        let value = model.cashDeskCode == null ? '' : model.cashDeskCode.trim()\r\n\r\n        let isValid = value != null && value != '' && value != undefined\r\n        let message = isValid ? '' : labels.CashDeskCode_Required()\r\n\r\n        if (isValid) {\r\n            isValid = this.state.data.find(x => (x.cashDeskCode == null ? \"\" : x.cashDeskCode.toUpperCase() === value.toUpperCase()) && x.id != model.id) === undefined\r\n            message = isValid ? '' : labels.CashDeskCode_Unique()\r\n        }\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ cashDeskCodeIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkTimezoneForCorrect(model: Model): IncorrectData {\r\n        let value = model.timezoneId == null ? 0 : model.timezoneId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.TerminalTimezone_Required()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ timezoneIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n    // Проверяем данные на корректность, перед записью в БД\r\n    checkAvailabilityScheduleForCorrect(model: Model): IncorrectData {\r\n        let value = model.availabilitySchedulesId == null ? 0 : model.availabilitySchedulesId\r\n\r\n        let isValid = value != null && value != undefined && value > 0\r\n        let message = isValid ? '' : labels.AvailabilitySchedule_Requider()\r\n\r\n        let result: IncorrectData = { isValid: isValid, message: message }\r\n\r\n        this.setState({ availabilityScheduleIsCorrect: { isValid: result.isValid, message: result.message } })\r\n\r\n        return result\r\n    }\r\n\r\n    // Проверяем данные на корректность перед записью в БД\r\n    checkDataForCorrect(model: Model): boolean {\r\n        let terminalNameIsValid = this.checkTerminalNameForCorrect(model).isValid\r\n        let addressIsValid = this.checkAddressForCorrect(model).isValid\r\n        let terminalKeyIsValid = this.checkTerminalKeyForCorrect(model).isValid\r\n        let dealerIsValid = this.checkDealerForCorrect(model).isValid\r\n        let technicalSupportNumbersIsValid = this.checkTechnicalSupportNumbersForCorrect(model).isValid\r\n        let callCenterNumbersIsValid = this.checkCallCenterNumbersForCorrect(model).isValid\r\n        let stackerCapacityIsValid = this.checkStackerCapacityForCorrect(model).isValid\r\n        let locationIsValid = this.checkLocationForCorrect(model).isValid\r\n        let rnmIsValid = this.checkRnmForCorrect(model).isValid\r\n        let serialNumberIsValid = this.checkSerialNumberForCorrect(model).isValid\r\n        let deviceCodeIsValid = this.checkDeviceCodeForCorrect(model).isValid\r\n        let serviceNoteIsValid = this.checkServiceNoteForCorrect(model).isValid\r\n        let profileIsValid = this.checkProfileForCorrect(model).isValid\r\n        let typePointPlaceIsValid = this.checkTypePointPlaceForCorrect(model).isValid\r\n        let netTypeIsValid = this.checkNetTypeForCorrect(model).isValid\r\n        let subnetIsValid = this.checkSubnetForCorrect(model).isValid\r\n        let terminalTypeIsValid = this.checkTerminalTypeForCorrect(model).isValid\r\n        let cashDeskCodeIsCorrect = this.checkCashDeskCodeForCorrect(model).isValid\r\n        let timezoneIsValid = this.checkTimezoneForCorrect(model).isValid\r\n        let availabilityScheduleIsValid = this.checkAvailabilityScheduleForCorrect(model).isValid\r\n\r\n        return (\r\n            terminalNameIsValid &&\r\n            addressIsValid &&\r\n            terminalKeyIsValid &&\r\n            dealerIsValid &&\r\n            technicalSupportNumbersIsValid &&\r\n            callCenterNumbersIsValid &&\r\n            stackerCapacityIsValid &&\r\n            locationIsValid &&\r\n            rnmIsValid &&\r\n            serialNumberIsValid &&\r\n            deviceCodeIsValid &&\r\n            serviceNoteIsValid &&\r\n            profileIsValid &&\r\n            typePointPlaceIsValid &&\r\n            netTypeIsValid &&\r\n            subnetIsValid &&\r\n            terminalTypeIsValid &&\r\n            cashDeskCodeIsCorrect &&\r\n            timezoneIsValid &&\r\n            availabilityScheduleIsValid\r\n        )                               //Консолидированный результат\r\n    }\r\n    //Сбросим все индикаторы проверки\r\n    resetDataForCorrect() {\r\n        this.setState({\r\n            terminalNameIsCorrect: { isValid: true, message: '' },\r\n            addressIsCorrect: { isValid: true, message: '' },\r\n            terminalKeyIsCorrect: { isValid: true, message: '' },\r\n            dealerIsCorrect: { isValid: true, message: '' },\r\n            technicalSupportNumbersIsCorrect: { isValid: true, message: '' },\r\n            callCenterNumbersIsCorrect: { isValid: true, message: '' },\r\n            stackerCapacityIsCorrect: { isValid: true, message: '' },\r\n            locationIsCorrect: { isValid: true, message: '' },\r\n            rnmIsCorrect: { isValid: true, message: '' },\r\n            serialNumberIsCorrect: { isValid: true, message: '' },\r\n            deviceCodeIsCorrect: { isValid: true, message: '' },\r\n            serviceNoteIsCorrect: { isValid: true, message: '' },\r\n            profileIsCorrect: { isValid: true, message: '' },\r\n            typePointPlaceIsCorrect: { isValid: true, message: '' },\r\n            netTypeIsCorrect: { isValid: true, message: '' },\r\n            subnetIsCorrect: { isValid: true, message: '' },\r\n            terminalTypeIsCorrect: { isValid: true, message: '' },\r\n            cashDeskCodeIsCorrect: { isValid: true, message: '' },\r\n            timezoneIsCorrect: { isValid: true, message: '' },\r\n            availabilityScheduleIsCorrect: { isValid: true, message: '' }\r\n        })\r\n    }\r\n\r\n    setUniqueViolationError() {\r\n        this.setState({\r\n            terminalNameIsCorrect: { isValid: false, message: labels.TerminalName_Unique() },\r\n            terminalKeyIsCorrect: { isValid: false, message: labels.TerminalKey_Unique() },\r\n            cashDeskCodeIsCorrect: { isValid: false, message: labels.CashDeskCode_Unique() }\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Drop down box contents\r\n    //#region Location data grid functions\r\n    getLocationGrid(): any {\r\n        return (\r\n            <DataGrid\r\n                dataSource={this.state.locationList}\r\n                hoverStateEnabled={true}\r\n                onSelectionChanged={this.onChangeLocation}\r\n                height=\"100%\"\r\n\r\n                ref={(ref) => { this.state.refComponents[\"dgdLocation\"] = ref }}\r\n            >\r\n                <Selection mode=\"single\" />\r\n                <Scrolling mode=\"virtual\" />\r\n                <FilterRow visible={true} />\r\n\r\n                <Column dataField=\"countryName\" dataType=\"string\" caption={labels.Country()} />\r\n                <Column dataField=\"areaName\" dataType=\"string\" caption={labels.Area()} />\r\n                <Column dataField=\"cityName\" dataType=\"string\" caption={labels.City()} />\r\n            </DataGrid>\r\n        );\r\n    }\r\n\r\n    onOptionChangedLocation = (e: any) => {\r\n        if (e.name === 'opened') {\r\n            this.setState({ isLocationGridBoxOpened: e.value });\r\n\r\n            this.state.refComponents.dgdLocation.instance.clearFilter();            //Сброс всех фильтров\r\n            this.state.refComponents.dgdLocation.instance.clearGrouping();          //Сброс всех группировок\r\n            this.state.refComponents.dgdLocation.instance.clearSelection();         //Сброс всех выборок\r\n            this.state.refComponents.dgdLocation.instance.clearSorting();           //Сброс всех сортировок\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region Technical support numbers data grid functions\r\n    // Render data grid for technical support numbers.\r\n    getTechnicalSupportNumberGrid(): any {\r\n        return (\r\n            <DataGrid\r\n                dataSource={this.state.currentItem.model.technicalSupportNumbers}\r\n                showBorders={true}\r\n                height=\"100%\"\r\n                onInitNewRow={this.onTechnicalSupportNumberInitNewRow}\r\n                onEditingStart={this.onTechnicalSupportNumberEditingStart}\r\n                onEditCanceled={this.onTechnicalSupportNumberEditCanceled}\r\n                onSaving={this.onTechnicalSupportNumberSaving}\r\n                onSaved={this.onTechnicalSupportNumberSaved}\r\n                ref={(ref) => { this.state.refComponents[\"dgdTechnicalSupportNumbers\"] = ref }}\r\n            >\r\n                <Editing\r\n                    mode=\"row\"\r\n                    allowUpdating={true}\r\n                    allowAdding={this.state.isTechnicalSupportNumberAllowAdding}\r\n                    allowDeleting={true}\r\n                    useIcons={true}\r\n                    confirmDelete={false}\r\n                    newRowPosition=\"last\" />\r\n                <Scrolling mode=\"virtual\" />\r\n                <Column dataField=\"number\" dataType=\"string\" caption={labels.TechnicalSupportNumbers() + \":\"} />\r\n            </DataGrid>\r\n        );\r\n    }\r\n\r\n    onOptionChangedTechnicalSupportNumber = (e: any) => {\r\n        if (this.state.isTechnicalSupportNumberEdited) {\r\n            // Cancel edit data if data grid is closing.\r\n            let dgdData = this.state.refComponents.dgdTechnicalSupportNumbers;\r\n            dgdData.instance.cancelEditData();\r\n        }\r\n\r\n        if (e.name === 'opened') {\r\n            let dropDownBox = this.state.refComponents.ddbTechnicalSupportNumbers;\r\n            dropDownBox.instance.repaint();\r\n\r\n            let technicalSupportNumbers = this.state.currentItem.model.technicalSupportNumbers;\r\n            if (technicalSupportNumbers == null) {\r\n                return;\r\n            }\r\n\r\n            // Disable adding button if numbers more than 10.\r\n            if (technicalSupportNumbers.length >= 10) {\r\n                this.setState({ isTechnicalSupportNumberAllowAdding: false });\r\n            }\r\n            else {\r\n                this.setState({ isTechnicalSupportNumberAllowAdding: true });\r\n            }\r\n\r\n            // If drop down is closing.\r\n            if (e.value == false) {\r\n                let technicalSupportProperty: PropertyModel = { name: \"SupportPhones\", phones: this.getPhoneModels(technicalSupportNumbers) };\r\n                let callCenterProperty: PropertyModel = { name: \"CallCenter\", phones: this.getPhoneModels(this.state.currentItem.model.callCenterNumbers) };\r\n\r\n                let properties: PropertyModel[] = [];\r\n                properties.push(technicalSupportProperty, callCenterProperty);\r\n\r\n                this.onChangeTechnicalSupportNumbers(JSON.stringify(properties));\r\n            }\r\n\r\n            this.setState({ isTechnicalSupportNumberGridOpened: e.value });\r\n        }\r\n    }\r\n\r\n    onTechnicalSupportNumberInitNewRow = (e: any) => {\r\n        this.setTechnicalSupportNumberEditState(true);\r\n    }\r\n\r\n    onTechnicalSupportNumberEditingStart = (e: any) => {\r\n        this.setTechnicalSupportNumberEditState(true);\r\n    }\r\n\r\n    onTechnicalSupportNumberEditCanceled = (e: any) => {\r\n        this.setTechnicalSupportNumberEditState(false);\r\n    }\r\n\r\n    onTechnicalSupportNumberSaving = (e: any) => {\r\n        if (e.changes.length != 0 && e.changes[0].type != 'remove') {\r\n            if (e.changes[0].data.number != null) {\r\n                e.changes[0].data.number = e.changes[0].data.number.trim();\r\n            }\r\n\r\n            let phoneNumber: string = e.changes[0].data.number;\r\n\r\n            if (phoneNumber == null || phoneNumber.length == 0) {\r\n                e.cancel = true;\r\n                this.setState({\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.TechnicalSupportNumber_Required()\r\n                });\r\n            }\r\n            else if (phoneNumber.length > 25) {\r\n                e.cancel = true;\r\n                this.setState({\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.TechnicalSupportNumber_MaxLength()\r\n                });\r\n            }\r\n            else if (!this.checkUniqueNumber(this.state.currentItem.model.technicalSupportNumbers, phoneNumber)) {\r\n                e.cancel = true;\r\n                this.setState({\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.TechnicalSupportNumber_Unique()\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onTechnicalSupportNumberSaved = (e: any) => {\r\n        this.setTechnicalSupportNumberEditState(false);\r\n\r\n        let model: Model = this.state.currentItem.model;\r\n\r\n        if (model.technicalSupportNumbers.length >= 10) {\r\n            // Show toast once during adding 10th phone.\r\n            if (this.state.isTechnicalSupportNumberAllowAdding)\r\n                this.setState({\r\n                    isTechnicalSupportNumberAllowAdding: false,\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.TechnicalSupportNumber_MaxCount()\r\n                });\r\n        }\r\n        else {\r\n            this.setState({ isTechnicalSupportNumberAllowAdding: true });\r\n        }\r\n\r\n        model.technicalSupportNumbersString = this.getPhonesString(model.technicalSupportNumbers);\r\n\r\n        this.setCurrentItem(model, this.state.currentItem.rowKey);\r\n    }\r\n\r\n    // Define edit state for technical support number.\r\n    setTechnicalSupportNumberEditState = (isEdited: boolean): void => {\r\n        this.setState({ isTechnicalSupportNumberEdited: isEdited });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Call center numbers data grid functions\r\n    // Render data grid for call center numbers.\r\n    getCallCenterNumberGrid(): any {\r\n        return (\r\n            <DataGrid\r\n                dataSource={this.state.currentItem.model.callCenterNumbers}\r\n                showBorders={true}\r\n                height=\"100%\"\r\n                onInitNewRow={this.onCallCenterNumberInitNewRow}\r\n                onEditingStart={this.onCallCenterNumberEditingStart}\r\n                onEditCanceled={this.onCallCenterNumberEditCanceled}\r\n                onSaving={this.onCallCenterNumberSaving}\r\n                onSaved={this.onCallCenterNumberSaved}\r\n                ref={(ref) => { this.state.refComponents[\"dgdCallCenterNumbers\"] = ref }}\r\n            >\r\n                <Editing\r\n                    mode=\"row\"\r\n                    allowUpdating={true}\r\n                    allowAdding={this.state.isCallCenterNumberAllowAdding}\r\n                    allowDeleting={true}\r\n                    useIcons={true}\r\n                    confirmDelete={false}\r\n                    newRowPosition=\"last\" />\r\n                <Scrolling mode=\"virtual\" />\r\n                <Column dataField=\"number\" dataType=\"string\" caption={labels.CallCenterNumbers() + \":\"} />\r\n            </DataGrid>\r\n        );\r\n    }\r\n\r\n    onOptionChangedCallCenterNumber = (e: any) => {\r\n        if (this.state.isCallCenterNumberEdited) {\r\n            // Cancel edit data if data grid is closing.\r\n            let dgdData = this.state.refComponents.dgdCallCenterNumbers;\r\n            dgdData.instance.cancelEditData();\r\n        }\r\n\r\n        if (e.name === 'opened') {\r\n            let dropDownBox = this.state.refComponents.ddbCallCenterNumbers;\r\n            dropDownBox.instance.repaint();\r\n\r\n            let callCenterNumbers = this.state.currentItem.model.callCenterNumbers;\r\n            if (callCenterNumbers == null) {\r\n                return;\r\n            }\r\n\r\n            // Disable adding button if numbers more than 10.\r\n            if (callCenterNumbers.length >= 10) {\r\n                this.setState({ isCallCenterNumberAllowAdding: false });\r\n            }\r\n            else {\r\n                this.setState({ isCallCenterNumberAllowAdding: true });\r\n            }\r\n\r\n            // If drop down is closing.\r\n            if (e.value == false) {\r\n                let technicalSupportProperty: PropertyModel = { name: \"SupportPhones\", phones: this.getPhoneModels(this.state.currentItem.model.technicalSupportNumbers) };\r\n                let callCenterProperty: PropertyModel = { name: \"CallCenter\", phones: this.getPhoneModels(callCenterNumbers) };\r\n\r\n                let properties: PropertyModel[] = [];\r\n                properties.push(technicalSupportProperty, callCenterProperty);\r\n\r\n                this.onChangeCallCenterNumbers(JSON.stringify(properties));\r\n            }\r\n\r\n            this.setState({ isCallCenterNumberGridOpened: e.value });\r\n        }\r\n    }\r\n\r\n    onCallCenterNumberInitNewRow = (e: any) => {\r\n        this.setCallCenterNumberEditState(true);\r\n    }\r\n\r\n    onCallCenterNumberEditingStart = (e: any) => {\r\n        this.setCallCenterNumberEditState(true);\r\n    }\r\n\r\n    onCallCenterNumberEditCanceled = (e: any) => {\r\n        this.setCallCenterNumberEditState(false);\r\n    }\r\n\r\n    onCallCenterNumberSaving = (e: any) => {\r\n        if (e.changes.length != 0 && e.changes[0].type != 'remove') {\r\n            if (e.changes[0].data.number != null) {\r\n                e.changes[0].data.number = e.changes[0].data.number.trim();\r\n            }\r\n\r\n            let phoneNumber: string = e.changes[0].data.number;\r\n\r\n            if (phoneNumber == null || phoneNumber.length == 0) {\r\n                e.cancel = true;\r\n                this.setState({\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.CallCenterNumber_Required()\r\n                });\r\n            }\r\n            else if (phoneNumber.length > 25) {\r\n                e.cancel = true;\r\n                this.setState({\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.CallCenterNumber_MaxLength()\r\n                });\r\n            }\r\n            else if (!this.checkUniqueNumber(this.state.currentItem.model.callCenterNumbers, phoneNumber)) {\r\n                e.cancel = true;\r\n                this.setState({\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.CallCenterNumber_Unique()\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onCallCenterNumberSaved = (e: any) => {\r\n        this.setCallCenterNumberEditState(false);\r\n\r\n        let model: Model = this.state.currentItem.model;\r\n\r\n        if (model.callCenterNumbers.length >= 10) {\r\n            // Show toast once during adding 10th phone.\r\n            if (this.state.isCallCenterNumberAllowAdding)\r\n                this.setState({\r\n                    isCallCenterNumberAllowAdding: false,\r\n                    isVisibleToast: true,\r\n                    toastMessage: labels.CallCenterNumber_MaxCount()\r\n                });\r\n        }\r\n        else {\r\n            this.setState({ isCallCenterNumberAllowAdding: true });\r\n        }\r\n\r\n        model.callCenterNumbersString = this.getPhonesString(model.callCenterNumbers);\r\n\r\n        this.setCurrentItem(model, this.state.currentItem.rowKey);\r\n    }\r\n\r\n    // Define edit state for call center number.\r\n    setCallCenterNumberEditState = (isEdited: boolean): void => {\r\n        this.setState({ isCallCenterNumberEdited: isEdited });\r\n    }\r\n    //#endregion\r\n\r\n    checkUniqueNumber(numbers: PhoneModel[], number: string): boolean {\r\n        for (let i = 0; i < numbers.length; i++) {\r\n            if (numbers[i].number == number)\r\n                return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Popup functions\r\n    // Закрытие popup.\r\n    hidePopup() {\r\n        this.setState({ popupVisible: false });\r\n    }\r\n\r\n    // Закрытие popup. Для обработки критической ошибки\r\n    hidePopupForCriticalError() {\r\n        this.setState({ popupVisibleForCriticalError: false });\r\n        this.setState({ hasCriticalError: true });                      //True - если справочник не может продолжить свою работу\r\n    }\r\n    //#endregion\r\n\r\n    //#region Toast functions\r\n    onToastHiding() {\r\n        this.setState({ isVisibleToast: false })\r\n    }\r\n    //#endregion\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 style={{ width: \"auto\", textAlign: \"center\" }}>\r\n                    {labels.PageName()}\r\n                </h3>\r\n\r\n                <div hidden={this.state.hasCriticalError === false}>\r\n                    <table width='100%' style={{ height: '80vh' }}>\r\n                        <tr>\r\n                            <td align='center'>\r\n                                <h1>\r\n                                    {labels.Message_DirectoryNotAvailable()}\r\n                                </h1>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div hidden={this.state.hasCriticalError}>\r\n                    <Button icon=\"add\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNew || this.state.isNeedToSave || this.state.isReady === false} onClick={this.handleButtonNewClick} hint={labels.Hint_Button_Add()} className='mb-2 mr-2' />\r\n                    <Button icon=\"save\" activeStateEnabled={false} hoverStateEnabled={false} disabled={this.state.isNeedToSave === false || this.state.isReady === false} onClick={this.handleButtonSaveClick} hint={labels.Hint_Button_Save()} className='mb-2 mr-2' />\r\n                    <Button icon=\"refresh\" activeStateEnabled={false} hoverStateEnabled={false} visible={this.state.isNeedToSave === false && this.state.isNew === false} disabled={this.state.isNew} onClick={this.handleButtonRefreshClick} hint={labels.Hint_Button_Refresh()} className='mb-2 mr-2' />\r\n                    <Button icon=\"revert\" activeStateEnabled={false} hoverStateEnabled={false} visible={this.state.isNeedToSave || this.state.isNew} onClick={this.handleButtonRevertClick} hint={labels.Hint_Button_Cancel()} className='mb-2 mr-2' />\r\n\r\n                    <div hidden={this.state.isVisibleEditArea === false && this.state.isNew === false}>\r\n                        <table width={\"100%\"}>\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Id() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Name() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.TerminalType() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.SerialNumber() + \":\"}\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox readOnly={true} value={this.state.currentItem.model.id.toString()} />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.name} maxLength={50}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeTerminalName}\r\n                                                isValid={this.state.terminalNameIsCorrect.isValid} hint={this.state.terminalNameIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.terminalTypeList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"name\"\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.terminalTypeId}\r\n                                                onValueChanged={this.onChangeTerminalType}\r\n                                                isValid={this.state.terminalTypeIsCorrect.isValid} hint={this.state.terminalTypeIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.serialNumber} maxLength={50}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeSerialNumber}\r\n                                                isValid={this.state.serialNumberIsCorrect.isValid} hint={this.state.serialNumberIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr style={{ height: \"10px\" }} />\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Dealer() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Location() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.TypePointPlace() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.TerminalSerialNumber() + \":\"}\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.dealerList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"name\"\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.dealerId}\r\n                                                onValueChanged={this.onChangeDealer}\r\n                                                isValid={this.state.dealerIsCorrect.isValid} hint={this.state.dealerIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <DropDownBox\r\n                                                width={\"100%\"}\r\n                                                dataSource={this.state.locationList}\r\n                                                valueExpr=\"cityId\"\r\n                                                displayExpr=\"areaName\"\r\n                                                deferRendering={false}\r\n                                                contentRender={this.getLocationGrid}\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.locationId}\r\n                                                opened={this.state.isLocationGridBoxOpened}\r\n                                                onOptionChanged={this.onOptionChangedLocation}\r\n                                                isValid={this.state.locationIsCorrect.isValid}\r\n                                                hint={this.state.currentItem.model.locationHint}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.typePointPlaceList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"name\"\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.typePointPlaceId}\r\n                                                onValueChanged={this.onChangeTypePointPlace}\r\n                                                isValid={this.state.typePointPlaceIsCorrect.isValid} hint={this.state.typePointPlaceIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.terminalSerialNumber} maxLength={250}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeTerminalSerialNumber}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr style={{ height: \"10px\" }} />\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Address() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.RNM() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.StackerCapacity() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.DeviceCode() + \":\"}\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.address} maxLength={250}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeAddress}\r\n                                                isValid={this.state.addressIsCorrect.isValid} hint={this.state.addressIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.rnm} maxLength={50}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeRnm}\r\n                                                isValid={this.state.rnmIsCorrect.isValid} hint={this.state.rnmIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <NumberBox\r\n                                                min={0} max={99999999} showSpinButtons={true} value={this.state.currentItem.model.stackerCapacity}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeStackerCapacity}\r\n                                                isValid={this.state.stackerCapacityIsCorrect.isValid} hint={this.state.stackerCapacityIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.deviceCode} maxLength={50}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeDeviceCode}\r\n                                                isValid={this.state.deviceCodeIsCorrect.isValid} hint={this.state.deviceCodeIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr style={{ height: \"10px\" }} />\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            {labels.TerminalKey() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.CashDeskCode() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.WarrantyPeriod() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Timezone() + \":\"}\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.terminalKey} maxLength={250}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeTerminalKey}\r\n                                                isValid={this.state.terminalKeyIsCorrect.isValid} hint={this.state.terminalKeyIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.cashDeskCode} maxLength={50}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeCashDeskCode}\r\n                                                isValid={this.state.cashDeskCodeIsCorrect.isValid} hint={this.state.cashDeskCodeIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <DateBox\r\n                                                acceptCustomValue={false}\r\n                                                value={this.state.currentItem.model.warrantyPeriod}\r\n                                                onValueChanged={this.onChangeWarrantyPeriod}\r\n                                                invalidDateMessage={\"\"}\r\n                                            >\r\n                                            </DateBox>\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.timezoneList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"name\"\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.timezoneId}\r\n                                                onValueChanged={this.onChangeTimezone}\r\n                                                isValid={this.state.timezoneIsCorrect.isValid} hint={this.state.timezoneIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr style={{ height: \"10px\" }} />\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Account() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.NetType() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Profile() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.AvailabilitySchedules() + \":\"}\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            <TextBox\r\n                                                value={this.state.currentItem.model.account} maxLength={20}\r\n                                                valueChangeEvent=\"input\" onValueChanged={this.onChangeAccount}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.netTypeList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"name\"\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.netTypeId}\r\n                                                onValueChanged={this.onChangeNetType}\r\n                                                isValid={this.state.netTypeIsCorrect.isValid} hint={this.state.netTypeIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.servicesProfileList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"name\"\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.profileId}\r\n                                                onValueChanged={this.onChangeProfile}\r\n                                                isValid={this.state.profileIsCorrect.isValid} hint={this.state.profileIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.availabilityScheduleList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"name\"\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.availabilitySchedulesId}\r\n                                                onValueChanged={this.onChangeAvailabilitySchedule}\r\n                                                isValid={this.state.availabilityScheduleIsCorrect.isValid} hint={this.state.availabilityScheduleIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr style={{ height: \"10px\" }} />\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Subnet() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.TechnicalSupportNumbers() + \":\"}\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                        </div>\r\n                                        <div className=\"col-3\">\r\n                                            {labels.Users() + \":\"}\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-3\">\r\n                                            <SelectBox width={\"100%\"}\r\n                                                dataSource={this.state.subnetList}\r\n                                                valueExpr=\"id\"\r\n                                                displayExpr=\"name\"\r\n                                                placeholder={labels.NeedSelect()}\r\n                                                value={this.state.currentItem.model.subnetId}\r\n                                                onValueChanged={this.onChangeSubnet}\r\n                                                isValid={this.state.subnetIsCorrect.isValid} hint={this.state.subnetIsCorrect.message}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"col-3\">\r\n                                            <DropDownBox\r\n                                                width={\"100%\"}\r\n                                                dataSource={this.state.currentItem.model.technicalSupportNumbers}\r\n                                                deferRendering={false}\r\n                                                contentRender={this.getTechnicalSupportNumberGrid}\r\n                                                placeholder={this.state.currentItem.model.technicalSupportNumbersString}\r\n                                                opened={this.state.isTechnicalSupportNumberGridOpened}\r\n                                                onOptionChanged={this.onOptionChangedTechnicalSupportNumber}\r\n                                                isValid={this.state.technicalSupportNumbersIsCorrect.isValid} hint={this.state.technicalSupportNumbersIsCorrect.message}\r\n                                                ref={(ref) => { this.state.refComponents[\"ddbTechnicalSupportNumbers\"] = ref }}\r\n                                            />\r\n                                            {labels.CallCenterNumbers() + \":\"}\r\n                                            <DropDownBox\r\n                                                width={\"100%\"}\r\n                                                dataSource={this.state.currentItem.model.callCenterNumbers}\r\n                                                deferRendering={false}\r\n                                                contentRender={this.getCallCenterNumberGrid}\r\n                                                placeholder={this.state.currentItem.model.callCenterNumbersString}\r\n                                                opened={this.state.isCallCenterNumberGridOpened}\r\n                                                onOptionChanged={this.onOptionChangedCallCenterNumber}\r\n                                                isValid={this.state.callCenterNumbersIsCorrect.isValid} hint={this.state.callCenterNumbersIsCorrect.message}\r\n                                                ref={(ref) => { this.state.refComponents[\"ddbCallCenterNumbers\"] = ref }}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"col-3\">\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-6\">\r\n                                                    <CheckBox text={labels.Enabled()} value={this.state.currentItem.model.enabled} onValueChanged={this.onChangeEnabled} />\r\n                                                </div>\r\n                                                <div className=\"col-6\">\r\n                                                    <CheckBox text={labels.InServing()} value={this.state.currentItem.model.inServing} onValueChanged={this.onChangeInServing} />\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <br />\r\n                                            <div className=\"row\" hidden={!this.state.currentItem.model.inServing}>\r\n                                                <div className=\"col-12\">\r\n                                                    <TextArea\r\n                                                        height={48} label={labels.ServiceNote() + \":\"} value={this.state.currentItem.model.serviceNote} maxLength={512}\r\n                                                        valueChangeEvent=\"input\" onValueChanged={this.onChangeServiceNote}\r\n                                                        isValid={this.state.serviceNoteIsCorrect.isValid} hint={this.state.serviceNoteIsCorrect.message}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-3\">\r\n                                            <div className=\"row no-gutters\">\r\n                                                <div className=\"col-7\">\r\n                                                    <List\r\n                                                        dataSource={this.state.currentItem.model.users}\r\n                                                        displayExpr=\"userName\"\r\n                                                        activeStateEnabled={false}\r\n                                                        focusStateEnabled={false}\r\n                                                        height={76}\r\n                                                        ref={(ref) => { this.state.refComponents[\"listUserSelected\"] = ref }}\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"col-5\">\r\n                                                    <Button activeStateEnabled={false} hoverStateEnabled={false} text={labels.EditButton()}\r\n                                                        disabled={this.state.currentItem.model.users == null} hint={labels.EditButton()}\r\n                                                        onClick={this.handleButtonUsersClick} className='mb-2 mr-2 w-100' />\r\n                                                    <Button activeStateEnabled={false} hoverStateEnabled={false} text={labels.ChangeApiKeyButton()}\r\n                                                        hint={labels.ChangeApiKeyButton()} onClick={this.handleApiKeyClick} className='mb-2 mr-2 w-100' />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <Popup\r\n                        visible={this.state.confirmFormVisible}\r\n                        dragEnabled={false}\r\n                        closeOnOutsideClick={false}\r\n                        showCloseButton={false}\r\n                        showTitle={true}\r\n                        width={500}\r\n                        height={300}\r\n                        title={this.state.confirmFormTitle}\r\n                        container=\".dx-viewport\">\r\n\r\n                        <TextArea\r\n                            height={150}\r\n                            value={this.state.confirmFormMessage}\r\n                            readOnly={true}\r\n                        />\r\n\r\n                        <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={{ text: this.state.confirmFormOkButtonText, onClick: this.state.confirmFormOkButton }}></ToolbarItem>\r\n                        <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={{ text: this.state.confirmFormCancelButtonText, onClick: this.state.confirmFormCancelButton }}></ToolbarItem>\r\n                    </Popup>\r\n\r\n                    <MessagePopup\r\n                        visible={this.state.popupVisible}\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopup}\r\n                        message={this.state.popupMessage}\r\n                    />\r\n                    <MessagePopup\r\n                        visible={this.state.popupVisibleForCriticalError}\r\n                        title={this.state.popupTitle}\r\n                        hidePopup={this.hidePopupForCriticalError}\r\n                        message={this.state.popupMessage}\r\n                    />\r\n\r\n                    <Popup\r\n                        visible={this.state.usersFormVisible}\r\n                        dragEnabled={false}\r\n                        closeOnOutsideClick={false}\r\n                        showCloseButton={false}\r\n                        showTitle={true}\r\n                        width={1000}\r\n                        height={620}\r\n                        title={labels.DeviceUsers()}\r\n                        container=\".dx-viewport\">\r\n\r\n                        <table width={\"100%\"}>\r\n                            <tr>\r\n                                <td width={\"40%\"}>\r\n                                    <DataGrid\r\n                                        dataSource={this.state.userFilteredList}\r\n                                        keyExpr=\"id\"\r\n                                        showBorders={true}\r\n                                        focusedRowEnabled={true}\r\n                                        focusedRowKey={this.state.currentItem_ListUser.rowKey}\r\n                                        allowColumnResizing={true}\r\n                                        allowColumnReordering={true}\r\n                                        onFocusedRowChanged={this.onFocusedRowChanged_ListUser}\r\n                                        autoNavigateToFocusedRow={true}\r\n                                        onContentReady={this.onContentReady_ListUser}\r\n                                        ref={(ref) => { this.state.refComponents[\"dgdListUser\"] = ref }}\r\n                                        height={470}\r\n                                        width={400}\r\n                                    >\r\n                                        <Paging defaultPageSize={10} />\r\n                                        <Pager\r\n                                            visible={true}\r\n                                            displayMode={'full'}\r\n                                            showInfo={true}\r\n                                            showNavigationButtons={true} />\r\n\r\n                                        <FilterRow visible={true} />\r\n                                        <HeaderFilter visible={true} />\r\n                                        <Sorting mode=\"multiple\" />\r\n                                        <SearchPanel visible={false} />\r\n\r\n                                        <Column dataField=\"username\" dataType=\"string\" caption={labels.Users()} />\r\n                                    </DataGrid>\r\n                                </td>\r\n                                <td width={\"20%\"} align={'center'}>\r\n                                    <Button\r\n                                        width={\"85%\"}\r\n                                        activeStateEnabled={false} hoverStateEnabled={false}\r\n                                        disabled={(this.state.isNew === false && this.state.isVisibleEditArea === false) || this.state.isVisibleButtonAddUser === false}\r\n                                        text={labels.Button_AddUser()}\r\n                                        onClick={this.handleButtonAddUserClick}\r\n                                    />\r\n                                    <br /><br />\r\n                                    <Button\r\n                                        width={\"85%\"}\r\n                                        activeStateEnabled={false} hoverStateEnabled={false}\r\n                                        disabled={(this.state.isNew === false && this.state.isVisibleEditArea === false) || this.state.isVisibleButtonRemoveUser === false}\r\n                                        text={labels.Button_RemoveUser()}\r\n                                        onClick={this.handleButtonRemoveUserClick}\r\n                                    />\r\n                                </td>\r\n                                <td width={\"40%\"}>\r\n                                    <DataGrid\r\n                                        dataSource={this.state.currentItem.model.users}\r\n                                        keyExpr=\"userId\"\r\n                                        showBorders={true}\r\n                                        focusedRowEnabled={true}\r\n                                        focusedRowKey={this.state.currentItem_ListUserSelected.rowKey}\r\n                                        allowColumnResizing={true}\r\n                                        allowColumnReordering={true}\r\n                                        onFocusedRowChanged={this.onFocusedRowChanged_ListUserSelected}\r\n                                        autoNavigateToFocusedRow={true}\r\n                                        onContentReady={this.onContentReady_ListUserSelected}\r\n                                        ref={(ref) => { this.state.refComponents[\"dgdListUserSelected\"] = ref }}\r\n                                        height={470}\r\n                                        width={400}\r\n                                    >\r\n                                        <Paging defaultPageSize={10} />\r\n                                        <Pager\r\n                                            visible={true}\r\n                                            displayMode={'full'}\r\n                                            showInfo={true}\r\n                                            showNavigationButtons={true} />\r\n\r\n                                        <FilterRow visible={true} />\r\n                                        <HeaderFilter visible={true} />\r\n                                        <Sorting mode=\"multiple\" />\r\n                                        <SearchPanel visible={false} />\r\n\r\n                                        <Column dataField=\"userName\" dataType=\"string\" caption={labels.Users()} />\r\n                                    </DataGrid>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n\r\n                        <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={{ text: labels.Button_Close(), onClick: this.usersFormCancelButton }}></ToolbarItem>\r\n                    </Popup>\r\n\r\n                    <Popup\r\n                        visible={this.state.apiKeyFormVisible}\r\n                        dragEnabled={false}\r\n                        closeOnOutsideClick={false}\r\n                        showCloseButton={false}\r\n                        showTitle={true}\r\n                        width={500}\r\n                        height={200}\r\n                        title={labels.ChangeApiKeyButton()}\r\n                        container=\".dx-viewport\">\r\n\r\n                        <div className=\"d-flex justify-content-between align-items-center\">\r\n                            {labels.NewApiKey()}:\r\n                            <TextBox className=\"w-75\" value={this.state.currentItem.model.apiKey}\r\n                                valueChangeEvent=\"input\" onValueChanged={this.onChangeApiKey} />\r\n                        </div>\r\n\r\n                        <ToolbarItem location=\"after\" toolbar=\"bottom\" widget=\"dxButton\" options={{ text: labels.Button_Close(), onClick: this.apiKeyCloseButton }}></ToolbarItem>\r\n                    </Popup>\r\n\r\n                    <br />\r\n\r\n                    <DataGrid\r\n                        dataSource={this.state.data}\r\n                        keyExpr=\"id\"\r\n                        showBorders={true}\r\n                        focusedRowEnabled={true}\r\n                        allowColumnResizing={true}\r\n                        allowColumnReordering={true}\r\n                        onFocusedRowChanged={this.onFocusedRowChanged}\r\n                        onRowClick={this.onRowClick}\r\n                        focusedRowKey={this.state.currentItem.rowKey}\r\n                        onFocusedRowChanging={this.onFocusedRowChanging}\r\n\r\n                        autoNavigateToFocusedRow={true}\r\n                        onContentReady={this.onContentReady}\r\n                        ref={(ref) => { this.state.refComponents[\"dgdData\"] = ref }}\r\n                    >\r\n                        <Paging defaultPageSize={5} />\r\n                        <Pager\r\n                            visible={true}\r\n                            allowedPageSizes={allowedPageSizes}\r\n                            displayMode={'full'}\r\n                            showPageSizeSelector={true}\r\n                            showInfo={true}\r\n                            showNavigationButtons={true} />\r\n\r\n                        <FilterRow visible={true} />\r\n                        <HeaderFilter visible={true} />\r\n                        <ColumnChooser enabled={true} mode=\"select\" />\r\n                        <Sorting mode=\"multiple\" />\r\n                        <SearchPanel visible={true} />\r\n                        <Scrolling columnRenderingMode=\"virtual\" />\r\n\r\n                        <Column dataField=\"id\" dataType=\"string\" caption={labels.Id()} />\r\n                        <Column dataField=\"name\" dataType=\"string\" caption={labels.Name()} />\r\n                        <Column dataField=\"address\" dataType=\"string\" caption={labels.Address()} />\r\n                        <Column dataField=\"cityName\" dataType=\"string\" caption={labels.City()} />\r\n                        <Column dataField=\"areaName\" dataType=\"string\" caption={labels.Area()} />\r\n                        <Column dataField=\"countryName\" dataType=\"string\" caption={labels.Country()} />\r\n                        <Column dataField=\"terminalTypeId\" caption={labels.TerminalType()}>\r\n                            <Lookup dataSource={this.state.attributesList} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"terminalKey\" dataType=\"string\" caption={labels.TerminalKey()} />\r\n                        <Column dataField=\"serialNumber\" dataType=\"string\" caption={labels.SerialNumber()} />\r\n                        <Column dataField=\"rnm\" dataType=\"string\" caption={labels.RNM()} />\r\n                        <Column dataField=\"deviceCode\" dataType=\"string\" caption={labels.DeviceCode()} />\r\n                        <Column dataField=\"terminalSerialNumber\" dataType=\"string\" caption={labels.TerminalSerialNumber()} />\r\n                        <Column dataField=\"account\" dataType=\"string\" caption={labels.Account()} />\r\n                        <Column dataField=\"cashDeskCode\" dataType=\"string\" caption={labels.CashDeskCode()} />\r\n                        <Column dataField=\"enabled\" dataType=\"boolean\" caption={labels.Enabled()} />\r\n                        <Column dataField=\"inServing\" dataType=\"boolean\" caption={labels.InServing()} />\r\n                        <Column dataField=\"subnetId\" caption={labels.Subnet()}>\r\n                            <Lookup dataSource={this.state.attributesList} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"netTypeId\" caption={labels.NetType()} visible={false}>\r\n                            <Lookup dataSource={this.state.netTypeList} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"profileId\" caption={labels.Profile()} visible={false}>\r\n                            <Lookup dataSource={this.state.servicesProfileList} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"timezoneId\" caption={labels.Timezone()} visible={false}>\r\n                            <Lookup dataSource={this.state.timezoneList} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"availabilitySchedulesId\" caption={labels.AvailabilitySchedules()} visible={false}>\r\n                            <Lookup dataSource={this.state.availabilityScheduleList} valueExpr=\"id\" displayExpr=\"name\" />\r\n                        </Column>\r\n                        <Column dataField=\"warrantyPeriod\" dataType=\"string\" caption={labels.WarrantyPeriod()} visible={false} />\r\n                        <Column dataField=\"stackerCapacity\" dataType=\"string\" caption={labels.StackerCapacity()} visible={false} />\r\n                    </DataGrid>\r\n\r\n                    <Toast\r\n                        visible={this.state.isVisibleToast}\r\n                        message={this.state.toastMessage}\r\n                        type={'warning'}\r\n                        onHiding={this.onToastHiding}\r\n                        displayTime={3000}\r\n                        width={400}\r\n                        position={'center center'}\r\n                    />\r\n                </div >\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) { return {} }\r\n\r\nfunction mapDispatchToProps(dispatch: any) { return { actions: {} } }\r\n\r\nexport const TerminalDirectoryDict = connect(mapStateToProps, mapDispatchToProps)(TerminalDirectoryDictClass);","import React from 'react';\r\nimport TreeView from 'devextreme-react/tree-view';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { SidebarItems} from '../Routes';\r\nimport { Route } from 'devextreme-react/map';\r\nimport {GetSidebarItems} from '../Routes';\r\nimport { connect } from 'react-redux';\r\n\r\ntype PathParamsType = {\r\n    param1:string;\r\n}\r\n\r\ntype LinkListProps=RouteComponentProps<PathParamsType> &{\r\n    sidebarItems:object[],\r\n}\r\n\r\ninterface LinkListState {\r\n    currentItem:object\r\n}\r\n\r\nclass LinkList extends React.PureComponent<LinkListProps,LinkListState> {\r\n    items:object[]=[];\r\n    constructor(props:any) {\r\n        super(props);\r\n        this.items = SidebarItems;\r\n        this.state = {\r\n          currentItem: { ...this.items[0] },\r\n        };\r\n        this.selectItem = this.selectItem.bind(this);\r\n      }\r\n      \r\n      render() {\r\n        const currentItem  = this.state.currentItem;\r\n        return (\r\n          <div className=\"form\">\r\n            <TreeView id=\"simple-treeview\" \r\n              items={(()=>GetSidebarItems())()}\r\n              dataStructure=\"plain\"\r\n              displayExpr=\"name\"\r\n              parentIdExpr=\"categoryId\"\r\n              keyExpr=\"ID\"\r\n              width={300}\r\n              onItemClick={(e)=>this.selectItem(e)} />\r\n          </div>\r\n        );\r\n      }\r\n\r\n       \r\n      selectItem(e:any) {\r\n        //this.setState({\r\n        //  currentItem: { ...e.itemData },\r\n        //});\r\n        this.props.history.push(e.itemData.path);\r\n      }\r\n}\r\n \r\nfunction mapStateToProps(store:any,ownProps?:any) {\r\n  let result = {...store.AppSettings};\r\n  return result\r\n}\r\nfunction mapDispatchToProps(dispatch:any) {\r\n  return {\r\n  }\r\n}\r\n\r\nconst wr = withRouter(LinkList);\r\n\r\nconst result = connect(mapStateToProps, mapDispatchToProps)(wr);\r\n\r\nexport default result;","import React from \"react\";\r\n\r\nconst koef:number = 170/256;\r\n\r\nexport function RUlang(w:number=48) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={w}\r\n      height={w*koef}\r\n      fillRule=\"evenodd\"\r\n      strokeLinejoin=\"bevel\"\r\n      strokeWidth=\"0.501\"\r\n      overflow=\"visible\"\r\n      viewBox=\"0 0 192 127.5\"\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        stroke=\"#000\"\r\n        fontFamily=\"Times New Roman\"\r\n        fontSize=\"16\"\r\n        transform=\"scale(1 -1)\"\r\n      >\r\n        <g transform=\"translate(0 -127.5)\">\r\n          <g>\r\n            <g\r\n              fillRule=\"evenodd\"\r\n              stroke=\"none\"\r\n              strokeLinejoin=\"miter\"\r\n              strokeMiterlimit=\"79.84\"\r\n              strokeWidth=\"20.967\"\r\n            >\r\n              <path\r\n                fill=\"#fff\"\r\n                d=\"M191.699 63.85H.6v63.349h191.099V63.85z\"\r\n              ></path>\r\n              <path fill=\"#d52b1e\" d=\"M191.699.5H.6v63.349h191.099V.5z\"></path>\r\n              <path\r\n                fill=\"#0039a6\"\r\n                d=\"M191.699 42.733H.6v42.233h191.099V42.733z\"\r\n              ></path>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function KZLang(w:number=48) {\r\n    return (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width={w}\r\n        height={w*koef}\r\n        fillRule=\"evenodd\"\r\n        strokeLinejoin=\"bevel\"\r\n        strokeWidth=\"0.501\"\r\n        overflow=\"visible\"\r\n        viewBox=\"0 0 192 127.5\"\r\n      >\r\n        <g\r\n          fill=\"none\"\r\n          stroke=\"#000\"\r\n          fontFamily=\"Times New Roman\"\r\n          fontSize=\"16\"\r\n          transform=\"scale(1 -1)\"\r\n        >\r\n          <g transform=\"translate(0 -127.5)\">\r\n            <g strokeLinejoin=\"miter\" strokeMiterlimit=\"79.84\">\r\n              <path\r\n                fill=\"#00afca\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.191\"\r\n                d=\"M1.013 127.293h190.575V.506H1.013z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#fec50c\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n                d=\"M122.443 73.492c0 9.88-8.02 17.899-17.899 17.899-9.88 0-17.9-8.019-17.9-17.899 0-9.879 8.02-17.899 17.9-17.899 9.879 0 17.899 8.02 17.899 17.899z\"\r\n              ></path>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M104.544 93.833c1.063.014 1.463.679 1.463 1.478 0 1.064-1.463 6.132-1.463 6.132s-1.464-5.068-1.464-6.132c0-.799.4-1.478 1.464-1.478zM124.885 73.492c.014-1.064.678-1.464 1.477-1.464 1.065 0 6.133 1.464 6.133 1.464s-5.068 1.463-6.133 1.463c-.799 0-1.477-.399-1.477-1.463zM104.544 53.151c-1.064-.015-1.464-.68-1.464-1.477 0-1.065 1.464-6.134 1.464-6.134s1.463 5.069 1.463 6.134c0 .797-.4 1.477-1.463 1.477zM84.202 73.492c-.014 1.064-.678 1.463-1.477 1.463-1.064 0-6.132-1.463-6.132-1.463s5.068-1.464 6.132-1.464c.799 0 1.477.4 1.477 1.464z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M112.327 92.285c.989-.395 1.613.067 1.919.804.407.985.994 6.227.994 6.227s-3.291-4.123-3.699-5.107c-.305-.737-.195-1.516.786-1.924z\"></path>\r\n                <path d=\"M112.327 92.285c.989-.395 1.613.067 1.919.804.407.985.994 6.227.994 6.227s-3.291-4.123-3.699-5.107c-.305-.737-.195-1.516.786-1.924zM123.336 65.708c-.393-.988.069-1.612.806-1.918.983-.408 6.226-.994 6.226-.994s-4.123 3.291-5.106 3.698c-.737.305-1.518.196-1.926-.786z\"></path>\r\n                <path d=\"M112.327 92.285c.989-.395 1.613.067 1.919.804.407.985.994 6.227.994 6.227s-3.291-4.123-3.699-5.107c-.305-.737-.195-1.516.786-1.924zM96.758 54.699c-.987.394-1.609-.068-1.915-.805-.409-.983-.996-6.227-.996-6.227s3.292 4.123 3.699 5.107c.306.737.197 1.518-.788 1.925z\"></path>\r\n                <path d=\"M112.327 92.285c.989-.395 1.613.067 1.919.804.407.985.994 6.227.994 6.227s-3.291-4.123-3.699-5.107c-.305-.737-.195-1.516.786-1.924zM85.751 81.277c.395.988-.067 1.61-.805 1.916-.984.408-6.227.995-6.227.995s4.123-3.292 5.108-3.698c.737-.306 1.516-.197 1.924.787z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M118.927 87.876c.762-.743 1.515-.554 2.079.01.753.751 3.302 5.371 3.302 5.371s-4.619-2.55-5.371-3.302c-.566-.564-.762-1.327-.01-2.079z\"></path>\r\n                <path d=\"M118.927 87.876c.762-.743 1.515-.554 2.079.01.753.751 3.302 5.371 3.302 5.371s-4.619-2.55-5.371-3.302c-.566-.564-.762-1.327-.01-2.079zM118.927 59.109c-.743-.763-.556-1.515.01-2.081.752-.751 5.371-3.3 5.371-3.3s-2.549 4.618-3.302 5.371c-.564.565-1.326.761-2.079.01z\"></path>\r\n                <path d=\"M118.927 87.876c.762-.743 1.515-.554 2.079.01.753.751 3.302 5.371 3.302 5.371s-4.619-2.55-5.371-3.302c-.566-.564-.762-1.327-.01-2.079zM90.16 59.109c-.761.742-1.515.555-2.079-.01-.753-.753-3.302-5.371-3.302-5.371s4.62 2.549 5.371 3.3c.564.566.762 1.328.01 2.081z\"></path>\r\n                <path d=\"M118.927 87.876c.762-.743 1.515-.554 2.079.01.753.751 3.302 5.371 3.302 5.371s-4.619-2.55-5.371-3.302c-.566-.564-.762-1.327-.01-2.079zM90.16 87.876c.743.761.554 1.515-.01 2.079-.751.752-5.371 3.302-5.371 3.302s2.549-4.62 3.302-5.371c.564-.564 1.326-.763 2.079-.01z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M123.336 81.277c.421-.98 1.189-1.093 1.926-.787.983.406 5.106 3.698 5.106 3.698s-5.243-.587-6.226-.995c-.737-.306-1.212-.934-.806-1.916z\"></path>\r\n                <path d=\"M123.336 81.277c.421-.98 1.189-1.093 1.926-.787.983.406 5.106 3.698 5.106 3.698s-5.243-.587-6.226-.995c-.737-.306-1.212-.934-.806-1.916zM112.327 54.699c-.977-.42-1.091-1.188-.786-1.925.408-.984 3.699-5.107 3.699-5.107s-.587 5.244-.994 6.227c-.306.737-.934 1.212-1.919.805z\"></path>\r\n                <path d=\"M123.336 81.277c.421-.98 1.189-1.093 1.926-.787.983.406 5.106 3.698 5.106 3.698s-5.243-.587-6.226-.995c-.737-.306-1.212-.934-.806-1.916zM85.751 65.708c-.421.978-1.187 1.091-1.924.786-.985-.407-5.108-3.698-5.108-3.698s5.243.586 6.227.994c.738.306 1.211.934.805 1.918z\"></path>\r\n                <path d=\"M123.336 81.277c.421-.98 1.189-1.093 1.926-.787.983.406 5.106 3.698 5.106 3.698s-5.243-.587-6.226-.995c-.737-.306-1.212-.934-.806-1.916zM96.758 92.285c.979.42 1.094 1.187.788 1.924-.407.984-3.699 5.107-3.699 5.107s.587-5.242.996-6.227c.306-.737.932-1.21 1.915-.804z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM124.495 69.523c-.195-1.046.38-1.567 1.162-1.723 1.044-.208 6.301.239 6.301.239s-4.686 2.423-5.729 2.632c-.784.156-1.527-.104-1.734-1.148z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM100.576 53.541c-1.048.195-1.568-.38-1.725-1.163-.208-1.043.24-6.3.24-6.3s2.423 4.686 2.632 5.728c.155.784-.103 1.527-1.147 1.735z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM84.592 77.46c.195 1.047-.38 1.568-1.162 1.725-1.044.206-6.301-.241-6.301-.241s4.686-2.423 5.73-2.631c.782-.155 1.526.103 1.733 1.147z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM124.495 69.523c-.195-1.046.38-1.567 1.162-1.723 1.044-.208 6.301.239 6.301.239s-4.686 2.423-5.729 2.632c-.784.156-1.527-.104-1.734-1.148z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM100.576 53.541c-1.048.195-1.568-.38-1.725-1.163-.208-1.043.24-6.3.24-6.3s2.423 4.686 2.632 5.728c.155.784-.103 1.527-1.147 1.735z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM84.592 77.46c.195 1.047-.38 1.568-1.162 1.725-1.044.206-6.301-.241-6.301-.241s4.686-2.423 5.73-2.631c.782-.155 1.526.103 1.733 1.147z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M115.844 90.406c.894-.58 1.595-.25 2.037.414.592.886 2.192 5.913 2.192 5.913s-4.033-3.402-4.625-4.286c-.443-.665-.487-1.451.396-2.041z\"></path>\r\n                <path d=\"M115.844 90.406c.894-.58 1.595-.25 2.037.414.592.886 2.192 5.913 2.192 5.913s-4.033-3.402-4.625-4.286c-.443-.665-.487-1.451.396-2.041zM121.457 62.191c-.579-.893-.248-1.594.416-2.037.884-.592 5.912-2.192 5.912-2.192s-3.401 4.034-4.287 4.626c-.663.443-1.449.487-2.041-.397z\"></path>\r\n                <path d=\"M115.844 90.406c.894-.58 1.595-.25 2.037.414.592.886 2.192 5.913 2.192 5.913s-4.033-3.402-4.625-4.286c-.443-.665-.487-1.451.396-2.041zM93.243 56.579c-.894.579-1.595.248-2.039-.416-.59-.884-2.189-5.912-2.189-5.912s4.032 3.401 4.624 4.286c.444.664.489 1.45-.396 2.042z\"></path>\r\n                <path d=\"M115.844 90.406c.894-.58 1.595-.25 2.037.414.592.886 2.192 5.913 2.192 5.913s-4.033-3.402-4.625-4.286c-.443-.665-.487-1.451.396-2.041zM87.63 84.793c.579.892.249 1.595-.415 2.038-.885.591-5.913 2.19-5.913 2.19s3.402-4.032 4.287-4.624c.664-.444 1.45-.489 2.041.396z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM124.495 69.523c-.195-1.046.38-1.567 1.162-1.723 1.044-.208 6.301.239 6.301.239s-4.686 2.423-5.729 2.632c-.784.156-1.527-.104-1.734-1.148z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM100.576 53.541c-1.048.195-1.568-.38-1.725-1.163-.208-1.043.24-6.3.24-6.3s2.423 4.686 2.632 5.728c.155.784-.103 1.527-1.147 1.735z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM84.592 77.46c.195 1.047-.38 1.568-1.162 1.725-1.044.206-6.301-.241-6.301-.241s4.686-2.423 5.73-2.631c.782-.155 1.526.103 1.733 1.147z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M121.457 84.793c.603-.878 1.378-.84 2.041-.396.886.592 4.287 4.624 4.287 4.624s-5.028-1.599-5.912-2.19c-.664-.443-1.007-1.153-.416-2.038z\"></path>\r\n                <path d=\"M121.457 84.793c.603-.878 1.378-.84 2.041-.396.886.592 4.287 4.624 4.287 4.624s-5.028-1.599-5.912-2.19c-.664-.443-1.007-1.153-.416-2.038zM115.844 56.579c-.876-.603-.839-1.378-.396-2.042.592-.885 4.625-4.286 4.625-4.286s-1.6 5.028-2.192 5.912c-.442.664-1.15 1.006-2.037.416z\"></path>\r\n                <path d=\"M121.457 84.793c.603-.878 1.378-.84 2.041-.396.886.592 4.287 4.624 4.287 4.624s-5.028-1.599-5.912-2.19c-.664-.443-1.007-1.153-.416-2.038zM87.63 62.191c-.603.877-1.377.84-2.041.397-.885-.592-4.287-4.626-4.287-4.626s5.028 1.6 5.913 2.192c.664.443 1.007 1.151.415 2.037z\"></path>\r\n                <path d=\"M121.457 84.793c.603-.878 1.378-.84 2.041-.396.886.592 4.287 4.624 4.287 4.624s-5.028-1.599-5.912-2.19c-.664-.443-1.007-1.153-.416-2.038zM93.243 90.406c.878.603.84 1.376.396 2.041-.592.884-4.624 4.286-4.624 4.286s1.599-5.027 2.189-5.913c.444-.664 1.154-1.006 2.039-.414z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM124.495 69.523c-.195-1.046.38-1.567 1.162-1.723 1.044-.208 6.301.239 6.301.239s-4.686 2.423-5.729 2.632c-.784.156-1.527-.104-1.734-1.148z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM100.576 53.541c-1.048.195-1.568-.38-1.725-1.163-.208-1.043.24-6.3.24-6.3s2.423 4.686 2.632 5.728c.155.784-.103 1.527-1.147 1.735z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733z\"></path>\r\n                <path d=\"M108.513 93.444c1.046-.196 1.566.38 1.723 1.162.208 1.044-.239 6.301-.239 6.301s-2.424-4.686-2.633-5.73c-.155-.782.105-1.526 1.149-1.733zM84.592 77.46c.195 1.047-.38 1.568-1.162 1.725-1.044.206-6.301-.241-6.301-.241s4.686-2.423 5.73-2.631c.782-.155 1.526.103 1.733 1.147z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M124.495 77.46c.219-1.04.95-1.302 1.734-1.147 1.043.208 5.729 2.631 5.729 2.631s-5.257.447-6.301.241c-.782-.157-1.37-.68-1.162-1.725z\"></path>\r\n                <path d=\"M124.495 77.46c.219-1.04.95-1.302 1.734-1.147 1.043.208 5.729 2.631 5.729 2.631s-5.257.447-6.301.241c-.782-.157-1.37-.68-1.162-1.725zM108.513 53.541c-1.042-.221-1.304-.951-1.149-1.735.209-1.042 2.633-5.728 2.633-5.728s.447 5.257.239 6.3c-.157.783-.68 1.371-1.723 1.163z\"></path>\r\n                <path d=\"M124.495 77.46c.219-1.04.95-1.302 1.734-1.147 1.043.208 5.729 2.631 5.729 2.631s-5.257.447-6.301.241c-.782-.157-1.37-.68-1.162-1.725zM84.592 69.523c-.219 1.041-.951 1.304-1.733 1.148-1.044-.209-5.73-2.632-5.73-2.632s5.257-.447 6.301-.239c.782.156 1.371.678 1.162 1.723z\"></path>\r\n                <path d=\"M124.495 77.46c.219-1.04.95-1.302 1.734-1.147 1.043.208 5.729 2.631 5.729 2.631s-5.257.447-6.301.241c-.782-.157-1.37-.68-1.162-1.725zM100.576 93.444c1.04.219 1.302.951 1.147 1.733-.209 1.044-2.632 5.73-2.632 5.73s-.448-5.257-.24-6.301c.157-.782.68-1.372 1.725-1.162z\"></path>\r\n              </g>\r\n              <path\r\n                fill=\"#fec50c\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n                d=\"M101.349 34.714a5.406 5.406 0 01-1.4-.234c-.626-.084-1.225-.302-1.845-.404l-.248-.04-.418-.039c.028-.116.045-.231.045-.347 0-.12-.014-.234-.045-.332a.817.817 0 00-.177-.279.98.98 0 00-.292-.235.93.93 0 00-.346-.084.902.902 0 00-.36.044c-.119.04-.229.114-.333.204a2.993 2.993 0 00-.371-.067 1.574 1.574 0 00-.35 0 3.79 3.79 0 00-.373.124c-.122.05-.238.112-.346.183-.453-.267-.958-.52-1.233-.985-.155-.213-.186-.458-.222-.709a1.926 1.926 0 01.191-.927c.047-.084.088.306.239.359.252.208.568.359.888.444.269.137.234-.01.124-.222-.028-.112-.177-.532.025-.32.902.399 1.899.479 2.871.554 1.408.147 2.824.178 4.239.196 1.33-.018 2.661-.036 3.991-.084.634-.018 1.272-.16 1.898-.053.15.039.385.048.474.137-.284.163-.617.167-.931.208h-2.537c-.705.071-1.441.08-2.107.346-.177.071-.34.239-.509.057a3.156 3.156 0 00-.79-.169 3.078 3.078 0 00-1.362.236c.312.429.684.807 1.026 1.207-.276.043-.541.102-.816.167.483.333.931.711 1.4 1.064z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#fec50c\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n                d=\"M122.069 30.119c-.964-.579-1.7.447-2.507.756-.575-.313-.628-1.359-1.165-1.854-.644-.732-1.433.205-1.373.927-.769-.65-1.157-2.118-2.401-1.922-.591.481-1.028 1.49-1.479.341-.367-.563-1.346-1.361-1.851-.512-.157.748-.532 1.629-.94.439-.281-.84-1.177-1.46-2.047-1.091-.474.388.381 1.826-.223 1.723-.905-.598-1.43-2.084-2.693-1.963-.49.55.297 1.481-.241 2.092-.633-.815-1.338-2.006-2.436-2.092-.53.43.021 1.662-.318 1.845-1.126-.677-2.315-1.88-3.731-1.502.552 2.111 2.858 2.852 4.799 3.017 3.337.409 6.848-.345 10.061.86.518.317 1.774.764 1.328 1.496-.397.579 1.031.353 1.17 1.029-.085.854.655.737 1.378.811 3.243.139 6.446-.543 9.678-.659.246-1.575-1.502-2.681-2.909-2.195-.672-.109-1.68 1.546-1.482.342-.137-.631-.042-1.466-.618-1.888m-27.592 3.226c.75-.686 1.277.131 1.978.428 2.354.809 4.408 2.224 6.433 3.639 1.226 1.013 2.289 2.33 3.937 2.659 3.214.972 6.63.855 9.856 1.751 2.456 3.364 6.629 4.563 10.124 6.497.784.243 1.087.889 1.338 1.603 1.334 2.105 3.152 3.972 5.3 5.247 1.018.555 2.232.875 3.383.621-.083-1.371-.869-2.586-1.82-3.535.777.018 1.446.508 2.232.48.268-1.407-1.252-2.143-2.06-3.02.45-.103 2.176-.236 1.237-.687-1.2-.831-2.568-1.4-3.674-2.367 1.021-.184 1.137-.4.099-.769-.561-.381-1.642-.514-1.746-1.255.77-.475-.355-.945-.789-1.099-.831-.194-1.702-.554-.599-1.185-.419-.63-1.313-.764-2.044-.702.222-.714.543-1.515-.384-1.829-2.079-1.571-4.518-2.715-7.132-2.977 3.264-.25 6.628.356 9.416 2.132.369.435 2.3.902 1.219 1.268-.508.212-1.599.448-1.673.834 1.511.932 3.415.601 5.041 1.155.041.526-1.236.38-1.714.5-1.136.094-1.069.383.027.49 1.386.367 2.956.44 4.123 1.345-.95.438-2.145.051-3.158.41 1.718.751 3.744.828 5.286 1.956.702.782-.899.538-1.366.52-.951-.167-1.392.289-.311.684 1.846 1.361 4.183 2.243 5.479 4.218.307.441.723 1.77-.257 1.292-1.288-.428-2.421-1.876-3.889-1.428 2.892 2.241 5.644 4.792 7.619 7.894.104.894-1.301.99-1.667.288-1.857-1.79-3.539-3.903-5.917-5.025 2.277 2.199 4.161 4.801 5.804 7.499.352.803 1.3 1.769.786 2.66-.829.685-1.865.057-2.295-.763-1.445-1.885-2.541-4.085-4.398-5.621 1.626 3.103 3.309 6.406 3.349 9.984-.004.738-.152 1.823-1.152 1.684-.793-.141-.606-1.329-.932-1.929-.719-2.445-1.059-5.092-2.534-7.234.331 1.988.913 4.059.466 6.065-.208.895-1.656.51-1.469-.377-1.731-8.762-7.609-16.426-15.299-20.858-3.52-1.992-7.453-3.277-11.453-3.859-1.077-.236-2.241-.097-3.269-.463-2.493-1.913-4.003-5.11-7.158-6.113-1.415-.702-3.259-.845-4.271-2.158-.088-.169-.106-.363-.103-.55\"\r\n              ></path>\r\n              <path\r\n                fill=\"#fec50c\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n                d=\"M103.922 42.234c-.465-.846-.74-1.818-1.339-2.573-1.801 1.639-4.413 1.585-6.697 1.694-1.887.1-3.938.275-5.398 1.619-1.534 1.258-2.787 2.89-4.503 3.911-1.565.426-3.144.958-4.403 2.031-2.689 2.194-4.231 5.447-6.858 7.707-.503.495-1.094.877-1.655 1.295-.533-.13-.292-1.281-.944-.694-.356.252-1.244.278-1.323-.076.802-1.059 1.607-2.269 1.718-3.623-.548-.056-1.522.116-1.794-.088a11.194 11.194 0 012.721-2.83c-.509-.081-1.51-.036-1.706-.241 1.053-.858 2.181-1.734 3.559-1.954.282-.371-.412-1.09.172-1.407.338-.14 1.456-.371.685-.755-.527-.356-.33-1.186.344-1.168.427-.217 1.386-.27 1.462-.649-.379-.384-1.557-.842-.555-1.202.936-.519 2.005-.857 3.075-.894-.536-.451-1.198-.707-1.751-1.133 2.467-1.447 5.204-2.399 7.907-3.315 1.076-.36 2.165-.694 3.281-.906-3.242.189-6.375 1.146-9.328 2.46a82.657 82.657 0 01-4.64 1.899c.687.357 1.483.444 2.196.754-1.48.297-3.096.395-4.399 1.208.2.356.956.372 1.374.554.786.188 1.275.417.165.486-1.117.304-2.4.166-3.386.842.064.403 1.096.264 1.516.437.528.09 1.116.167 1.539.523-1.729.718-3.989.21-5.344 1.736-.312.582.969.113 1.334.211.928 0 1.925-.295 2.809.079-2.519 1.106-5.218 2.141-7.139 4.186-.213.328-.853 1.227-.336 1.339 1.495-.198 2.577-1.83 4.177-1.576.212.286-.93.755-1.215 1.164-2.331 2.002-4.594 4.173-6.229 6.794-.113.877 1.263 1.008 1.626.332 1.783-1.718 3.394-3.723 5.616-4.895.787-.382-.454.453-.619.756-2.052 2.381-4.007 4.899-5.439 7.705-.257.507-.683 1.421.085 1.692.768.384 1.53-.139 1.92-.8 1.507-1.903 2.617-4.165 4.498-5.749-1.6 3.106-3.312 6.379-3.352 9.955.038.692.082 1.741 1.022 1.713.79.118.664-.892.924-1.374.778-2.626 1.116-5.47 2.677-7.789-.345 1.949-.852 3.955-.516 5.936.079.651.812.848 1.288.455.386-.946.467-2.114.819-3.126 2.004-6.854 6.502-12.882 12.366-16.927a32.554 32.554 0 0116.406-5.634c.529-.046 1.059-.061 1.587-.093M96.813 33.462a.315.315 0 01-.314.315.316.316 0 010-.631c.173 0 .314.143.314.316z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#fec50c\"\r\n                stroke=\"#00afca\"\r\n                strokeWidth=\"0.05\"\r\n                d=\"M96.599 33.512c0 .07-.058.127-.128.127a.129.129 0 01-.129-.127c0-.07.059-.127.129-.127s.128.057.128.127z\"\r\n              ></path>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M14.712 120.267s-1.279 1.075-1.713.535c-.698-.866 2.147-5.183 2.147-6.705 0-2.495-1.665-3.173-3.721-3.529-1.379-.239-3.626.099-3.626.099.422.57.697.736 1.411.782-.795.412-1.602 1.307-1.602 2.699 0 2.147.884 3.031.884 5.452 0 1.342-1.102 3.052-1.102 3.052 1.947-.194 2.911-1.998 2.363-3.437a.944.944 0 01.832.255c.142-.401-.082-.863-.383-1.262.243-.13.421-.053.806.026-.036-.41-.282-.847-.885-1.259 1.749.455 2.826-.765 2.826-2.041 0-.965-.675-1.656-1.336-1.656-.214 0-.528.088-.704.221-.124-.266-.06-.62.067-.887-.483.128-.79.416-.571 1.015-.372.033-.668.159-.87.398.204.262.514.412.87.399-.271.559.031.871.469 1.126 0 0-.279-1.126.436-1.126.319 0 .614.106.614.578 0 .412-.362.983-1.194.947-.832-.036-1.508-.574-1.508-1.903 0-1.227.99-1.836 2.293-1.875 1.174-.038 2.062.6 2.062 1.812 0 1.613-2.33 5.292-2.33 6.73 0 1.078.971 1.681 1.921 1.681 1.23 0 2.269-1.221 2.269-1.221l-.724-.906z\"></path>\r\n                <path d=\"M14.982 91.104c0-2.699-2.421-4.084-4.324-4.084-2.564 0-3.928 1.533-3.928 3.539 0 1.136.208 1.85.732 2.939 0 0 4.229 8.793 5.875 12.193.205.424.271.908.271 1.615 0 1.094-1.061 1.987-2.173 2.014-1.013.025-2.118-.944-2.118-2.05 0-1.343.698-1.942 1.413-1.942.88 0 1.232.363 1.232.98 0 .43-.21.617-.509.617-.754 0-.541-1.016-.541-1.016-.376.082-.685.465-.507.942a1.383 1.383 0 00-.735.436c.203.197.435.349.735.399-.178.585.058.869.569.99a1.015 1.015 0 01-.072-.627c.804.229 2.035-.134 2.035-1.523 0-1.38-.956-2.54-2.75-2.251.427-.204.644-.621.687-1.089a2.546 2.546 0 01-.687.147c.209-.372.5-.69.489-1.416-.333.151-.643.431-1.068.254.668-1.318-.154-3.129-2.244-3.557.764.897 1.139 1.866 1.139 2.831 0 3.126-.868 3.651-.868 5.825 0 .909.467 1.892 1.393 2.558v-.036c-.613.163-1.004.466-1.23.875 1.399.397 3.433.39 4.524-.04 1.255-.146 2.132-1.108 2.39-1.598.258-.488.76-2.255 0-3.845a3392.067 3392.067 0 01-5.973-12.665 4.149 4.149 0 01-.417-1.78c0-1.6 1.466-2.158 2.299-2.158.996 0 2.009.758 2.009 1.706 0 .599-.325.96-.797.96-1.124 0-1.055-.956-.832-1.559-.701.314-1.107.877-.996 1.47-.396.054-.773.241-1.122.634.275.347.609.609 1.122.617-.224.92.391 1.31.996 1.525-.19-.675-.316-1.452.832-1.452.838 0 1.498-.146 1.884-.69.022.726.089 3.592.089 3.592.049 1.078-1.441 1.047-2.388.726.358 1.241 1.089 1.912 2.787 1.743-.412.171-.85.56-.85 1.307 0 1.009.818 2.129 1.357 2.46l.27-10.518z\"></path>\r\n                <path d=\"M14.982 83.013c0 2.698-2.421 4.083-4.324 4.083-2.564 0-3.928-1.531-3.928-3.539 0-1.136.208-1.85.732-2.939 0 0 4.229-8.793 5.875-12.193.205-.424.271-.907.271-1.615 0-1.092-1.061-1.987-2.173-2.014-1.013-.025-2.118.946-2.118 2.05 0 1.343.698 1.942 1.413 1.942.88 0 1.232-.363 1.232-.98 0-.43-.21-.617-.509-.617-.754 0-.541 1.016-.541 1.016-.376-.082-.685-.465-.507-.942a1.377 1.377 0 01-.735-.436c.203-.197.435-.349.735-.399-.178-.585.058-.869.569-.99a1.015 1.015 0 00-.072.627c.804-.229 2.035.134 2.035 1.523 0 1.38-.956 2.54-2.75 2.251.427.204.644.621.687 1.089-.325-.127-.687-.147-.687-.147.209.372.5.69.489 1.416-.333-.151-.643-.431-1.068-.254.668 1.318-.154 3.129-2.244 3.557.764-.897 1.139-1.866 1.139-2.831 0-3.126-.868-3.651-.868-5.825 0-.909.467-1.891 1.393-2.558v.036c-.613-.163-1.004-.466-1.23-.875 1.399-.397 3.433-.39 4.524.04 1.255.146 2.132 1.108 2.39 1.598.258.488.76 2.255 0 3.845a3323.753 3323.753 0 00-5.973 12.666 4.141 4.141 0 00-.417 1.779c0 1.6 1.466 2.158 2.299 2.158.996 0 2.009-.758 2.009-1.706 0-.599-.325-.96-.797-.96-1.124 0-1.055.956-.832 1.559-.701-.314-1.107-.877-.996-1.47-.396-.054-.773-.241-1.122-.634.275-.346.609-.609 1.122-.617-.224-.92.391-1.308.996-1.525-.19.676-.316 1.452.832 1.452.838 0 1.498.146 1.884.69.022-.726.089-3.592.089-3.592.049-1.078-1.441-1.047-2.388-.726.358-1.241 1.089-1.912 2.787-1.743-.412-.171-.85-.56-.85-1.307 0-1.009.818-2.127 1.357-2.46l.27 10.518z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M14.712 120.267s1.279 1.075 1.713.535c.698-.866-2.147-5.183-2.147-6.705 0-2.495 1.666-3.173 3.722-3.529 1.378-.239 3.625.099 3.625.099-.422.57-.697.736-1.411.782.795.412 1.602 1.307 1.602 2.699 0 2.147-.882 3.031-.882 5.452 0 1.342 1.1 3.052 1.1 3.052-1.947-.194-2.911-1.998-2.361-3.437a.947.947 0 00-.834.255c-.142-.401.083-.863.383-1.262-.242-.13-.42-.053-.806.026.036-.41.284-.847.885-1.259-1.749.455-2.826-.765-2.826-2.041 0-.965.676-1.656 1.337-1.656.213 0 .527.088.703.221.125-.266.06-.62-.067-.887.485.128.791.416.571 1.015.373.033.669.159.87.398a1.03 1.03 0 01-.87.399c.273.559-.03.871-.469 1.126 0 0 .279-1.126-.434-1.126-.321 0-.614.106-.614.578 0 .412.36.983 1.192.947.832-.036 1.508-.574 1.508-1.903 0-1.227-.989-1.836-2.293-1.875-1.174-.038-2.062.6-2.062 1.812 0 1.613 2.33 5.292 2.33 6.73 0 1.078-.971 1.681-1.919 1.681-1.23 0-2.271-1.221-2.271-1.221l.724-.906z\"></path>\r\n                <path d=\"M14.444 91.104c0-2.699 2.42-4.084 4.323-4.084 2.563 0 3.927 1.533 3.927 3.539 0 1.136-.208 1.85-.731 2.939 0 0-4.228 8.793-5.876 12.193-.204.424-.271.908-.271 1.615 0 1.094 1.062 1.987 2.173 2.014 1.014.025 2.118-.944 2.118-2.05 0-1.343-.698-1.942-1.413-1.942-.88 0-1.231.363-1.231.98 0 .43.209.617.508.617.754 0 .543-1.016.543-1.016.374.082.683.465.505.942.287.064.543.218.735.436-.203.197-.434.349-.735.399.179.585-.058.869-.568.99.102-.225.106-.431.071-.627-.803.229-2.035-.134-2.035-1.523 0-1.38.956-2.54 2.75-2.251-.427-.204-.644-.621-.687-1.089.326.127.687.147.687.147-.209-.372-.5-.69-.489-1.416.333.151.643.431 1.069.254-.669-1.318.153-3.129 2.245-3.557-.765.897-1.141 1.866-1.141 2.831 0 3.126.868 3.651.868 5.825 0 .909-.467 1.892-1.393 2.558v-.036c.613.163 1.004.466 1.23.875-1.399.397-3.432.39-4.524-.04-1.255-.146-2.132-1.108-2.39-1.598-.258-.488-.758-2.255 0-3.845.832-1.741 4.751-10.052 5.973-12.665.26-.555.417-1.143.417-1.78 0-1.6-1.466-2.158-2.299-2.158-.996 0-2.009.758-2.009 1.706 0 .599.327.96.797.96 1.124 0 1.056-.956.832-1.559.701.314 1.107.877.996 1.47.396.054.775.241 1.122.634-.275.347-.609.609-1.122.617.224.92-.391 1.31-.996 1.525.191-.675.316-1.452-.832-1.452-.838 0-1.498-.146-1.883-.69-.023.726-.09 3.592-.09 3.592-.049 1.078 1.441 1.047 2.389.726-.357 1.241-1.09 1.912-2.788 1.743.412.171.852.56.852 1.307 0 1.009-.82 2.129-1.359 2.46l-.268-10.518z\"></path>\r\n                <path d=\"M14.444 91.104c0-2.699 2.42-4.084 4.323-4.084 2.563 0 3.927 1.533 3.927 3.539 0 1.136-.208 1.85-.731 2.939 0 0-4.228 8.793-5.876 12.193-.204.424-.271.908-.271 1.615 0 1.094 1.062 1.987 2.173 2.014 1.014.025 2.118-.944 2.118-2.05 0-1.343-.698-1.942-1.413-1.942-.88 0-1.231.363-1.231.98 0 .43.209.617.508.617.754 0 .543-1.016.543-1.016.374.082.683.465.505.942.287.064.543.218.735.436-.203.197-.434.349-.735.399.179.585-.058.869-.568.99.102-.225.106-.431.071-.627-.803.229-2.035-.134-2.035-1.523 0-1.38.956-2.54 2.75-2.251-.427-.204-.644-.621-.687-1.089.326.127.687.147.687.147-.209-.372-.5-.69-.489-1.416.333.151.643.431 1.069.254-.669-1.318.153-3.129 2.245-3.557-.765.897-1.141 1.866-1.141 2.831 0 3.126.868 3.651.868 5.825 0 .909-.467 1.892-1.393 2.558v-.036c.613.163 1.004.466 1.23.875-1.399.397-3.432.39-4.524-.04-1.255-.146-2.132-1.108-2.39-1.598-.258-.488-.758-2.255 0-3.845.832-1.741 4.751-10.052 5.973-12.665.26-.555.417-1.143.417-1.78 0-1.6-1.466-2.158-2.299-2.158-.996 0-2.009.758-2.009 1.706 0 .599.327.96.797.96 1.124 0 1.056-.956.832-1.559.701.314 1.107.877.996 1.47.396.054.775.241 1.122.634-.275.347-.609.609-1.122.617.224.92-.391 1.31-.996 1.525.191-.675.316-1.452-.832-1.452-.838 0-1.498-.146-1.883-.69-.023.726-.09 3.592-.09 3.592-.049 1.078 1.441 1.047 2.389.726-.357 1.241-1.09 1.912-2.788 1.743.412.171.852.56.852 1.307 0 1.009-.82 2.129-1.359 2.46l-.268-10.518z\"></path>\r\n                <path d=\"M14.444 83.013c0 2.698 2.42 4.083 4.323 4.083 2.563 0 3.927-1.531 3.927-3.539 0-1.136-.208-1.85-.731-2.939 0 0-4.228-8.793-5.876-12.193-.204-.424-.271-.907-.271-1.615 0-1.092 1.062-1.987 2.173-2.014 1.014-.025 2.118.946 2.118 2.05 0 1.343-.698 1.942-1.413 1.942-.88 0-1.231-.363-1.231-.98 0-.43.209-.617.508-.617.754 0 .543 1.016.543 1.016.374-.082.683-.465.505-.942.287-.064.543-.217.735-.436-.203-.197-.434-.349-.735-.399.179-.585-.058-.869-.568-.99.102.225.106.431.071.627-.803-.229-2.035.134-2.035 1.523 0 1.38.956 2.54 2.75 2.251-.427.204-.644.621-.687 1.089.326-.127.687-.147.687-.147-.209.372-.5.69-.489 1.416.333-.151.643-.431 1.069-.254-.669 1.318.153 3.129 2.245 3.557-.765-.897-1.141-1.866-1.141-2.831 0-3.126.868-3.651.868-5.825 0-.909-.467-1.891-1.393-2.558v.036c.613-.163 1.004-.466 1.23-.875-1.399-.397-3.432-.39-4.524.04-1.255.146-2.132 1.108-2.39 1.598-.258.488-.758 2.255 0 3.845.832 1.741 4.751 10.052 5.973 12.666.26.554.417 1.142.417 1.779 0 1.6-1.466 2.158-2.299 2.158-.996 0-2.009-.758-2.009-1.706 0-.599.327-.96.797-.96 1.124 0 1.056.956.832 1.559.701-.314 1.107-.877.996-1.47.396-.054.775-.241 1.122-.634-.275-.346-.609-.609-1.122-.617.224-.92-.391-1.308-.996-1.525.191.676.316 1.452-.832 1.452-.838 0-1.498.146-1.883.69a874.49 874.49 0 01-.09-3.592c-.049-1.078 1.441-1.047 2.389-.726-.357-1.241-1.09-1.912-2.788-1.743.412-.171.852-.56.852-1.307 0-1.009-.82-2.127-1.359-2.46l-.268 10.518z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M14.712 6.629s-1.279-1.073-1.713-.534c-.698.867 2.147 5.185 2.147 6.704 0 2.497-1.665 3.175-3.721 3.531-1.379.24-3.626-.1-3.626-.1.422-.569.697-.736 1.411-.781-.795-.412-1.602-1.307-1.602-2.699 0-2.147.884-3.032.884-5.453 0-1.342-1.102-3.051-1.102-3.051 1.947.195 2.911 1.997 2.363 3.437a.952.952 0 00.832-.254c.142.398-.082.862-.383 1.261.243.13.421.053.806-.028-.036.412-.282.849-.885 1.26 1.749-.454 2.826.766 2.826 2.042 0 .965-.675 1.655-1.336 1.655-.214 0-.528-.088-.704-.22-.124.266-.06.62.067.886-.483-.127-.79-.415-.571-1.013-.372-.034-.668-.16-.87-.4.204-.261.514-.411.87-.4-.271-.558.031-.871.469-1.124 0 0-.279 1.124.436 1.124.319 0 .614-.103.614-.578 0-.412-.362-.981-1.194-.945-.832.035-1.508.573-1.508 1.903 0 1.226.99 1.836 2.293 1.875 1.174.037 2.062-.6 2.062-1.813 0-1.613-2.33-5.291-2.33-6.729 0-1.079.971-1.681 1.921-1.681 1.23 0 2.269 1.219 2.269 1.219l-.724.906z\"></path>\r\n                <path d=\"M14.982 35.796c0 2.696-2.421 4.082-4.324 4.082-2.564 0-3.928-1.533-3.928-3.539 0-1.136.208-1.851.732-2.939 0 0 4.229-8.792 5.875-12.193.205-.424.271-.908.271-1.615 0-1.094-1.061-1.987-2.173-2.015-1.013-.025-2.118.947-2.118 2.051 0 1.343.698 1.942 1.413 1.942.88 0 1.232-.363 1.232-.98 0-.432-.21-.617-.509-.617-.754 0-.541 1.016-.541 1.016-.376-.082-.685-.466-.507-.944a1.357 1.357 0 01-.735-.435c.203-.197.435-.348.735-.4-.178-.583.058-.868.569-.988a1.009 1.009 0 00-.072.625c.804-.229 2.035.136 2.035 1.525 0 1.38-.956 2.54-2.75 2.251.427.204.644.621.687 1.087-.325-.127-.687-.145-.687-.145.209.37.5.69.489 1.416-.333-.152-.643-.431-1.068-.256.668 1.318-.154 3.129-2.244 3.558.764-.898 1.139-1.867 1.139-2.83 0-3.126-.868-3.653-.868-5.825 0-.91.467-1.891 1.393-2.559v.037c-.613-.164-1.004-.466-1.23-.876 1.399-.397 3.433-.39 4.524.04 1.255.145 2.132 1.11 2.39 1.597.258.489.76 2.257 0 3.847a3469.082 3469.082 0 00-5.973 12.665 4.144 4.144 0 00-.417 1.779c0 1.6 1.466 2.158 2.299 2.158.996 0 2.009-.757 2.009-1.705 0-.6-.325-.962-.797-.962-1.124 0-1.055.958-.832 1.561-.701-.315-1.107-.878-.996-1.469-.396-.054-.773-.242-1.122-.636.275-.345.609-.608 1.122-.617-.224-.919.391-1.307.996-1.525-.19.677-.316 1.453.832 1.453.838 0 1.498.144 1.884.689.022-.726.089-3.593.089-3.593.049-1.078-1.441-1.045-2.388-.726.358-1.239 1.089-1.911 2.787-1.742-.412-.172-.85-.559-.85-1.306 0-1.01.818-2.129 1.357-2.46l.27 10.518z\"></path>\r\n                <path d=\"M14.982 35.796c0 2.696-2.421 4.082-4.324 4.082-2.564 0-3.928-1.533-3.928-3.539 0-1.136.208-1.851.732-2.939 0 0 4.229-8.792 5.875-12.193.205-.424.271-.908.271-1.615 0-1.094-1.061-1.987-2.173-2.015-1.013-.025-2.118.947-2.118 2.051 0 1.343.698 1.942 1.413 1.942.88 0 1.232-.363 1.232-.98 0-.432-.21-.617-.509-.617-.754 0-.541 1.016-.541 1.016-.376-.082-.685-.466-.507-.944a1.357 1.357 0 01-.735-.435c.203-.197.435-.348.735-.4-.178-.583.058-.868.569-.988a1.009 1.009 0 00-.072.625c.804-.229 2.035.136 2.035 1.525 0 1.38-.956 2.54-2.75 2.251.427.204.644.621.687 1.087-.325-.127-.687-.145-.687-.145.209.37.5.69.489 1.416-.333-.152-.643-.431-1.068-.256.668 1.318-.154 3.129-2.244 3.558.764-.898 1.139-1.867 1.139-2.83 0-3.126-.868-3.653-.868-5.825 0-.91.467-1.891 1.393-2.559v.037c-.613-.164-1.004-.466-1.23-.876 1.399-.397 3.433-.39 4.524.04 1.255.145 2.132 1.11 2.39 1.597.258.489.76 2.257 0 3.847a3469.082 3469.082 0 00-5.973 12.665 4.144 4.144 0 00-.417 1.779c0 1.6 1.466 2.158 2.299 2.158.996 0 2.009-.757 2.009-1.705 0-.6-.325-.962-.797-.962-1.124 0-1.055.958-.832 1.561-.701-.315-1.107-.878-.996-1.469-.396-.054-.773-.242-1.122-.636.275-.345.609-.608 1.122-.617-.224-.919.391-1.307.996-1.525-.19.677-.316 1.453.832 1.453.838 0 1.498.144 1.884.689.022-.726.089-3.593.089-3.593.049-1.078-1.441-1.045-2.388-.726.358-1.239 1.089-1.911 2.787-1.742-.412-.172-.85-.559-.85-1.306 0-1.01.818-2.129 1.357-2.46l.27 10.518z\"></path>\r\n                <path d=\"M14.982 43.884c0-2.697-2.421-4.082-4.324-4.082-2.564 0-3.928 1.533-3.928 3.538 0 1.137.208 1.851.732 2.939 0 0 4.229 8.793 5.875 12.194.205.423.271.906.271 1.614 0 1.093-1.061 1.987-2.173 2.013-1.013.027-2.118-.944-2.118-2.049 0-1.343.698-1.942 1.413-1.942.88 0 1.232.363 1.232.98 0 .431-.21.617-.509.617-.754 0-.541-1.015-.541-1.015-.376.081-.685.465-.507.942a1.37 1.37 0 00-.735.436c.203.195.435.347.735.399-.178.584.058.87.569.989a1.011 1.011 0 01-.072-.626c.804.229 2.035-.135 2.035-1.525 0-1.378-.956-2.539-2.75-2.249.427-.204.644-.621.687-1.087a2.543 2.543 0 01-.687.143c.209-.37.5-.688.489-1.414-.333.149-.643.43-1.068.253.668-1.317-.154-3.128-2.244-3.556.764.897 1.139 1.866 1.139 2.83 0 3.127-.868 3.652-.868 5.825 0 .91.467 1.892 1.393 2.559v-.036c-.613.164-1.004.465-1.23.874 1.399.396 3.433.389 4.524-.041 1.255-.144 2.132-1.107 2.39-1.596.258-.488.76-2.255 0-3.846A3469.082 3469.082 0 018.739 45.3a4.141 4.141 0 01-.417-1.779c0-1.6 1.466-2.158 2.299-2.158.996 0 2.009.758 2.009 1.704 0 .601-.325.962-.797.962-1.124 0-1.055-.958-.832-1.559-.701.314-1.107.875-.996 1.469-.396.054-.773.242-1.122.635.275.346.609.607 1.122.617-.224.92.391 1.308.996 1.523-.19-.674-.316-1.45.832-1.45.838 0 1.498-.147 1.884-.69.022.726.089 3.592.089 3.592.049 1.078-1.441 1.047-2.388.726.358 1.241 1.089 1.912 2.787 1.741-.412.173-.85.56-.85 1.307 0 1.011.818 2.131 1.357 2.46l.27-10.516z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M14.712 6.629s-1.279-1.073-1.713-.534c-.698.867 2.147 5.185 2.147 6.704 0 2.497-1.665 3.175-3.721 3.531-1.379.24-3.626-.1-3.626-.1.422-.569.697-.736 1.411-.781-.795-.412-1.602-1.307-1.602-2.699 0-2.147.884-3.032.884-5.453 0-1.342-1.102-3.051-1.102-3.051 1.947.195 2.911 1.997 2.363 3.437a.952.952 0 00.832-.254c.142.398-.082.862-.383 1.261.243.13.421.053.806-.028-.036.412-.282.849-.885 1.26 1.749-.454 2.826.766 2.826 2.042 0 .965-.675 1.655-1.336 1.655-.214 0-.528-.088-.704-.22-.124.266-.06.62.067.886-.483-.127-.79-.415-.571-1.013-.372-.034-.668-.16-.87-.4.204-.261.514-.411.87-.4-.271-.558.031-.871.469-1.124 0 0-.279 1.124.436 1.124.319 0 .614-.103.614-.578 0-.412-.362-.981-1.194-.945-.832.035-1.508.573-1.508 1.903 0 1.226.99 1.836 2.293 1.875 1.174.037 2.062-.6 2.062-1.813 0-1.613-2.33-5.291-2.33-6.729 0-1.079.971-1.681 1.921-1.681 1.23 0 2.269 1.219 2.269 1.219l-.724.906z\"></path>\r\n                <path d=\"M14.982 35.796c0 2.696-2.421 4.082-4.324 4.082-2.564 0-3.928-1.533-3.928-3.539 0-1.136.208-1.851.732-2.939 0 0 4.229-8.792 5.875-12.193.205-.424.271-.908.271-1.615 0-1.094-1.061-1.987-2.173-2.015-1.013-.025-2.118.947-2.118 2.051 0 1.343.698 1.942 1.413 1.942.88 0 1.232-.363 1.232-.98 0-.432-.21-.617-.509-.617-.754 0-.541 1.016-.541 1.016-.376-.082-.685-.466-.507-.944a1.357 1.357 0 01-.735-.435c.203-.197.435-.348.735-.4-.178-.583.058-.868.569-.988a1.009 1.009 0 00-.072.625c.804-.229 2.035.136 2.035 1.525 0 1.38-.956 2.54-2.75 2.251.427.204.644.621.687 1.087-.325-.127-.687-.145-.687-.145.209.37.5.69.489 1.416-.333-.152-.643-.431-1.068-.256.668 1.318-.154 3.129-2.244 3.558.764-.898 1.139-1.867 1.139-2.83 0-3.126-.868-3.653-.868-5.825 0-.91.467-1.891 1.393-2.559v.037c-.613-.164-1.004-.466-1.23-.876 1.399-.397 3.433-.39 4.524.04 1.255.145 2.132 1.11 2.39 1.597.258.489.76 2.257 0 3.847a3469.082 3469.082 0 00-5.973 12.665 4.144 4.144 0 00-.417 1.779c0 1.6 1.466 2.158 2.299 2.158.996 0 2.009-.757 2.009-1.705 0-.6-.325-.962-.797-.962-1.124 0-1.055.958-.832 1.561-.701-.315-1.107-.878-.996-1.469-.396-.054-.773-.242-1.122-.636.275-.345.609-.608 1.122-.617-.224-.919.391-1.307.996-1.525-.19.677-.316 1.453.832 1.453.838 0 1.498.144 1.884.689.022-.726.089-3.593.089-3.593.049-1.078-1.441-1.045-2.388-.726.358-1.239 1.089-1.911 2.787-1.742-.412-.172-.85-.559-.85-1.306 0-1.01.818-2.129 1.357-2.46l.27 10.518z\"></path>\r\n                <path d=\"M14.982 35.796c0 2.696-2.421 4.082-4.324 4.082-2.564 0-3.928-1.533-3.928-3.539 0-1.136.208-1.851.732-2.939 0 0 4.229-8.792 5.875-12.193.205-.424.271-.908.271-1.615 0-1.094-1.061-1.987-2.173-2.015-1.013-.025-2.118.947-2.118 2.051 0 1.343.698 1.942 1.413 1.942.88 0 1.232-.363 1.232-.98 0-.432-.21-.617-.509-.617-.754 0-.541 1.016-.541 1.016-.376-.082-.685-.466-.507-.944a1.357 1.357 0 01-.735-.435c.203-.197.435-.348.735-.4-.178-.583.058-.868.569-.988a1.009 1.009 0 00-.072.625c.804-.229 2.035.136 2.035 1.525 0 1.38-.956 2.54-2.75 2.251.427.204.644.621.687 1.087-.325-.127-.687-.145-.687-.145.209.37.5.69.489 1.416-.333-.152-.643-.431-1.068-.256.668 1.318-.154 3.129-2.244 3.558.764-.898 1.139-1.867 1.139-2.83 0-3.126-.868-3.653-.868-5.825 0-.91.467-1.891 1.393-2.559v.037c-.613-.164-1.004-.466-1.23-.876 1.399-.397 3.433-.39 4.524.04 1.255.145 2.132 1.11 2.39 1.597.258.489.76 2.257 0 3.847a3469.082 3469.082 0 00-5.973 12.665 4.144 4.144 0 00-.417 1.779c0 1.6 1.466 2.158 2.299 2.158.996 0 2.009-.757 2.009-1.705 0-.6-.325-.962-.797-.962-1.124 0-1.055.958-.832 1.561-.701-.315-1.107-.878-.996-1.469-.396-.054-.773-.242-1.122-.636.275-.345.609-.608 1.122-.617-.224-.919.391-1.307.996-1.525-.19.677-.316 1.453.832 1.453.838 0 1.498.144 1.884.689.022-.726.089-3.593.089-3.593.049-1.078-1.441-1.045-2.388-.726.358-1.239 1.089-1.911 2.787-1.742-.412-.172-.85-.559-.85-1.306 0-1.01.818-2.129 1.357-2.46l.27 10.518z\"></path>\r\n                <path d=\"M14.982 35.796c0 2.696-2.421 4.082-4.324 4.082-2.564 0-3.928-1.533-3.928-3.539 0-1.136.208-1.851.732-2.939 0 0 4.229-8.792 5.875-12.193.205-.424.271-.908.271-1.615 0-1.094-1.061-1.987-2.173-2.015-1.013-.025-2.118.947-2.118 2.051 0 1.343.698 1.942 1.413 1.942.88 0 1.232-.363 1.232-.98 0-.432-.21-.617-.509-.617-.754 0-.541 1.016-.541 1.016-.376-.082-.685-.466-.507-.944a1.357 1.357 0 01-.735-.435c.203-.197.435-.348.735-.4-.178-.583.058-.868.569-.988a1.009 1.009 0 00-.072.625c.804-.229 2.035.136 2.035 1.525 0 1.38-.956 2.54-2.75 2.251.427.204.644.621.687 1.087-.325-.127-.687-.145-.687-.145.209.37.5.69.489 1.416-.333-.152-.643-.431-1.068-.256.668 1.318-.154 3.129-2.244 3.558.764-.898 1.139-1.867 1.139-2.83 0-3.126-.868-3.653-.868-5.825 0-.91.467-1.891 1.393-2.559v.037c-.613-.164-1.004-.466-1.23-.876 1.399-.397 3.433-.39 4.524.04 1.255.145 2.132 1.11 2.39 1.597.258.489.76 2.257 0 3.847a3469.082 3469.082 0 00-5.973 12.665 4.144 4.144 0 00-.417 1.779c0 1.6 1.466 2.158 2.299 2.158.996 0 2.009-.757 2.009-1.705 0-.6-.325-.962-.797-.962-1.124 0-1.055.958-.832 1.561-.701-.315-1.107-.878-.996-1.469-.396-.054-.773-.242-1.122-.636.275-.345.609-.608 1.122-.617-.224-.919.391-1.307.996-1.525-.19.677-.316 1.453.832 1.453.838 0 1.498.144 1.884.689.022-.726.089-3.593.089-3.593.049-1.078-1.441-1.045-2.388-.726.358-1.239 1.089-1.911 2.787-1.742-.412-.172-.85-.559-.85-1.306 0-1.01.818-2.129 1.357-2.46l.27 10.518z\"></path>\r\n                <path d=\"M14.982 43.884c0-2.697-2.421-4.082-4.324-4.082-2.564 0-3.928 1.533-3.928 3.538 0 1.137.208 1.851.732 2.939 0 0 4.229 8.793 5.875 12.194.205.423.271.906.271 1.614 0 1.093-1.061 1.987-2.173 2.013-1.013.027-2.118-.944-2.118-2.049 0-1.343.698-1.942 1.413-1.942.88 0 1.232.363 1.232.98 0 .431-.21.617-.509.617-.754 0-.541-1.015-.541-1.015-.376.081-.685.465-.507.942a1.37 1.37 0 00-.735.436c.203.195.435.347.735.399-.178.584.058.87.569.989a1.011 1.011 0 01-.072-.626c.804.229 2.035-.135 2.035-1.525 0-1.378-.956-2.539-2.75-2.249.427-.204.644-.621.687-1.087a2.543 2.543 0 01-.687.143c.209-.37.5-.688.489-1.414-.333.149-.643.43-1.068.253.668-1.317-.154-3.128-2.244-3.556.764.897 1.139 1.866 1.139 2.83 0 3.127-.868 3.652-.868 5.825 0 .91.467 1.892 1.393 2.559v-.036c-.613.164-1.004.465-1.23.874 1.399.396 3.433.389 4.524-.041 1.255-.144 2.132-1.107 2.39-1.596.258-.488.76-2.255 0-3.846A3469.082 3469.082 0 018.739 45.3a4.141 4.141 0 01-.417-1.779c0-1.6 1.466-2.158 2.299-2.158.996 0 2.009.758 2.009 1.704 0 .601-.325.962-.797.962-1.124 0-1.055-.958-.832-1.559-.701.314-1.107.875-.996 1.469-.396.054-.773.242-1.122.635.275.346.609.607 1.122.617-.224.92.391 1.308.996 1.523-.19-.674-.316-1.45.832-1.45.838 0 1.498-.147 1.884-.69.022.726.089 3.592.089 3.592.049 1.078-1.441 1.047-2.388.726.358 1.241 1.089 1.912 2.787 1.741-.412.173-.85.56-.85 1.307 0 1.011.818 2.131 1.357 2.46l.27-10.516z\"></path>\r\n              </g>\r\n              <g\r\n                fill=\"#fec50c\"\r\n                fillRule=\"evenodd\"\r\n                stroke=\"none\"\r\n                strokeWidth=\"0.133\"\r\n              >\r\n                <path d=\"M14.712 6.629s1.279-1.073 1.713-.534c.698.867-2.147 5.185-2.147 6.704 0 2.497 1.666 3.175 3.722 3.531 1.378.24 3.625-.1 3.625-.1-.422-.569-.697-.736-1.411-.781.795-.412 1.602-1.307 1.602-2.699 0-2.147-.882-3.032-.882-5.453 0-1.342 1.1-3.051 1.1-3.051-1.947.195-2.911 1.997-2.361 3.437a.955.955 0 01-.834-.254c-.142.398.083.862.383 1.261-.242.13-.42.053-.806-.028.036.412.284.849.885 1.26-1.749-.454-2.826.766-2.826 2.042 0 .965.676 1.655 1.337 1.655.213 0 .527-.088.703-.22.125.266.06.62-.067.886.485-.127.791-.415.571-1.013.373-.034.669-.16.87-.4a1.04 1.04 0 00-.87-.4c.273-.558-.03-.871-.469-1.124 0 0 .279 1.124-.434 1.124-.321 0-.614-.103-.614-.578 0-.412.36-.981 1.192-.945.832.035 1.508.573 1.508 1.903 0 1.226-.989 1.836-2.293 1.875-1.174.037-2.062-.6-2.062-1.813 0-1.613 2.33-5.291 2.33-6.729 0-1.079-.971-1.681-1.919-1.681-1.23 0-2.271 1.219-2.271 1.219l.724.906z\"></path>\r\n                <path d=\"M14.444 35.796c0 2.696 2.42 4.082 4.323 4.082 2.563 0 3.927-1.533 3.927-3.539 0-1.136-.208-1.851-.731-2.939 0 0-4.228-8.792-5.876-12.193-.204-.424-.271-.908-.271-1.615 0-1.094 1.062-1.987 2.173-2.015 1.014-.025 2.118.947 2.118 2.051 0 1.343-.698 1.942-1.413 1.942-.88 0-1.231-.363-1.231-.98 0-.432.209-.617.508-.617.754 0 .543 1.016.543 1.016.374-.082.683-.466.505-.944.287-.062.543-.215.735-.435-.203-.197-.434-.348-.735-.4.179-.583-.058-.868-.568-.988.102.223.106.431.071.625-.803-.229-2.035.136-2.035 1.525 0 1.38.956 2.54 2.75 2.251-.427.204-.644.621-.687 1.087.326-.127.687-.145.687-.145-.209.37-.5.69-.489 1.416.333-.152.643-.431 1.069-.256-.669 1.318.153 3.129 2.245 3.558-.765-.898-1.141-1.867-1.141-2.83 0-3.126.868-3.653.868-5.825 0-.91-.467-1.891-1.393-2.559v.037c.613-.164 1.004-.466 1.23-.876-1.399-.397-3.432-.39-4.524.04-1.255.145-2.132 1.11-2.39 1.597-.258.489-.758 2.257 0 3.847.832 1.742 4.751 10.052 5.973 12.665.26.554.417 1.143.417 1.779 0 1.6-1.466 2.158-2.299 2.158-.996 0-2.009-.757-2.009-1.705 0-.6.327-.962.797-.962 1.124 0 1.056.958.832 1.561.701-.315 1.107-.878.996-1.469.396-.054.775-.242 1.122-.636-.275-.345-.609-.608-1.122-.617.224-.919-.391-1.307-.996-1.525.191.677.316 1.453-.832 1.453-.838 0-1.498.144-1.883.689-.023-.726-.09-3.593-.09-3.593-.049-1.078 1.441-1.045 2.389-.726-.357-1.239-1.09-1.911-2.788-1.742.412-.172.852-.559.852-1.306 0-1.01-.82-2.129-1.359-2.46l-.268 10.518z\"></path>\r\n                <path d=\"M14.444 35.796c0 2.696 2.42 4.082 4.323 4.082 2.563 0 3.927-1.533 3.927-3.539 0-1.136-.208-1.851-.731-2.939 0 0-4.228-8.792-5.876-12.193-.204-.424-.271-.908-.271-1.615 0-1.094 1.062-1.987 2.173-2.015 1.014-.025 2.118.947 2.118 2.051 0 1.343-.698 1.942-1.413 1.942-.88 0-1.231-.363-1.231-.98 0-.432.209-.617.508-.617.754 0 .543 1.016.543 1.016.374-.082.683-.466.505-.944.287-.062.543-.215.735-.435-.203-.197-.434-.348-.735-.4.179-.583-.058-.868-.568-.988.102.223.106.431.071.625-.803-.229-2.035.136-2.035 1.525 0 1.38.956 2.54 2.75 2.251-.427.204-.644.621-.687 1.087.326-.127.687-.145.687-.145-.209.37-.5.69-.489 1.416.333-.152.643-.431 1.069-.256-.669 1.318.153 3.129 2.245 3.558-.765-.898-1.141-1.867-1.141-2.83 0-3.126.868-3.653.868-5.825 0-.91-.467-1.891-1.393-2.559v.037c.613-.164 1.004-.466 1.23-.876-1.399-.397-3.432-.39-4.524.04-1.255.145-2.132 1.11-2.39 1.597-.258.489-.758 2.257 0 3.847.832 1.742 4.751 10.052 5.973 12.665.26.554.417 1.143.417 1.779 0 1.6-1.466 2.158-2.299 2.158-.996 0-2.009-.757-2.009-1.705 0-.6.327-.962.797-.962 1.124 0 1.056.958.832 1.561.701-.315 1.107-.878.996-1.469.396-.054.775-.242 1.122-.636-.275-.345-.609-.608-1.122-.617.224-.919-.391-1.307-.996-1.525.191.677.316 1.453-.832 1.453-.838 0-1.498.144-1.883.689-.023-.726-.09-3.593-.09-3.593-.049-1.078 1.441-1.045 2.389-.726-.357-1.239-1.09-1.911-2.788-1.742.412-.172.852-.559.852-1.306 0-1.01-.82-2.129-1.359-2.46l-.268 10.518z\"></path>\r\n                <path d=\"M14.444 43.884c0-2.697 2.42-4.082 4.323-4.082 2.563 0 3.927 1.533 3.927 3.538 0 1.137-.208 1.851-.731 2.939 0 0-4.228 8.793-5.876 12.194-.204.423-.271.906-.271 1.614 0 1.093 1.062 1.987 2.173 2.013 1.014.027 2.118-.944 2.118-2.049 0-1.343-.698-1.942-1.413-1.942-.88 0-1.231.363-1.231.98 0 .431.209.617.508.617.754 0 .543-1.015.543-1.015.374.081.683.465.505.942.287.063.543.217.735.436-.203.195-.434.347-.735.399.179.584-.058.87-.568.989.102-.224.106-.43.071-.626-.803.229-2.035-.135-2.035-1.525 0-1.378.956-2.539 2.75-2.249-.427-.204-.644-.621-.687-1.087.326.125.687.143.687.143-.209-.37-.5-.688-.489-1.414.333.149.643.43 1.069.253-.669-1.317.153-3.128 2.245-3.556-.765.897-1.141 1.866-1.141 2.83 0 3.127.868 3.652.868 5.825 0 .91-.467 1.892-1.393 2.559v-.036c.613.164 1.004.465 1.23.874-1.399.396-3.432.389-4.524-.041-1.255-.144-2.132-1.107-2.39-1.596-.258-.488-.758-2.255 0-3.846.832-1.741 4.751-10.053 5.973-12.665.26-.554.417-1.142.417-1.779 0-1.6-1.466-2.158-2.299-2.158-.996 0-2.009.758-2.009 1.704 0 .601.327.962.797.962 1.124 0 1.056-.958.832-1.559.701.314 1.107.875.996 1.469.396.054.775.242 1.122.635-.275.346-.609.607-1.122.617.224.92-.391 1.308-.996 1.523.191-.674.316-1.45-.832-1.45-.838 0-1.498-.147-1.883-.69-.023.726-.09 3.592-.09 3.592-.049 1.078 1.441 1.047 2.389.726-.357 1.241-1.09 1.912-2.788 1.741.412.173.852.56.852 1.307 0 1.011-.82 2.131-1.359 2.46l-.268-10.516z\"></path>\r\n              </g>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    );\r\n  }\r\n\r\nexport function ENLang(w:number=48) {\r\n    return (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width={w}\r\n        height={w*koef}\r\n        fillRule=\"evenodd\"\r\n        strokeLinejoin=\"bevel\"\r\n        strokeWidth=\"0.501\"\r\n        overflow=\"visible\"\r\n        viewBox=\"0 0 192 127.5\"\r\n      >\r\n        <g\r\n          fill=\"none\"\r\n          stroke=\"#000\"\r\n          fontFamily=\"Times New Roman\"\r\n          fontSize=\"16\"\r\n          transform=\"scale(1 -1)\"\r\n        >\r\n          <g transform=\"translate(0 -127.5)\">\r\n            <g\r\n              strokeLinejoin=\"miter\"\r\n              strokeMiterlimit=\"79.84\"\r\n              strokeWidth=\"0.499\"\r\n            >\r\n              <path\r\n                fill=\"#d80028\"\r\n                stroke=\"none\"\r\n                d=\"M.317 76.042H84.32v51.376h23.623V75.666h83.623v-24h-83.625V.292H83.556v51.377H.392L.317 76.042z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#0052b4\"\r\n                stroke=\"#0052b4\"\r\n                d=\"M.692 86.167v24.002l42-23.627-42-.375z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#d80028\"\r\n                stroke=\"none\"\r\n                d=\"M54.317 86.167h20.25L.692 127.042v-11.25l53.625-29.625z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#0052b4\"\r\n                stroke=\"none\"\r\n                d=\"M20.904 127.549h54.188V97.736l-54.188 29.813z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#0052b4\"\r\n                stroke=\"#0052b4\"\r\n                d=\"M192.092 42.163V18.161l-42 23.627 42 .375z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#d80028\"\r\n                stroke=\"none\"\r\n                d=\"M138.467 42.163h-20.25l73.875-40.875v11.25l-53.625 29.625z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#0052b4\"\r\n                stroke=\"none\"\r\n                d=\"M171.88.781h-54.188v29.813L171.88.781z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#d80028\"\r\n                stroke=\"none\"\r\n                d=\"M.807.328v12.003l53.472 29.906h20.532L.807.328z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#0052b4\"\r\n                stroke=\"#0052b4\"\r\n                d=\"M.654 23.206v18.656h33.094L.654 23.206zM11.06.893h64.033v35.438L11.06.893z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#d80028\"\r\n                stroke=\"none\"\r\n                d=\"M191.525 127.874v-12.003l-53.472-29.906h-20.532l74.004 41.909z\"\r\n              ></path>\r\n              <path\r\n                fill=\"#0052b4\"\r\n                stroke=\"#0052b4\"\r\n                d=\"M191.678 104.996V86.34h-33.094l33.094 18.656zM181.272 127.309h-64.033V91.871l64.033 35.438z\"\r\n              ></path>\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    );\r\n  }  ","import React from 'react';\r\nimport {LangEnum} from '../localization';\r\nimport { Row } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { EnumColors } from '../commonTypes';\r\nimport {ACT_CHANGE_LANG} from '../reducers/appSettings';\r\nimport * as lngImg from '../Images/langImgs';\r\nimport { locale } from 'devextreme/localization';\r\n\r\ninterface SelLangProps {\r\n    Language:LangEnum,\r\n    actions:{\r\n        ChangeLang(context:any):void\r\n    }\r\n} \r\n\r\ntype MenuItemState ={\r\n    hovered: boolean;\r\n}\r\n\r\nclass SelectLng extends React.Component<SelLangProps,MenuItemState> {\r\n    constructor(props:any) {\r\n        super(props);\r\n        this.state = {\r\n            hovered: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n\r\n    handleOnHover(isEnter:boolean) {\r\n        this.setState({ hovered: isEnter });\r\n    }\r\n\r\n    getStyle():object {\r\n        return {\r\n            border: this.state.hovered ? \"solid 1px\" : \"solid 1px\",\r\n            borderColor: this.state.hovered ? \"red\" : \"white\",\r\n            borderRadius: \"4px\",\r\n            margin: \"1px\",\r\n            alignItems: \"center\",\r\n            fontSize: \"14px\",\r\n            width:\"60px\",\r\n            height:\"34px\",\r\n            position:\"relative\",\r\n            top: \"0px\"\r\n        };\r\n    }\r\n\r\n\r\n    renderImg(){\r\n        switch (this.props.Language){\r\n            case LangEnum.ru:\r\n                return lngImg.RUlang(20);\r\n            case LangEnum.kz:\r\n                return lngImg.KZLang(20);\r\n            case LangEnum.en:\r\n                return lngImg.ENLang(20);\r\n        }\r\n    }\r\n \r\n    render() {\r\n        return (\r\n            <div onMouseEnter={() => this.handleOnHover(true)} onMouseLeave={() => this.handleOnHover(false)} onClick={()=>this.props.actions.ChangeLang(this)}>               \r\n                <Row style={this.getStyle()}>\r\n                    <div style={{ width: \"fit-content\", marginLeft:\"5px\" }}>\r\n                        {this.renderImg()}\r\n                    </div>                    \r\n                    <div style={{ textAlign: \"center\", borderRadius: \"5px\", margin: \"5px\" }}>\r\n                        {this.props.Language.toString().toUpperCase()}\r\n                    </div>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(storePar:any,ownProps?:any) {\r\n    let store = storePar;\r\n    let result = store.AppSettings;\r\n    return result\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch:any) {\r\n    return {\r\n        actions: {\r\n            ChangeLang: (jsxContext:any)=>{\r\n                let currLang = jsxContext.props.Language;\r\n                let newLang = LangEnum.ru;\r\n                if(currLang === LangEnum.ru){\r\n                    newLang = LangEnum.kz;\r\n                }\r\n                if(currLang === LangEnum.kz){\r\n                    newLang = LangEnum.en;\r\n                }\r\n                dispatch({\r\n                    type: ACT_CHANGE_LANG,\r\n                    payload: newLang\r\n                });\r\n\r\n                locale(newLang);            //Меняем текущий язык для DevExtreme\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const SelectLang = connect(mapStateToProps, mapDispatchToProps)(SelectLng);","import * as React from 'react';\r\nimport { Popup, Position } from 'devextreme-react/popup';\r\nimport axios, { AxiosPromise } from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport * as dbwrap from '../DbWrapper';\r\nimport {ACT_JWT_TESTRESULT_CHANGED,ACT_ENABlEDGUIITEMS_CHANGED} from '../reducers/appSettings';\r\n\r\nimport Form, {\r\n    Item,\r\n    SimpleItem,\r\n    Label,\r\n} from 'devextreme-react/form';\r\n\r\nimport Button from 'devextreme-react/button';\r\nimport getLocMsg, { LocMsgId } from '../localization';\r\nimport { triggerHandler } from 'devextreme/events';\r\nimport { MessageType, errorParser, ErrorEnum, getProp } from '../Errors';\r\nimport { ErrorMsg, ErrorMsgProps, ErrorMsgFromDict } from '../ReusableComponents/DxStyleSimple';\r\n\r\n\r\ninterface ISessionSettings {\r\n    lastLogin: string,\r\n    lastRoleId: number,\r\n    lastJWT: string;\r\n}\r\n\r\ninterface ILoginDlgProps {\r\n    JWTTestResult?:boolean\r\n    actions: {\r\n        SetJWTTestResult(newResult?:boolean):void,\r\n        UpdateEnabledGuiItems(items:number[]):void\r\n    }\r\n}\r\n\r\ninterface ILoginDlgState {\r\n    login: string,\r\n    password: string,\r\n    error: ErrorEnum,\r\n}\r\n\r\nconst titleTmpl = (p1: any, p2: any) => {\r\n    return (\r\n        <div>\r\n            <span className=\"dx-icon-key\" style={{ fontSize: \"xx-large\", display: \"flex\" }} >\r\n                <h3 className=\"dx-treelist-column-chooser\" style={{ marginLeft: \"20px\" }}>{getLocMsg(LocMsgId.PopupTitle_Login)}</h3>\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport class LoginDialogClass extends React.Component<ILoginDlgProps, ILoginDlgState> {\r\n    JWT: string = \"\";\r\n    constructor(props: any) {\r\n        super(props);\r\n        let lastLogin = \"\";\r\n        if (localStorage.lastLogin) {\r\n            lastLogin = localStorage.lastLogin;\r\n        }\r\n        this.state = {\r\n            login: lastLogin,\r\n            password: \"\",\r\n            error:ErrorEnum.NoError\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        if (localStorage.lastJWT) {\r\n            this.JWT = localStorage.lastJWT;\r\n            this.isJWTAlive()\r\n        } else {\r\n            setTimeout(()=>{\r\n                this.props.actions.SetJWTTestResult(false);\r\n            },1000);\r\n        }\r\n    }\r\n\r\n    isJWTAlive(){\r\n        dbwrap.GetRows(\"Cities\",null)\r\n        .then((result:dbwrap.responseResult)=>{\r\n            this.props.actions.SetJWTTestResult(result.success);\r\n            return dbwrap.GetRows(\"VEnabledMenuObjects\",null)\r\n        })\r\n        .then((result:dbwrap.responseResult)=>{\r\n            this.setEnabledGuiItems(result);\r\n        });\r\n    }\r\n\r\n\r\n    handleFieldChange(e: any, fieldName: string) {\r\n        let newObj = {};\r\n        let newFldValue = e.event.target.value;\r\n        //@ts-ignore\r\n        newObj[fieldName] = newFldValue;\r\n        this.setState(newObj);\r\n    }\r\n\r\n    handleOkBtnClick() {\r\n        this.setState({error:ErrorEnum.NoError});\r\n        this.Login();\r\n    }\r\n\r\n    Login() {\r\n        axios({\r\n            url: \"/api/Account/login\",\r\n            data: { username: this.state.login, password: this.state.password },\r\n            method: \"POST\"\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n            .then((dataObj) => {\r\n                localStorage.lastLogin = this.state.login;\r\n                localStorage.lastJWT = dataObj.accessToken;\r\n                this.props.actions.SetJWTTestResult(true);\r\n                this.setState({ error: ErrorEnum.NoError })\r\n                return dbwrap.GetRows(\"VEnabledMenuObjects\",null)\r\n            })\r\n            .then((result:dbwrap.responseResult)=>{\r\n                this.setEnabledGuiItems(result);\r\n            })\r\n            .catch(err => {\r\n                let parsedErr = errorParser(err);\r\n                if (parsedErr.hasOwnProperty(\"parsedErrId\")) {\r\n                    let errId: ErrorEnum = getProp(parsedErr, \"parsedErrId\");\r\n                    this.setState({ error: errId })\r\n                    return;\r\n                }            }\r\n            );\r\n    }\r\n\r\n    setEnabledGuiItems(result:dbwrap.responseResult){\r\n        if(!result.success){\r\n            //this.setState({ error: result.data.errId })\r\n            return;\r\n        }\r\n        this.props.actions.UpdateEnabledGuiItems(result.data);\r\n    }\r\n\r\n\r\n    render() {\r\n        let visibility = this.props.JWTTestResult === false || this.props.JWTTestResult === undefined;\r\n        let okBtnDisabled = (!this.state.login || !this.state.password);\r\n        let ph = 220;\r\n        if(this.state.error){\r\n            ph=280;\r\n        }\r\n        return (\r\n            <Popup\r\n                visible={visibility}\r\n                dragEnabled={false}\r\n                closeOnOutsideClick={false}\r\n                showCloseButton={false}\r\n                showTitle={true}\r\n                width={500}\r\n                height={ph}\r\n                titleRender={titleTmpl}\r\n                container=\".dx-viewport\">\r\n                <Position at=\"center\" my=\"center\"  />\r\n                <Form formData={this.state}>\r\n                    <SimpleItem dataField={\"login\"} editorType=\"dxTextBox\"\r\n                        editorOptions={{ onInput: (e: any) => this.handleFieldChange(e, \"login\") }}>\r\n                        <Label text={getLocMsg(LocMsgId.FormField_Login)} />\r\n                    </SimpleItem>\r\n                    <SimpleItem dataField={\"password\"} editorType=\"dxTextBox\"\r\n                        editorOptions={{ onInput: (e: any) => this.handleFieldChange(e, \"password\"), mode: \"password\" }}>\r\n                        <Label text={getLocMsg(LocMsgId.FormField_Password)} />\r\n                    </SimpleItem>\r\n                </Form>\r\n                <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginBottom: \"10px\", marginTop: \"10px\" }}>\r\n                    <Button text={getLocMsg(LocMsgId.Button_Ok)} disabled={okBtnDisabled} onClick={() => this.handleOkBtnClick()} />\r\n                </div>\r\n                {ErrorMsgFromDict(this.state.error)}\r\n            </Popup>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) {\r\n    let result = { ...storePar.AppSettings };\r\n    return result\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: any) {\r\n    return {\r\n        actions: {\r\n            SetJWTTestResult(newResult?:boolean){\r\n                dispatch({\r\n                    type: ACT_JWT_TESTRESULT_CHANGED,\r\n                    payload: newResult\r\n                });\r\n\r\n            },\r\n            UpdateEnabledGuiItems(items:number[]){\r\n                dispatch({\r\n                    type:ACT_ENABlEDGUIITEMS_CHANGED,\r\n                    payload:items\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const LoginDialog = connect(mapStateToProps, mapDispatchToProps)(LoginDialogClass);","import * as React from \"react\";\r\nimport axios, { AxiosPromise } from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport Drawer from 'devextreme-react/drawer';\r\nimport Toolbar, { Item } from \"devextreme-react/toolbar\";\r\nimport LinkList from '../components/LinkList';\r\nimport { Route } from \"react-router-dom\";\r\nimport {ACT_JWT_TESTRESULT_CHANGED} from '../reducers/appSettings';\r\n\r\n//import 'devextreme/dist/css/dx.light.css';\r\n\r\nimport Button from 'devextreme-react/button';\r\nimport Icon from \"../Images/AdminService\";\r\nimport { getRoutes } from \"../Routes\";\r\nimport { SelectLang } from '../ReusableComponents/SelectLang';\r\n\r\n//@ts-ignore\r\nimport ruMessages from 'devextreme/localization/messages/ru.json';\r\nimport { loadMessages, locale } from 'devextreme/localization';\r\n\r\nimport { LoginDialog } from '../components/Login';\r\nimport * as dbwrap from '../DbWrapper';\r\n\r\n\r\ninterface MainPageProps {\r\n    hist?: object,\r\n    sidebarItems?: object[],\r\n    JWTTestResult:boolean,\r\n    actions:{\r\n        SetJWTTestResult(newResult?:boolean):void        \r\n    }\r\n}\r\n\r\ninterface MainPageState {\r\n    opened: boolean,\r\n    openedStateMode: any,\r\n    revealMode: any,\r\n    position: any\r\n}\r\n\r\n\r\nclass Root extends React.Component<MainPageProps, MainPageState> {\r\n    constructor(props: MainPageProps) {\r\n        super(props);\r\n\r\n        this.initMessages();\r\n        locale('ru');                   //Язык по умолчанию\r\n\r\n        this.state = {\r\n            opened: true,\r\n            openedStateMode: \"shrink\",\r\n            revealMode: \"slide\",\r\n            position: \"left\"\r\n        };\r\n        this.onOutsideClick = this.onOutsideClick.bind(this);\r\n\r\n    }\r\n\r\n    componentDidUpdate(){\r\n    }\r\n\r\n    onOutsideClick(e: any): boolean {\r\n        this.setState({ opened: false });\r\n        return true;\r\n    }\r\n\r\n    handleLogoutBtnClick(){\r\n        this.Logout();\r\n        this.props.actions.SetJWTTestResult(false);\r\n    }\r\n\r\n    Logout() {\r\n        axios({\r\n            url: \"/api/Account/logout\",\r\n            method: \"POST\"\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n            .then((dataObj) => {\r\n                this.props.actions.SetJWTTestResult(false);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            }\r\n            );\r\n    }  \r\n    initMessages() {                        //Здесь нужно регистрировать все используемые языки\r\n        loadMessages(ruMessages);\r\n    }\r\n   \r\n\r\n    render() {\r\n        const { opened, openedStateMode, position, revealMode } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <Toolbar >\r\n                    <Item widget=\"dxButton\" location=\"before\" options={{ icon: \"menu\", onClick: () => this.setState({ opened: !this.state.opened }) }} />\r\n                    <Item widget=\"dxButton\" location=\"before\" options={{ icon: \"export\", onClick: () => this.handleLogoutBtnClick()}} />\r\n                    <Item location=\"before\" render={() => <SelectLang />} />\r\n                </Toolbar>\r\n                <Drawer id=\"drawer\"\r\n                    opened={opened}\r\n                    openedStateMode={openedStateMode}\r\n                    position={position}\r\n                    revealMode={revealMode}\r\n                    component={LinkList}\r\n                    closeOnOutsideClick={this.onOutsideClick}\r\n                >\r\n                    <div id=\"content\" className=\"dx-theme-background-color\">\r\n                        {getRoutes()}\r\n                    </div>\r\n                </Drawer>\r\n                <LoginDialog />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction mapStateToProps(storePar: any, ownProps?: any) {\r\n    let result = { ...storePar.AppSettings };\r\n    return result\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: any) {\r\n    return {\r\n        actions: {\r\n            SetJWTTestResult(newResult?:boolean){\r\n                dispatch({\r\n                    type: ACT_JWT_TESTRESULT_CHANGED,\r\n                    payload: newResult\r\n                });\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const RootPage = connect(mapStateToProps, mapDispatchToProps)(Root);","import * as React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { SplitPane } from \"react-multi-split-pane\"; \r\nimport {Button} from \"react-bootstrap\"\r\nimport DataGrid from 'react-data-grid';\r\nimport adminServiceImg from './Images/AdminService';\r\nimport {RootPage} from \"./Pages/Root\";\r\n\r\n\r\nexport default () => (\r\n  <div className=\"App\" style={{ minWidth: 768 }}>\r\n    <BrowserRouter>\r\n      <Route path=\"/\" render={({history}):React.ReactNode=>{ return (<RootPage hist={history} />);}} />\r\n    </BrowserRouter>\r\n  </div>\r\n);\r\n","import { LoadingStage } from '../commonTypes';\r\nimport * as actions from '../DbWrapper';\r\nimport { Tables } from '../DTO/Tables';\r\n\r\nexport interface TableStoreItemType {\r\n    tableName: string;\r\n    rows: Array<any>;\r\n    loadingStage: LoadingStage;\r\n    error: object;\r\n    currentRowIndex: number\r\n};\r\n\r\nfunction getTableDflt(tblName: string): TableStoreItemType {\r\n    return { tableName: tblName, rows: [], loadingStage: LoadingStage.undefined, error: {}, currentRowIndex: -1 };\r\n}\r\n\r\nconst defaultState: TableStoreItemType[] = (() => {\r\n    let result: TableStoreItemType[] = [];\r\n    for (let tbl in Tables) {\r\n        result.push(getTableDflt(tbl))\r\n    }\r\n    return result;\r\n})();\r\n\r\ntype DBWrapperPayload = {\r\n    tableName: string;\r\n    rows: Array<any>;\r\n    row: object;\r\n    error: object;\r\n    currentRowIndex: number;\r\n    rowUid: number\r\n}\r\n\r\ninterface TableAction {\r\n    type: string,\r\n    payload: DBWrapperPayload\r\n}\r\n\r\n\r\nfunction reducer(state: Array<TableStoreItemType> = defaultState, action: TableAction) {\r\n    if (\r\n        action.type != actions.ACT_TABLEROWS_REQUEST\r\n        && action.type != actions.ACT_TABLEROWS_RECEIVE\r\n        && action.type != actions.ACT_TABLEROWS_ERROR\r\n        && action.type != actions.ACT_SETCURRENTROW_INDEX\r\n        && action.type != actions.ACT_ROW_ADD\r\n        && action.type != actions.ACT_ROW_UPDATE\r\n        && action.type != actions.ACT_ROW_DELETE) {\r\n        return state;\r\n    }\r\n    let tableName: string = \"\";\r\n    let newTableObj: TableStoreItemType;\r\n    tableName = action.payload.tableName;\r\n    let currTableObjIndex: number = state.findIndex(item => item.tableName === action.payload.tableName);\r\n    if (currTableObjIndex === -1) {\r\n        let newTbl = getTableDflt(tableName);\r\n        state.push(newTbl);\r\n        currTableObjIndex = state.findIndex(item => item.tableName === action.payload.tableName);\r\n    }\r\n    let newState = [...state];\r\n    newTableObj = { ...newState[currTableObjIndex] };\r\n    switch (action.type) {\r\n        case actions.ACT_TABLEROWS_REQUEST:\r\n            newTableObj.loadingStage = LoadingStage.loading;\r\n            newTableObj.currentRowIndex = -1;\r\n            newState[currTableObjIndex] = newTableObj;\r\n            return newState;\r\n        case actions.ACT_TABLEROWS_RECEIVE:\r\n            newTableObj.loadingStage = LoadingStage.loaded;\r\n            newTableObj.rows = action.payload.rows;\r\n            newTableObj.currentRowIndex = 0;\r\n            newState[currTableObjIndex] = newTableObj;\r\n            return newState;\r\n        case actions.ACT_TABLEROWS_ERROR:\r\n            newTableObj.loadingStage = LoadingStage.error;\r\n            //newTableObj.rows = [];\r\n            //newTableObj.currentRowIndex = -1;\r\n            newTableObj.error = action.payload.error;\r\n            newState[currTableObjIndex] = newTableObj;\r\n            return newState;\r\n        case actions.ACT_SETCURRENTROW_INDEX:\r\n            newTableObj.currentRowIndex = action.payload.currentRowIndex;\r\n            newState[currTableObjIndex] = newTableObj;\r\n            return newState;\r\n        case actions.ACT_ROW_ADD:\r\n            newTableObj.rows.push(action.payload.row);\r\n            newState[currTableObjIndex] = newTableObj;\r\n            return newState;\r\n        case actions.ACT_ROW_UPDATE:\r\n            //@ts-ignore\r\n            let rowIndex = newTableObj.rows.findIndex(itm => itm.id === action.payload.row.id);\r\n            newTableObj.rows[rowIndex] = action.payload.row;\r\n            newState[currTableObjIndex] = newTableObj;\r\n            return newState;\r\n        case actions.ACT_ROW_DELETE:\r\n            newTableObj.rows = newTableObj.rows.filter(itm => itm.id != action.payload.rowUid);\r\n            newState[currTableObjIndex] = newTableObj;\r\n            return newState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;\r\n\r\n","import { combineReducers } from 'redux';\r\nimport AppSettings from './appSettings';\r\nimport Table from './tables';\r\nconst reducer = combineReducers({\r\n    AppSettings,\r\n    Table\r\n});\r\n\r\nexport default reducer;","import * as React from \"react\";\r\nimport './css/destyles.css';\r\nimport 'devextreme/dist/css/dx.common.css';\r\nimport 'devextreme/dist/css/dx.light.css';\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport thunk from 'redux-thunk'\r\nimport App from \"./App\";\r\n//import rootReducer from \"./rootReducer\";\r\nimport reducer from './reducers';\r\n\r\n//import \"./styles.css\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nexport const store = createStore(\r\n  reducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  rootElement\r\n);\r\n","import axios, { AxiosPromise } from 'axios';\r\nimport { ErrorEnum, errorParser } from './Errors';\r\nimport { ACT_JWT_TESTRESULT_CHANGED } from './reducers/appSettings';\r\nimport {store} from './index';\r\nexport const ACT_TABLEROWS_REQUEST = 'ACT_TABLEROWS_REQUEST';\r\nexport const ACT_TABLEROWS_RECEIVE = 'ACT_TABLEROWS_RECEIVE';\r\nexport const ACT_TABLEROWS_ERROR = 'ACT_TABLEROWS_ERROR';\r\nexport const ACT_SETCURRENTROW_INDEX = 'ACT_SETCURRENTROW_INDEX';\r\nexport const ACT_ROW_ADD = 'ACT_ROW_ADD';\r\nexport const ACT_ROW_UPDATE = 'ACT_ROW_UPDATE';\r\nexport const ACT_ROW_DELETE = 'ACT_ROW_DELETE';\r\n\r\n\r\n\r\nexport function GetRows(tblName: string, dispatch: any) {\r\n    let result = (dispatch: any) => {\r\n        if (dispatch) {\r\n            dispatch({\r\n                type: ACT_TABLEROWS_REQUEST,\r\n                payload: { tableName: tblName }\r\n            });\r\n        }\r\n        let prefix = \"/api/\" + tblName;\r\n        //let apiUrl = prefix + tblName + \"GetRows\";\r\n        let apiUrl = prefix;\r\n        return axios({\r\n            url: apiUrl,\r\n            method: \"GET\",\r\n            headers: { Authorization: \"Bearer \" + localStorage.lastJWT },\r\n            //data: filter\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n            .then((dataObj) => {\r\n                if (dispatch) {\r\n                    dispatch({\r\n                        type: ACT_TABLEROWS_RECEIVE,\r\n                        payload: { tableName: tblName, rows: dataObj, error: null }\r\n                    });\r\n                }\r\n                let result: responseResult = { data: dataObj, success: true }\r\n                return result;\r\n            })\r\n            .catch(err => {\r\n                return commonErrHandling(err,tblName,()=>{\r\n                    return GetRows(tblName,dispatch);\r\n                });\r\n            });\r\n    }\r\n    return doRequest(result, dispatch);\r\n}\r\n\r\nfunction commonErrHandling(err:any,tblName:string,repeatFunc:any){\r\n    let parsedErr = errorParser(err);\r\n    let result: responseResult = { data: parsedErr, success: false }\r\n    let dispatch = store.dispatch;\r\n    if (parsedErr.parsedErrId && parsedErr.parsedErrId === ErrorEnum.ERR401) {\r\n        return RefreshJWT(dispatch)\r\n            .then((res: any) => {\r\n                if (res.success) {\r\n                    // Авторизация через refreshToken прошла успешно, повторяем запрос \r\n                    return repeatFunc();\r\n                } else {\r\n                    dispatch({\r\n                        type: ACT_TABLEROWS_ERROR,\r\n                        payload: { tableName: tblName, rows: [], error: parsedErr }\r\n                    });\r\n                    return errorParser(result);\r\n                }\r\n            })\r\n    } else {\r\n        dispatch({\r\n            type: ACT_TABLEROWS_ERROR,\r\n            payload: { tableName: tblName, rows: [], error: parsedErr }\r\n        });\r\n        return errorParser(result);\r\n    }    \r\n}\r\n\r\n\r\nexport function RefreshJWT(dispatch: any) {\r\n    if (!localStorage.lastJWT) {\r\n        dispatch({\r\n            type: ACT_JWT_TESTRESULT_CHANGED,\r\n            payload: false\r\n        });\r\n        return returnFailResult();\r\n    }\r\n    let prefix = \"/api/\"\r\n    let apiUrl = prefix + \"account/refresh\";\r\n    return axios({\r\n        url: apiUrl,\r\n        method: \"POST\",\r\n        headers: { Authorization: \"Bearer \" + localStorage.lastJWT },\r\n    })\r\n        .then((response) => {\r\n            return response.data;\r\n        })\r\n        .then((dataObj) => {\r\n            localStorage.lastJWT = dataObj.accessToken;\r\n            dispatch({\r\n                type: ACT_JWT_TESTRESULT_CHANGED,\r\n                payload: true\r\n            });\r\n            console.log('refresh ok');\r\n            let result: responseResult = { success: true, data: [] };\r\n            return result;\r\n        })\r\n        .catch((err) => {\r\n            dispatch({\r\n                type: ACT_JWT_TESTRESULT_CHANGED,\r\n                payload: false\r\n            });\r\n            let result: responseResult = { success: false, data: [] };\r\n            return result;\r\n        });\r\n}\r\n\r\n\r\nexport function GetLookupRows(tblName: string, dispatch: any) {\r\n    let result = (dispatch: any) => {\r\n        let prefix = \"/api/\" + tblName;\r\n        let apiUrl = prefix;\r\n        return axios({\r\n            url: apiUrl,\r\n            method: \"GET\",\r\n            headers: { Authorization: \"Bearer \" + localStorage.lastJWT },\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n            .then((dataObj) => {\r\n                if (dispatch) {\r\n                    dispatch({\r\n                        type: ACT_TABLEROWS_RECEIVE,\r\n                        payload: { tableName: tblName, rows: dataObj, error: null }\r\n                    });\r\n                }\r\n                let result: responseResult = { data: dataObj, success: true }\r\n                return result;\r\n            })\r\n            .catch(err => {\r\n                let parsedErr = errorParser(err);\r\n                let result: responseResult = { data: parsedErr, success: false }\r\n                if (dispatch) {\r\n                    dispatch({\r\n                        type: ACT_TABLEROWS_ERROR,\r\n                        payload: { tableName: tblName, rows: [], error: err.toJSON() }\r\n                    });\r\n                }\r\n                return errorParser(result);\r\n            }\r\n            );\r\n    }\r\n    return doRequest(result, dispatch);\r\n}\r\n\r\nexport function AddRowRange(tblName: string, updatedRow: any, dispatch: any) {\r\n    if (!Array.isArray(updatedRow)) {\r\n        updatedRow = [updatedRow];\r\n    }\r\n    return AddRow(tblName, updatedRow, dispatch);\r\n}\r\n\r\nexport function AddRow(tblName: string, updatedRow: any, dispatch: any) {\r\n    let result = (dispatch: any) => {\r\n        let prefix = \"/api/\" + tblName;\r\n        let apiUrl = prefix;\r\n        return axios({\r\n            url: apiUrl,\r\n            method: \"POST\",\r\n            data: updatedRow,\r\n            headers: { Authorization: \"Bearer \" + localStorage.lastJWT },\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n            .then((dataObj) => {\r\n                if (dispatch) {\r\n                    dispatch({\r\n                        type: ACT_ROW_ADD,\r\n                        payload: { tableName: tblName, row: dataObj, error: null }\r\n                    });\r\n                }\r\n                let result: responseResult = { data: dataObj, success: true }\r\n                return result;\r\n            })\r\n            .catch(err => {\r\n                return commonErrHandling(err,tblName,()=>{\r\n                    return AddRow(tblName,updatedRow,dispatch);\r\n                });\r\n            });\r\n    }\r\n    return doRequest(result, dispatch);\r\n}\r\n\r\nexport function UpdateRow(tblName: string, updatedRow: any, dispatch: any) {\r\n    if (!Array.isArray(updatedRow)) {\r\n        updatedRow = [updatedRow];\r\n    }\r\n    let result = (dispatch: any) => {\r\n        let prefix = \"/api/\" + tblName;\r\n        let apiUrl = prefix;\r\n        return axios({\r\n            url: apiUrl,\r\n            method: \"PUT\",\r\n            data: updatedRow,\r\n            headers: { Authorization: \"Bearer \" + localStorage.lastJWT },\r\n        })\r\n            .then(response => {\r\n                return updatedRow;\r\n            })\r\n            .then((dataObj) => {\r\n                if (dispatch) {\r\n                    dispatch({\r\n                        type: ACT_ROW_UPDATE,\r\n                        payload: { tableName: tblName, row: dataObj, error: null }\r\n                    });\r\n                }\r\n                let result: responseResult = { data: dataObj, success: true }\r\n                return result;\r\n            })\r\n            .catch(err => {\r\n                return commonErrHandling(err,tblName,()=>{\r\n                    return UpdateRow(tblName,updatedRow,dispatch);\r\n                });\r\n            });\r\n    }\r\n    return doRequest(result, dispatch);\r\n}\r\n\r\nexport interface responseResult {\r\n    data: any,\r\n    success: boolean\r\n}\r\n\r\nfunction doRequest(func: any, dispatch: any) {\r\n    if (dispatch) {\r\n        return dispatch(func);\r\n    }\r\n    return func();\r\n}\r\n\r\n\r\nexport function DeleteRow(tblName: string, rowUID: any, dispatch: any) {\r\n    if (!Array.isArray(rowUID)) {\r\n        rowUID = [rowUID];\r\n    }\r\n    let result = (dispatch: any) => {\r\n        let prefix = \"/api/\" + tblName;\r\n        let apiUrl = prefix;\r\n        return axios({\r\n            url: apiUrl,\r\n            data: rowUID,\r\n            method: \"DELETE\",\r\n            headers: { Authorization: \"Bearer \" + localStorage.lastJWT },\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n            .then((dataObj) => {\r\n                if (dispatch) {\r\n                    dispatch({\r\n                        type: ACT_ROW_DELETE,\r\n                        payload: { tableName: tblName, rowUid: rowUID, row: dataObj, error: null }\r\n                    });\r\n                }\r\n                let result: responseResult = { data: dataObj, success: true }\r\n                return result;\r\n            })\r\n            .catch(err => {\r\n                return commonErrHandling(err,tblName,()=>{\r\n                    return DeleteRow(tblName,rowUID,dispatch);\r\n                });\r\n            });\r\n    }\r\n    return doRequest(result, dispatch);\r\n}\r\n\r\nexport function AddUser(userRow: any) {\r\n    let apiUrl = \"/api/account/signup\";\r\n    let result = () => axios({\r\n        url: apiUrl,\r\n        data: { Username: userRow.username, Password: userRow.password, User: userRow },\r\n        method: \"POST\",\r\n        headers: { Authorization: \"Bearer \" + localStorage.lastJWT },\r\n    })\r\n        .then(response => {\r\n            return response.data;\r\n        })\r\n        .then((dataObj) => {\r\n            let result: responseResult = { data: dataObj, success: true }\r\n            return result;\r\n        })\r\n        .catch(err => {\r\n            let parsedErr = errorParser(err);\r\n            let result: responseResult = { data: parsedErr, success: false }\r\n            return errorParser(result);\r\n        });\r\n    return doRequest(result, null);\r\n}\r\n\r\n\r\nexport function returnOkResult() {\r\n    let pr = new Promise((resolve) => {\r\n        let okResult: responseResult = { success: true, data: [] };\r\n        return resolve(okResult);\r\n    });\r\n    return pr.then();\r\n}\r\n\r\nexport function returnFailResult() {\r\n    let pr = new Promise((resolve) => {\r\n        let result: responseResult = { success: false, data: [] };\r\n        return resolve(result);\r\n    });\r\n    return pr.then();\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA25pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBNzlGRUI0NUVFMUIxMUU0QkEwNUJGODM2OTc5NTQwMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0VBRTJGOTAyOUMxMUU1OTIyREIzN0Y2RTA2OTM3RSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0VBRTJGODAyOUMxMUU1OTIyREIzN0Y2RTA2OTM3RSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYWNiYWEyOS0xY2EwLTM1NDYtODU0YS1jYjYzODYxNDAwNTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTc5RkVCNDVFRTFCMTFFNEJBMDVCRjgzNjk3OTU0MDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4s+UeNAAAAZElEQVR42mL8//8/Ay0BEwONwdC3gIWQgvkLFoAobBHFmJiQQBUf/CdRnDQfILuYVMMHRxyguZwuqeg/KRYz0dLw4ZHRGEkp7Bg79iDCqsKF+j6YJ/HkPwgP3SAarQ9oAgACDAAhQxpULDSVUAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/DeviceWorking.12a88a34.png\";","module.exports = __webpack_public_path__ + \"static/media/DeviceWarning.9e26e19b.png\";","module.exports = __webpack_public_path__ + \"static/media/DeviceNotWorking.bad6b1ab.png\";","module.exports = __webpack_public_path__ + \"static/media/DeviceUndetermined.df9febfb.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAVCAYAAACzK0UYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZEMjIwMkU1NDIzNDExRTVCOUY0RTk0NkYxNjIwNTk4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZEMjIwMkU2NDIzNDExRTVCOUY0RTk0NkYxNjIwNTk4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkQyMjAyRTM0MjM0MTFFNUI5RjRFOTQ2RjE2MjA1OTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkQyMjAyRTQ0MjM0MTFFNUI5RjRFOTQ2RjE2MjA1OTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz52grYFAAAF30lEQVR42nRVa2xUVRD+7nO32922u9uFPmyhDxBKIA0NShCoD1SESkR5REIgiESlChoBJVFRNBqUYBQDRoGAQTEKSvBPAaGgPAVDKaBQHi0tQh/SUtrd3r17zxlnW2wq1MlOzs29M+c7M9+3cxQ6DEBlb7wbqBoCBFrZ9/BzIWDbIFGSr5yqvh/nTo+SmSlPKBKQ0KDKaIdy0/4Sk4LH4b2+D8NlO1r8QBMB+bxh4n78azpuN4MDNF5PhCej0p6vnF89EmR6kahDbWqUMBTSVA6wHD+aaRlOnANCiXUY69uFInM50j21UJX/bKl0V9I0GKgdCly9PAiHa1dgf9skJAeBWZM6MHqshgF5XGGCDZdbQlUJtmPgUoMLf1RKlP1M2L7bhG5cw5TQx5gb+gipvwCxWyhxEDrGvjMXNG/E4xQMXiEjRLR4STtVnYkQkcNOkn9RSWLlW4vFjm2bxOnKCtFiRwV1BogolW1vpwfGOaQkEE3M3UrlKUl0XAUd5GbRAfaj7Mt8T5I32EbZBURbv27n3Bj1sC1rV1mLZk61n37wXnr7xZk0Ki0gju4tj/aMcVr/tmnuHIu0FKIRmTtpW5aPdmdwo7wFwOmsPHyctBGW9OL5qW14aobrdr4arl4zLtdcNBLdiXCbJkxvglpz/qy6Ze3qmG1ZFI/RkoIGrdugYfbkMI63P4J18n1ID4PU28AP8lOQ4UNGKuGDVR4sejGMuuoI4kK6ZS7TRTpvLhQHAgSPy4PqC3/qHyx+1YhEwt1MK/HDrVqp495BUeyJvYD94ft0nKXB2O08inGFAh++J7F6jYZPv0nChm023n2l+dtw1Ky1Y55kQ4OiaJ0aId6KOYKm6Uj2u/j9f9WE5ICJRQssTJ+v4YD/PR3HYkshohpKSqIYUujC518Q5s2TWL7CwMI3AiWKLg8M6q8dHTdcxnQ3vNxEXVFZpQRdV7uUeacporiYtH5BgUuiSEWjfk88MDY4h7orLhqhMfkKtn1P3sJCMb6+Awu+K8es1nZcvXABLTEbgqMjEQsk/wclmK6hYKhEc5i7+0jBGTJZDYfKbbrTxI5PPmleqRlEwRyiUA4d9/lpSqqPUl0a5Xs0GpmdRDdamntJZWVPnynJHWhmIUeMeJelE+3tQGqrYfiXihjGR2qx12lFUWIKvqcAVhgJ8EUJ123Bx1Z6y413RsQXFe5wNYQB9e+WXsvmEyCFvUIITGtrwbJIPUMTnvGm4/fkNJSSjym15O15jhN10FQvYPp4UKVjMxSWcflveq8ocDp1nMhU+bj9a6wODGutw3qrAYqhY2HMQGDKNInyXRYPBNGdduRXgSMnTWTodaDdCFBeZjVl5JKoqryDlz0/fCNTueb+pkK5nQ7K5LUPD8rhpko7/CmS0nJipLslTZhg0amTPH14Wjw7O0JakOg5/xLQrtGgpcNmkM7kPzHZsYUteoJ0tLeJ+RMftPowe3GQgQZogNn1nGmqzreb1t2gv65EaMX7NiWlSwr1c6hkok2hfKLcPufoR8MP+up+0ObRCg3L20BaKtFLL8VkpM3pCXS96Wp4XEF29K44EIP0Yw8poNIpj8q4ArsDL1Y59NB4Ii2ZyNsnQssHj6WyQiY+he8D/yXCouuleNy7Hp9t1JVpc1ScqnBuKQSB1HRXdka2DEswOKQeHx78xeXxKfj372iz1Pb9Cly6BiR52rAwZxL6Zf2Cur58n+zK7iLKzTpqvKlju/4avut4E/6QCy+XAo+NiYqhQ6mmoUFvbmio0013smmaAUc40pfoRv+EhJh66KiKdZsM/FQO5PmOYS5eR7G1FxEWFEkGKcvvAtH4tmtsBPoyzRXhUdgi3sHZ2CiWkAcjiyRKHhbI4mYJu2sMhsMRHNznwqEKDVU1QJp2GWPpRxSPWYYhNTcRq+hxM/YEqW8CUpO5Km+8fL4C1IEos0pRFR6DZisLUbcal3T3+ElDO0zXSUx1bcVI/3ZkNbbiSjFgnuFeVnIVWmfgPwIMABdsO4pbhsA7AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA25pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBNzlGRUI0NUVFMUIxMUU0QkEwNUJGODM2OTc5NTQwMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0VBRTJGOTAyOUMxMUU1OTIyREIzN0Y2RTA2OTM3RSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0VBRTJGODAyOUMxMUU1OTIyREIzN0Y2RTA2OTM3RSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYWNiYWEyOS0xY2EwLTM1NDYtODU0YS1jYjYzODYxNDAwNTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTc5RkVCNDVFRTFCMTFFNEJBMDVCRjgzNjk3OTU0MDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4s+UeNAAAAZElEQVR42mL8//8/Ay0BEwONwdC3gIWQgvkLFoAobBHFmJiQQBUf/CdRnDQfILuYVMMHRxyguZwuqeg/KRYz0dLw4ZHRGEkp7Bg79iDCqsKF+j6YJ/HkPwgP3SAarQ9oAgACDAAhQxpULDSVUAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/DeviceWorking.12a88a34.png\";","module.exports = __webpack_public_path__ + \"static/media/DeviceWarning.9e26e19b.png\";","module.exports = __webpack_public_path__ + \"static/media/DeviceNotWorking.bad6b1ab.png\";","module.exports = __webpack_public_path__ + \"static/media/DeviceUndetermined.df9febfb.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAVCAYAAACzK0UYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZEMjIwMkU1NDIzNDExRTVCOUY0RTk0NkYxNjIwNTk4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZEMjIwMkU2NDIzNDExRTVCOUY0RTk0NkYxNjIwNTk4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkQyMjAyRTM0MjM0MTFFNUI5RjRFOTQ2RjE2MjA1OTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkQyMjAyRTQ0MjM0MTFFNUI5RjRFOTQ2RjE2MjA1OTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz52grYFAAAF30lEQVR42nRV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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRBQzZENzA1MTAxOTExRTVBRUIyQTI1MjBDNEYzOTc4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRBQzZENzA2MTAxOTExRTVBRUIyQTI1MjBDNEYzOTc4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEFDNkQ3MDMxMDE5MTFFNUFFQjJBMjUyMEM0RjM5NzgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEFDNkQ3MDQxMDE5MTFFNUFFQjJBMjUyMEM0RjM5NzgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6RbuvUAAABD0lEQVR42uyUbRGDMAyGyxxgAQudBCahk1ANSGASNgkgASSAhCEBJHTh9mYLOTr4w7/17rmjaZLmqyQhBHPEOpmD1t/xd1HrSqIhfHjvmRIYRUXcxd7BvpJ6BsJ5NkYiFYcNkE5T6Dp1UQCW5VyKiUiJciNBB91ayHLiIb4XNe5x6An7w3GunDoEVMOHW2tegWhiUacwbIXMwqaF83mfacezwg1R+Z1lkBe1i3KsNKlDIzsl19NgRdMkVYjMcYG07UYZuFFX4gLqT50jY3XH7Sz3yMKozJ5K5nkcYy+PGxmbhgwZ1cqO93kSvin3SonlAzESZ6HDpRqAHsnJrDxZs/La8h16C5L/j/5wxy8BBgA5eLy7RB7y9gAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/TerminalNotWorking.c6f51fa7.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAVCAYAAACzK0UYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdBN0FFRUQ5RjNDOTExRTQ5NDMzREZCNzI2RDJCNjFCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdBN0FFRURBRjNDOTExRTQ5NDMzREZCNzI2RDJCNjFCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0E3QUVFRDdGM0M5MTFFNDk0MzNERkI3MjZEMkI2MUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0E3QUVFRDhGM0M5MTFFNDk0MzNERkI3MjZEMkI2MUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6vbkBkAAAB4UlEQVR42rSUyytEURzHv8eMMeNVJO/3KyxsZIGyYEjJgpWyklJsbJkFC8qzUfZS2Fn4A/wJUh4bZaP8BaQ85x7fY46ZcZ25LsOvPveec8/je+7v/H4/IaXEf5tXPazDgJu5dWSXlJF53Xa0tOGH6NvlYdLJHukkVWSbtLn9E7ci06TD5oGw2/VuJpVr9wDylb59Vg3V6ybjfyWyTPIhI4CvAMiqZld8jC2RwlRFesnY++mzG4GeYyB4CtRMAq9ParyYLKYi4td+F5AWECgFMuk5bw6Q2/LhMmUTpOu3IjOkNdaTkXhCKdG4ecimjsAfidSSUHxT9RDC4UDtZOqnIusk9/OnRA3LtGZBR6IrkSEy8nX/hPJjrkT5ZMWNSBbZMG6hQjhR1Sw0RvqMtSvBZknj16PwTu8ugMtViYw8gZt9fvMmu4KwvqPH2JFUFdYFspmcEEO1FNFMt/g3Hh8QYdsbSOo3HTTLpgIZNgvocuKjy7uPgIErpmA/hZ6cUmOO1NvvZJQMJF1ivTDjG4CiIBOyEigZ5DfLSYQZizX7nYSc6wJddHsOXG0xsJuA6x26zfNdNQnaRUodp4u06J2czcT7StjZ/HaRaR1ZFdqF0ijk8esh8Z3APTn4FF3/bW8CDAC/42mFig2LggAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/TerminalWorking.ac9bdeeb.png\";","import React from \"react\";\r\n\r\n\r\nexport enum MessageType {\r\n    info = \"dx-toast-info\",\r\n    warning = \"dx-toast-warning\",\r\n    error = \"dx-toast-error\",\r\n    success = \"dx-toast-success\"\r\n}\r\n\r\nexport enum ErrorEnum {\r\n    NoError,\r\n    NotSavedRowChanges,\r\n    MSSQL_547,\r\n    MSSQL_2601,\r\n    WrongLoginOrPassword,\r\n    ERR401,\r\n    ERR413,\r\n    NetworkError,\r\n    ServerStatusError,\r\n    ParseFailed,\r\n}\r\n\r\nexport interface ErrorType {\r\n    id: ErrorEnum,\r\n    message: string,\r\n    type: MessageType\r\n}\r\n\r\nexport const AllErrors: ErrorType[] = [\r\n    { id: ErrorEnum.NotSavedRowChanges, message: \"Имеются несохраненные изменения\", type: MessageType.warning },\r\n    { id: ErrorEnum.MSSQL_547, message: \"Ошибка удаления записи. На данную запись имеются ссылки из других таблиц\", type: MessageType.error },\r\n    { id: ErrorEnum.MSSQL_2601, message: \"Запись с указанным идентификатором уже существует\", type: MessageType.error },\r\n    { id: ErrorEnum.WrongLoginOrPassword, message: \"Неверный логин или пароль\", type: MessageType.error },\r\n    { id: ErrorEnum.ERR401, message: \"Пользователь не авторизован\", type: MessageType.error },\r\n    { id: ErrorEnum.ERR413, message: \"Превышен лимит на максимальный размер длины запроса\", type: MessageType.error },\r\n    { id: ErrorEnum.NetworkError, message: \"Ошибка сети\", type: MessageType.error },\r\n];\r\n\r\ntype ServerErrStatus = {\r\n    status:number,\r\n    message:string\r\n}\r\n\r\nconst ServerErrStatuses:ServerErrStatus[] = [\r\n    {status:452,message:\"Наличие связанных данных с вызываемым объектом\"},\r\n    {status:453,message:\"Нарушение уникальности\"},\r\n    {status:454,message:\"Попытка удалить несуществующую запись в БД\"},\r\n    {status:455,message:\"Попытка изменить несуществующую запись в БД\"},\r\n]\r\n\r\n   \r\n\r\nexport function getProp(obj: any, propName: string): any {\r\n    if(!obj){\r\n        return null;\r\n    }\r\n    if (obj.hasOwnProperty(propName)) {\r\n        //@ts-ignore\r\n        return obj[propName];\r\n    }\r\n    return null;\r\n}\r\nexport function getPropEx(obj: any, propChain: string[]): any {\r\n    let currObj = obj;\r\n    for (let i: number = 0; i < propChain.length; i++) {\r\n        let prop = propChain[i];\r\n        let value = getProp(currObj, prop);\r\n        if (!value) {\r\n            return null;\r\n        }\r\n        currObj = value;\r\n    }\r\n    return currObj;\r\n}\r\n\r\nexport const lastNotParsedError = {\r\n    message:\"\"\r\n} \r\n\r\nfunction parseFailed(err:any){\r\n    if(!err){\r\n        err = {};\r\n    }\r\n    let result = buildErrObject(ErrorEnum.ParseFailed, err);\r\n    if(err.response && err.response.data && typeof(err.response.data)===\"string\"){\r\n        lastNotParsedError.message = err.response.data;\r\n        return result;        \r\n    }\r\n    if(err.hasOwnProperty(\"message\")){\r\n        lastNotParsedError.message = getProp(err,\"message\");\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction buildErrObject(pErrId:ErrorEnum,err:Object){\r\n    if(pErrId === ErrorEnum.ServerStatusError){\r\n        let status = getPropEx(err, [\"response\", \"status\"]);\r\n        let srvErr = ServerErrStatuses.find(s=>s.status === status);\r\n        let msg = srvErr?srvErr.message:\"\";\r\n        let errObj:ErrorType = {id:ErrorEnum.ServerStatusError,message:msg,type:MessageType.error};\r\n        return {parsedErrObject:errObj, parsedErrId: pErrId, ...err };\r\n    }\r\n    let pErrObj = AllErrors.find(e=>e.id === pErrId);\r\n    let resultObject = {parsedErrObject:pErrObj, parsedErrId: pErrId, ...err };\r\n    return resultObject;\r\n}\r\n\r\nfunction MSSQLError(err:any):any{\r\n    let errSrcObj = getPropEx(err, [\"response\", \"data\", \"InnerException\", \"Data\"]);\r\n    if(!errSrcObj && err.Data){\r\n        errSrcObj = err.Data;\r\n    }\r\n    if(!errSrcObj){\r\n        return parseFailed(err);\r\n    }\r\n    let evtSrc = getProp(errSrcObj, \"HelpLink.EvtSrc\");\r\n    let evtId = getProp(errSrcObj, \"HelpLink.EvtID\");\r\n    if (!evtSrc || !evtId || evtSrc !== \"MSSQLServer\") {\r\n        return ErrorEnum.ParseFailed;\r\n    }    \r\n    if (evtId === \"547\") {\r\n        return buildErrObject(ErrorEnum.MSSQL_547,err);\r\n    }    \r\n    if (evtId === \"2601\") {\r\n        return buildErrObject(ErrorEnum.MSSQL_2601,err);\r\n    }    \r\n    return parseFailed(err);\r\n}\r\n \r\n \r\nexport function errorParser(err: any): any {\r\n    let errStr = err.toString();\r\n    if(errStr === \"Error: Network Error\"){\r\n        return buildErrObject( ErrorEnum.NetworkError, err);\r\n    }\r\n    let respData = getPropEx(err, [\"response\", \"data\"]);\r\n    if(respData && respData === \"Неверный пароль\" || respData===\"Пользователь не найден\"){\r\n        return buildErrObject( ErrorEnum.WrongLoginOrPassword, err);\r\n    }\r\n    let status:any = getPropEx(err, [\"status\"]);;\r\n    if(err.status){\r\n        status = err.status;\r\n    } else {\r\n        status = getPropEx(err, [\"response\", \"status\"]);\r\n    }\r\n    if(status){\r\n        if(status === 401){\r\n            return buildErrObject( ErrorEnum.ERR401, err);\r\n        }\r\n        if(status === 413){\r\n            return buildErrObject( ErrorEnum.ERR413,err);\r\n        }\r\n        if (ServerErrStatuses.find(s=>s.status === status)){\r\n            return buildErrObject(ErrorEnum.ServerStatusError,err);\r\n        }\r\n    }\r\n    return MSSQLError(err);\r\n}","import { store } from './index';\r\nimport { AppSettingsState } from './reducers/appSettings';\r\n\r\nexport enum LangEnum {\r\n    ru = \"ru\",\r\n    kz = \"kz\",\r\n    en = \"en\"\r\n}\r\n\r\nexport enum LocMsgId {\r\n    //#region Menu\r\n    Menu_AccessManagement_Role = \"Menu_Dicts_AccessManagement_Role\",\r\n    Menu_AccessManagement_Syncronize = \"Menu_AccessManagement_Syncronize\",\r\n    Menu_AccessManagement_UserRoles = \"Menu_AccessManagement_UserRoles\",\r\n    Menu_Dicts = \"Menu_Dicts\",\r\n    Menu_Dicts_Locations = \"Menu_Dicts_Locations\",\r\n    Menu_Dicts_Locations_Area = \"Menu_Dicts_Locations_Area\",\r\n    Menu_Dicts_Locations_City = \"Menu_Dicts_Locations_City\",\r\n    Menu_Dicts_Locations_Country = \"Menu_Dicts_Locations_Country\",\r\n    Menu_Dicts_Managements = \"Menu_Dicts_Managements\",\r\n    Menu_Dicts_Managements_AvailabilitySchedule = \"Menu_Dicts_Managements_AvailabilitySchedule\",\r\n    Menu_Dicts_Managements_ScheduleItem = \"Menu_Dicts_Managements_ScheduleItem\",\r\n    Menu_Dicts_Managements_TerminalSchedule = \"Menu_Dicts_Managements_TerminalSchedule\",\r\n    Menu_Dicts_Managements_TerminalDirectory = \"Menu_Dicts_Management_TerminalDirectory\",\r\n    Menu_AccessManagement = \"Menu_Dicts_AccessManagement\",\r\n    Menu_Reports = \"Menu_Reports\",\r\n    Menu_Reports_AutoUpdates = \"Menu_Reports_AutoUpdates\",\r\n    Menu_Reports_AutoUpdates_Upload = \"Menu_Reports_AutoUpdates_Upload\",\r\n    Menu_Reports_AutoUpdates_Tup = \"Menu_Reports_AutoUpdates_Tup\",\r\n    Menu_Dicts_Monitoring = \"Menu_Dicts_Monitoring\",\r\n    Menu_Dicts_Monitoring_Event = \"Menu_Dicts_Monitoring_Event\",\r\n    Menu_Dict_Monitoring_TerminalStatesByDevice = \"Menu_Dict_Monitoring_TerminalStatesByDevice\",\r\n    Menu_Dicts_Monitoring_EmailTemplate = \"Menu_Dicts_Monitoring_EmailTemplate\",\r\n    Menu_Dicts_Monitoring_TerminalStatesByDevice = \"Menu_Dict_Monitoring_TerminalStatesByDevice\",\r\n    Menu_Dicts_Monitoring_MailingListUser = \"Menu_Dicts_Monitoring_MailingListUser\",\r\n    Menu_UpdateManagement = \"Menu_UpdateManagement\",\r\n    Menu_UpdateManagement_Create = \"UpdateManagement_Create\",\r\n    Menu_UpdateManagement_Distribute = \"UpdateManagement_Distribute\",\r\n    Menu_UpdateManagement_Cancel = \"Menu_UpdateManagement_Cancel\",\r\n    Menu_Dicts_Monitoring_MailingGroupUser = \"Menu_Dicts_Monitoring_MailingGroupUser\",\r\n    //#endregion\r\n\r\n    //#region PageHeaders\r\n    PgSynchronization_Header = \"PgSynchronization_Header\",\r\n    //#endregion\r\n\r\n    //#region Columns\r\n    Column_Id = \"Column_Id\",\r\n    Column_Address = \"Column_Address\",\r\n    Column_Area = \"Column_Area\",\r\n    Column_AttributeType = \"Column_AttributeType\",\r\n    Column_City = \"Column_City\",\r\n    Column_Comment = \"Column_Comment\",\r\n    Column_CreateDate = \"Column_CreateDate\",\r\n    Column_Country = \"Column_Country\",\r\n    Column_Date = \"Column_Date\",\r\n    Column_Deleted = \"Column_Deleted\",\r\n    Column_Description = \"Column_Description\",\r\n    Column_EndTime = \"Column_EndTime\",\r\n    Column_Name = \"Column_Name\",\r\n    Column_Schedule = \"Column_Schedule\",\r\n    Column_ScheduleApplyDate = \"Column_ScheduleApplyDate\",\r\n    Column_StartTime = \"Column_StartTime\",\r\n    Column_SuperAdmin = \"Column_SuperAdmin\",\r\n    Column_TypePointPlace = \"Column_TypePointPlace\",\r\n    Column_User = \"Column_User\",\r\n    Column_Username = \"Column_Username\",\r\n    Column_WeekDay = \"Column_WeekDay\",\r\n    Column_EventName = \"Column_EventName\",\r\n    Column_EquipmentEvent = \"Column_EquipmentEvent\",\r\n    Column_GroupName = \"Column_GroupName\",\r\n    Column_IncidentCreationWaitTimeOrPercentage = \"Column_IncidentCreationWaitTimeOrPercentage\",\r\n    Column_IncidentCreationWaitTime = \"Column_IncidentCreationWaitTime\",\r\n    Column_IncidentCreationPercentage = \"Column_IncidentCreationPercentage\",\r\n    Column_EquipmentStatus = 'Column_EquipmentStatus',\r\n    Column_CreateIncidentForEvent = 'Column_CreateIncidentForEvent',\r\n    Column_SendEmailToUser = 'Column_SendEmailToUser',\r\n    Column_ConsiderDeviceAvailabilityMode = 'Column_ConsiderDeviceAvailabilityMode',\r\n    Column_ObjectMonitoring = 'Column_ObjectMonitoring',\r\n    Column_ObjectMonitoringStatus = 'Column_ObjectMonitoringStatus',\r\n    Column_TerminalStatus = 'Column_TerminalStatus',\r\n    Column_Subject = \"Column_Subject\",\r\n    Column_Body = \"Column_Body\",\r\n    Column_EmailList = 'Column_EmailList',\r\n    Column_IsGroupEmail = 'Column_IsGroupEmail',\r\n    Column_Groups = \"Column_Groups\",\r\n    Column_AllUsers = \"Column_AllUsers\",\r\n    Column_GroupUsers = \"Column_GroupUsers\",\r\n    Column_UsersName = \"Column_UsersName\",\r\n    Column_GroupsName = \"Column_GroupsName\",\r\n    Column_EmailTemplateName = \"Column_EmailTemplateName\",\r\n    Column_EditDate = \"Column_EditDate\",\r\n    Column_Location = \"Column_Location\",\r\n    Column_TerminalType = \"Column_TerminalType\",\r\n    Column_TerminalKey = \"Column_TerminalKey\",\r\n    Column_SerialNumber = \"Column_SerialNumber\",\r\n    Column_RNM = \"Column_RNM\",\r\n    Column_DeviceCode = \"Column_DeviceCode\",\r\n    Column_TerminalSerialNumber = \"Column_TerminalSerialNumber\",\r\n    Column_Account = \"Column_Account\",\r\n    Column_CashDeskCode = \"Column_CashDeskCode\",\r\n    Column_StackerCapacity = \"Column_StackerCapacity\",\r\n    Column_Users = \"Column_Users\",\r\n    Column_Enabled = \"Column_Enabled\",\r\n    Column_InServing = \"Column_InServing\",\r\n    Column_Subnet = \"Column_Subnet\",\r\n    Column_NetType = \"Column_NetType\",\r\n    Column_Profile = \"Column_Profile\",\r\n    Column_TimeZoneOffset = \"Column_TimeZoneOffset\",\r\n    Column_AvailabilitySchedules = \"Column_AvailabilitySchedules\",\r\n    Column_WarrantyPeriod = \"Column_WarrantyPeriod\",\r\n    Column_TechnicalSupportNumbers = \"Column_TechnicalSupportNumbers\",\r\n    Column_CallCenterNumbers = \"Column_CallCenterNumbers\",\r\n    Column_Dealer = \"Column_Dealer\",\r\n    //#endregion\r\n\r\n    //#region Buttons\r\n    Button_Apply = \"Button_Apply\",\r\n    Button_Cancel = \"Button_Cancel\",\r\n    Button_Save = \"Button_Save\",\r\n    Button_AddDay = \"Button_AddDay\",\r\n    Button_SortAscending = \"Button_SortAscending\",\r\n    Button_SortDescending = \"Button_SortDescending\",\r\n    Button_ClearSorting = \"Button_ClearSorting\",\r\n    Button_Ok = \"Button_Ok\",\r\n    Button_Yes = \"Button_Yes\",\r\n    Button_No = \"Button_No\",\r\n    Button_Close = \"Button_Close\",\r\n    Button_AddToGroup = \"Button_AddToGroup\",\r\n    Button_RemoveFromGroup = \"Button_RemoveFromGroup\",\r\n    Button_EditEmailBody = \"Button_EditEmailBody\",\r\n    Button_Add = \"Button_Add\",\r\n    Button_Delete = \"Button_Delete\",\r\n    Button_Refresh = \"Button_Refresh\",\r\n    Button_Edit = \"Button_Edit\",\r\n    Button_AddSchedule = \"Button_AddSchedule\",\r\n    Button_DeleteSchedule = \"Button_DeleteSchedule\",\r\n    Button_EditSchedule = \"Button_EditSchedule\",\r\n    Button_ChangeApiKey = \"Button_ChangeApiKey\",\r\n    Button_Update_Download = \"Button_Update_Download\",\r\n    Button_Update_Install = \"Button_Update_Install\",\r\n    Button_Update_CancelDownload= \"Button_Update_CancelDownload\",\r\n    Button_Update_Rollback = \"Button_Update_Rollback\", \r\n    Button_Update_CancelInstall = \"Button_Update_CancelInstall\",\r\n\r\n    //#endregion\r\n\r\n    //#region FormFields\r\n    FormField_Login = \"FormField_Login\",\r\n    FormField_Password = \"FormField_Password\",\r\n    //#endregion\r\n\r\n    //#region Messages\r\n    Message_Deleting = \"Message_Deleting\",\r\n    Message_NoSelectedRow = \"Message_NoSelectRow\",\r\n    Message_NoSelectedAvailabilitySchedule = \"Message_NoSelectedAvailabilitySchedule\",\r\n    Message_AddAvailabilitySchedule = \"Message_AddAvailabilitySchedule\",\r\n    Message_EditAvailabilitySchedule = \"Message_EditAvailabilitySchedule\",\r\n    Message_AvailabilityScheduleDeleteError = \"Message_AvailabilityScheduleDeleteError\",\r\n    Message_AvailabilityScheduleSaveError = \"Message_AvailabilityScheduleSaveError\",\r\n    Message_AvailabilityScheduleEditError = \"Message_AvailabilityScheduleEditError\",\r\n    Message_ScheduleItemsRequired = \"Message_ScheduleItemsRequired\",\r\n    Message_Required = \"Message_Required\",\r\n    Message_InvalidTime = \"Message_InvalidTime\",\r\n    Message_Success = \"Message_Success\",\r\n    Message_Error = \"Message_Error\",\r\n    Message_NeedSelect = \"Message_NeedSelect\",\r\n    Message_Confirm = \"Message_Confirm\",\r\n    Message_ConfirmSaveTerminalSchedules = \"Message_ConfirmSaveTerminalSchedules\",\r\n    Message_ConfirmIssueImailTemplates = \"Message_ConfirmIssueImailTemplates\",\r\n    Message_NameRequired = \"Message_NameRequired\",\r\n    Message_SubjectRequired = \"Message_SubjectRequired\",\r\n    Message_BodyRequired = \"Message_BodyRequired\",\r\n    Message_NoSelectedEmailTemplate = \"Message_NoSelectedEmailTemplate\",\r\n    Message_EmailTemplateSaveError = \"Message_EmailTemplateSaveError\",\r\n    Message_Saving = 'Message_Saving',\r\n    Message_EMails_Incorrect = 'Message_EMails_Incorrect',\r\n    Message_DuplicateName = 'Message_DuplicateName',\r\n    Message_DataIntegrityViolationError = 'Message_DataIntegrityViolationError',\r\n    Message_DirectoryNotAvailable = 'Message_DirectoryNotAvailable',\r\n    Message_SelectWeekDay = \"Message_SelectWeekDay\",\r\n    Message_WeekDayRequired = \"Message_WeekDayRequired\",\r\n    Message_StartTimeRequired = \"Message_StartTimeRequired\",\r\n    Message_EndTimeRequired = \"Message_EndTimeRequired\",\r\n    Message_EditMode = \"Message_EditMode\",\r\n    Message_Value_Incorrect = 'Message_Value_Incorrect',\r\n    Message_MinValue = 'Message_MinValue',\r\n    Message_MaxValue = 'Message_MaxValue',\r\n    Message_AddressRegRus_Incorrect = 'Message_AddressRegRus_Incorrect',\r\n    Message_Date_Incorrect = 'Message_Date_Incorrect',\r\n    Message_TerminalNameRequired = \"Message_TerminalNameRequired\",\r\n    Message_TerminalAddressRequired = \"Message_TerminalAddressRequired\",\r\n    Message_TerminalKeyRequired = \"Message_TerminalKeyRequired\",\r\n    Message_DealerRequired = \"Message_DealerRequired\",\r\n    Message_TerminalTypeRequired = \"Message_TerminalTypeRequired\",\r\n    Message_SubnetRequired = \"Message_SubnetRequired\",\r\n    Message_RnmRequired = \"Message_RnmRequired\",\r\n    Message_DeviceCodeRequired = \"Message_DeviceCodeRequired\",\r\n    Message_TerminalSerialNumberRequired = \"Message_TerminalSerialNumberRequired\",\r\n    Message_StackerCapacityRequired = \"Message_StackerCapacityRequired\",\r\n    Message_ServiceNoteRequired = \"Message_ServiceNoteRequired\",\r\n    Message_TerminalProfileRequired = \"Message_TerminalProfileRequired\",\r\n    Message_TerminalTimezoneRequired = \"Message_TerminalTimezoneRequired\",\r\n    Message_AvailabilityScheduleRequider = \"Message_AvailabilityScheduleRequider\",\r\n    Message_TerminalLocationRequired = \"Message_TerminalLocationRequired\",\r\n    Message_TerminalTypePointPlaceRequired = \"Message_TerminalTypePointPlaceRequired\",\r\n    Message_NetTypeRequired = \"Message_NetTypeRequired\",\r\n    Message_TechnicalSupportNumberRequired = \"Message_TechnicalSupportNumberRequired\",\r\n    Message_TechnicalSupportNumbersRequired = \"Message_TechnicalSupportNumbers_Required\",\r\n    Message_TechnicalSupportNumberMaxLength = \"Message_TechnicalSupportNumberMaxLength\",\r\n    Message_TechnicalSupportNumberMaxCount = \"Message_TechnicalSupportNumberMaxCount\",\r\n    Message_TechnicalSupportNumberUnique = \"Message_TechnicalSupportNumberUnique\",\r\n    Message_CallCenterNumberRequired = \"Message_CallCenterNumberRequired\",\r\n    Message_CallCenterNumbersRequired = \"Message_CallCenterNumbers_Required\",\r\n    Message_CallCenterNumberMaxLength = \"Message_CallCenterNumberMaxLength\",\r\n    Message_CallCenterNumberMaxCount = \"Message_CallCenterNumberMaxCount\",\r\n    Message_CallCenterNumberUnique = \"Message_CallCenterNumberUnique\",\r\n    Message_ApiKeyRequired = \"Message_ApiKeyRequired\",\r\n    Message_CashDeskCodeRequired = \"Message_CashDeskCodeRequired\",\r\n    Message_NewApiKey = \"Message_NewApiKey\",\r\n    Message_TerminalNameUnique = \"Message_TerminalNameUnique\",\r\n    Message_TerminalKeyUnique = \"Message_TerminalKeyUnique\",\r\n    Message_CashDeskCodeUnique = \"Message_CashDeskCodeUnique\",\r\n    //#endregion\r\n\r\n    //#region PopupTitles\r\n    PopupTitle_Warning = \"PopupTitle_Warning\",\r\n    PopupTitle_Error = \"PopupTitle_Error\",\r\n    PopupTitle_Information = \"PopupTitle_Information\",\r\n    PopupTitle_Login = \"PopupTitle_Login\",\r\n    PopupTitle_DeviceUsers = \"PopupTitle_DeviceUsers\",\r\n    //#endregion\r\n\r\n    //#region Week days\r\n    WeekDay_Monday = \"WeekDay_Monday\",\r\n    WeekDay_Tuesday = \"WeekDay_Tuesday\",\r\n    WeekDay_Wednesday = \"WeekDay_Wednesday\",\r\n    WeekDay_Thursday = \"WeekDay_Thursday\",\r\n    WeekDay_Friday = \"WeekDay_Friday\",\r\n    WeekDay_Saturday = \"WeekDay_Saturday\",\r\n    WeekDay_Sunday = \"WeekDay_Sunday\",\r\n    //#endregion\r\n}\r\n\r\nexport type LocMsg = {\r\n    id: LocMsgId;\r\n    ru: string;\r\n    kz?: string;\r\n    en?: string;\r\n}\r\n\r\nconst locMessages: Array<LocMsg> = [\r\n    //#region Menu\r\n    { id: LocMsgId.Menu_AccessManagement, ru: \"Управление доступом\", kz: \"Управление доступом KZ\", en: \"Управление доступом EN\" },\r\n    { id: LocMsgId.Menu_AccessManagement_Role, ru: \"Роли\", kz: \"Роли KZ\", en: \"Роли EN\" },\r\n    { id: LocMsgId.Menu_AccessManagement_UserRoles, ru: \"Пользователи - Роли\", kz: \"Пользователи - Роли KZ\", en: \"Пользователи - Роли EN\" },\r\n    { id: LocMsgId.Menu_AccessManagement_Syncronize, ru: \"Синхронизация\", kz: \"Синхронизация KZ\", en: \"Синхронизация EN\" },\r\n    { id: LocMsgId.Menu_Dicts, ru: \"Справочники\", kz: \"Cправочники KZ\", en: \"Cправочники EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Locations, ru: \"Расположения\", kz: \"Расположения KZ\", en: \"Расположения EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Locations_Area, ru: \"Области\", kz: \"Области KZ\", en: \"Области EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Locations_City, ru: \"Города\", kz: \"Города KZ\", en: \"Города EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Locations_Country, ru: \"Cтраны\", kz: \"Cтраны KZ\", en: \"Cтраны EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Managements, ru: \"Управление терминалами\", kz: \"Управление терминалами KZ\", en: \"Управление терминалами EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Managements_AvailabilitySchedule, ru: \"Справочник режимов доступности\", kz: \"Справочник режимов доступности KZ\", en: \"Справочник режимов доступности EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Managements_ScheduleItem, ru: \"Детали режима доступности\", kz: \"Детали режима доступности KZ\", en: \"Детали режима доступности EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Managements_TerminalSchedule, ru: \"Справочник режимов доступности устройств\", kz: \"Справочник режимов доступности устройств KZ\", en: \"Справочник режимов доступности устройств EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Managements_TerminalDirectory, ru: \"Справочник терминалов\", kz: \"Справочник терминалов KZ\", en: \"Справочник терминалов EN\" },\r\n    { id: LocMsgId.Menu_Reports, ru: \"Отчеты\", kz: \"Отчеты KZ\", en: \"Отчеты EN\" },\r\n    { id: LocMsgId.Menu_Reports_AutoUpdates, ru: \"Автообновления\", kz: \"Автообновления KZ\", en: \"Автообновления EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Monitoring, ru: \"Мониторинг\", kz: \"Мониторинг KZ\", en: \"Мониторинг EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Monitoring_Event, ru: \"Справочник событий\", kz: \"Справочник событий KZ\", en: \"Справочник событий EN\" },\r\n    { id: LocMsgId.Menu_Dict_Monitoring_TerminalStatesByDevice, ru: \"Справочник статусов устройств\", kz: \"Справочник статусов устройств KZ\", en: \"Справочник статусов устройств EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Monitoring_EmailTemplate, ru: \"Справочник шаблонов писем\", kz: \"Справочник шаблонов писем KZ\", en: \"Справочник шаблонов писем EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Monitoring_TerminalStatesByDevice, ru: \"Справочник статусов устройств\", kz: \"Справочник статусов устройств KZ\", en: \"Справочник статусов устройств EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Monitoring_MailingListUser, ru: \"Справочник пользователей рассылки\", kz: \"Справочник пользователей рассылки KZ\", en: \"Справочник пользователей рассылки EN\" },\r\n    { id: LocMsgId.Menu_Dicts_Monitoring_MailingGroupUser, ru: \"Справочник групп рассылки\", kz: \"Справочник групп рассылки KZ\", en: \"Справочник групп рассылки EN\" },\r\n    { id: LocMsgId.Menu_Reports, ru: \"Отчеты\", kz: \"Отчеты KZ\", en: \"Отчеты EN\" },\r\n    { id: LocMsgId.Menu_Reports_AutoUpdates, ru: \"Автообновления\", kz: \"Автообновления KZ\", en: \"Автообновления EN\" },\r\n    { id: LocMsgId.Menu_Reports_AutoUpdates_Upload, ru: \"Отправить\", kz: \"Отправить KZ\", en: \"Отправить EN\" },\r\n    { id: LocMsgId.Menu_Reports_AutoUpdates_Tup, ru: \"TUP\", kz: \"TUP KZ\", en: \"TUP EN\" },\r\n    //#endregion\r\n\r\n    //#region PageHeaders\r\n    { id: LocMsgId.PgSynchronization_Header, ru: \"Синхронизация элементов интерфейса\", kz: \"Синхронизация элементов интерфейса KZ\", en: \"Синхронизация элементов интерфейса EN\" },\r\n    //#endregion\r\n\r\n    //#region Columns\r\n    { id: LocMsgId.Column_Id, ru: \"Id\", kz: \"Id KZ\", en: \"Id EN\" },\r\n    { id: LocMsgId.Column_Address, ru: \"Адрес\", kz: \"Адрес KZ\", en: \"Адрес EN\" },\r\n    { id: LocMsgId.Column_Area, ru: \"Область\", kz: \"Область KZ\", en: \"Область EN\" },\r\n    { id: LocMsgId.Column_AttributeType, ru: \"Тип устройства\", kz: \"Тип устройства KZ\", en: \"Тип устройства EN\" },\r\n    { id: LocMsgId.Column_City, ru: \"Город\", kz: \"Город KZ\", en: \"Город EN\" },\r\n    { id: LocMsgId.Column_Country, ru: \"Страна\", kz: \"Страна KZ\", en: \"Страна EN\" },\r\n    { id: LocMsgId.Column_Comment, ru: \"Комментарий\", kz: \"Комментарий KZ\", en: \"Комментарий EN\" },\r\n    { id: LocMsgId.Column_CreateDate, ru: \"Дата создания\", kz: \"Дата создания KZ\", en: \"Дата создания EN\" },\r\n    { id: LocMsgId.Column_Date, ru: \"Дата\", kz: \"Дата KZ\", en: \"Дата EN\" },\r\n    { id: LocMsgId.Column_Deleted, ru: \"Активен\", kz: \"Активен KZ\", en: \"Активен EN\" },\r\n    { id: LocMsgId.Column_Description, ru: \"Описание\", kz: \"Описание KZ\", en: \"Описание EN\" },\r\n    { id: LocMsgId.Column_EndTime, ru: \"Доступен по\", kz: \"Доступен по KZ\", en: \"Доступен по EN\" },\r\n    { id: LocMsgId.Column_Name, ru: \"Наименование\", kz: \"Наименование KZ\", en: \"Наименование EN\" },\r\n    { id: LocMsgId.Column_Schedule, ru: \"Расписание\", kz: \"Расписание KZ\", en: \"Расписание EN\" },\r\n    { id: LocMsgId.Column_ScheduleApplyDate, ru: \"Дата применения расписания\", kz: \"Дата применения расписания KZ\", en: \"Дата применения расписания EN\" },\r\n    { id: LocMsgId.Column_StartTime, ru: \"Доступен с\", kz: \"Доступен с KZ\", en: \"Доступен с EN\" },\r\n    { id: LocMsgId.Column_SuperAdmin, ru: \"Суперадмин\", kz: \"Суперадмин KZ\", en: \"Суперадмин EN\" },\r\n    { id: LocMsgId.Column_TypePointPlace, ru: \"Тип точки установки\", kz: \"Тип точки установки KZ\", en: \"Тип точки установки EN\" },\r\n    { id: LocMsgId.Column_User, ru: \"Пользователь\", kz: \"Пользователь KZ\", en: \"Пользователь EN\" },\r\n    { id: LocMsgId.Column_Username, ru: \"Имя пользователя\", kz: \"Имя пользователя KZ\", en: \"Имя пользователя EN\" },\r\n    { id: LocMsgId.Column_WeekDay, ru: \"День недели\", kz: \"День недели KZ\", en: \"День недели EN\" },\r\n    { id: LocMsgId.Column_EventName, ru: \"Наименование события\", kz: \"Наименование события KZ\", en: \"Наименование события EN\" },\r\n    { id: LocMsgId.Column_EquipmentEvent, ru: \"Событие от оборудования\", kz: \"Событие от оборудования KZ\", en: \"Событие от оборудования EN\" },\r\n    { id: LocMsgId.Column_GroupName, ru: \"Группа\", kz: \"Группа KZ\", en: \"Группа EN\" },\r\n    { id: LocMsgId.Column_IncidentCreationWaitTimeOrPercentage, ru: \"Время ожидания (мин.)/%\", kz: \"Время ожидания (мин.)/% KZ\", en: \"Время ожидания (мин.)/% EN\" },\r\n    { id: LocMsgId.Column_IncidentCreationWaitTime, ru: \"Время ожидания создания инцидента (мин.)\", kz: \"Время ожидания создания инцидента (мин.) KZ\", en: \"Время ожидания создания инцидента (мин.) EN\" },\r\n    { id: LocMsgId.Column_IncidentCreationPercentage, ru: \"Процент для создания инцидента\", kz: \"Процент для создания инцидента KZ\", en: \"Процент для создания инцидента EN\" },\r\n    { id: LocMsgId.Column_EquipmentStatus, ru: \"Статус оборудования\", kz: \"Статус оборудования KZ\", en: \"Статус оборудования EN\" },\r\n    { id: LocMsgId.Column_CreateIncidentForEvent, ru: \"Создавать инцидент на событие\", kz: \"Создавать инцидент на событие KZ\", en: \"Создавать инцидент на событие EN\" },\r\n    { id: LocMsgId.Column_SendEmailToUser, ru: \"Отправлять письмо пользователям\", kz: \"Отправлять письмо пользователям KZ\", en: \"Отправлять письмо пользователям EN\" },\r\n    { id: LocMsgId.Column_ConsiderDeviceAvailabilityMode, ru: \"Учитывать режим доступности устройства\", kz: \"Учитывать режим доступности устройства KZ\", en: \"Учитывать режим доступности устройства EN\" },\r\n    { id: LocMsgId.Column_ObjectMonitoring, ru: \"Объект мониторинга\", kz: \"Объект мониторинга KZ\", en: \"Объект мониторинга EN\" },\r\n    { id: LocMsgId.Column_ObjectMonitoringStatus, ru: \"Статус объекта мониторинга\", kz: \"Статус объекта мониторинга KZ\", en: \"Статус объекта мониторинга EN\" },\r\n    { id: LocMsgId.Column_TerminalStatus, ru: \"Статус терминала\", kz: \"Статус терминала KZ\", en: \"Статус терминала EN\" },\r\n    { id: LocMsgId.Column_Subject, ru: \"Заголовок\", kz: \"Заголовок KZ\", en: \"Заголовок EN\" },\r\n    { id: LocMsgId.Column_Body, ru: \"Текст письма\", kz: \"Текст письма KZ\", en: \"Текст письма EN\" },\r\n    { id: LocMsgId.Column_EmailList, ru: \"E-mail пользователя\", kz: \"E-mail пользователя KZ\", en: \"E-mail пользователя EN\" },\r\n    { id: LocMsgId.Column_IsGroupEmail, ru: \"Группировать письма\", kz: \"Группировать письма KZ\", en: \"Группировать письма EN\" },\r\n    { id: LocMsgId.Column_Groups, ru: \"Группы\", kz: \"Группы KZ\", en: \"Группы EN\" },\r\n    { id: LocMsgId.Column_AllUsers, ru: \"Все пользователи\", kz: \"Все пользователи KZ\", en: \"Все пользователи EN\" },\r\n    { id: LocMsgId.Column_GroupUsers, ru: \"Пользователи группы\", kz: \"Пользователи группы KZ\", en: \"Пользователи группы EN\" },\r\n    { id: LocMsgId.Column_UsersName, ru: \"Наименование пользователей\", kz: \"Наименование пользователей KZ\", en: \"Наименование пользователей EN\" },\r\n    { id: LocMsgId.Column_GroupsName, ru: \"Наименование группы\", kz: \"Наименование группы KZ\", en: \"Наименование группы EN\" },\r\n    { id: LocMsgId.Column_EmailTemplateName, ru: \"Наименование шаблона письма\", kz: \"Наименование шаблона письма KZ\", en: \"Наименование шаблона письма EN\" },\r\n    { id: LocMsgId.Column_EditDate, ru: \"Дата редактирования\", kz: \"Дата редактирования KZ\", en: \"Дата редактирования EN\" },\r\n    { id: LocMsgId.Column_Location, ru: \"Местоположение\", kz: \"Местоположение KZ\", en: \"Местоположение EN\" },\r\n    { id: LocMsgId.Column_TerminalType, ru: \"Тип терминала\", kz: \"Тип терминала KZ\", en: \"Тип терминала EN\" },\r\n    { id: LocMsgId.Column_TerminalKey, ru: \"Ключ\", kz: \"Ключ KZ\", en: \"Ключ EN\" },\r\n    { id: LocMsgId.Column_SerialNumber, ru: \"Серийный номер\", kz: \"Серийный номер KZ\", en: \"Серийный номер EN\" },\r\n    { id: LocMsgId.Column_RNM, ru: \"РНМ\", kz: \"РНМ KZ\", en: \"РНМ EN\" },\r\n    { id: LocMsgId.Column_DeviceCode, ru: \"Код устройства\", kz: \"Код устройства KZ\", en: \"Код устройства EN\" },\r\n    { id: LocMsgId.Column_TerminalSerialNumber, ru: \"Заводской номер\", kz: \"Заводской номер KZ\", en: \"Заводской номер EN\" },\r\n    { id: LocMsgId.Column_Account, ru: \"Счет терминала\", kz: \"Счет терминала KZ\", en: \"Счет терминала EN\" },\r\n    { id: LocMsgId.Column_CashDeskCode, ru: \"Идентификатор ПФ\", kz: \"Идентификатор ПФ KZ\", en: \"Идентификатор ПФ EN\" },\r\n    { id: LocMsgId.Column_StackerCapacity, ru: \"Вместительность купюроприемника\", kz: \"Вместительность купюроприемника KZ\", en: \"Вместительность купюроприемника EN\" },\r\n    { id: LocMsgId.Column_Users, ru: \"Пользователи\", kz: \"Пользователи KZ\", en: \"Пользователи EN\" },\r\n    { id: LocMsgId.Column_Enabled, ru: \"Активный\", kz: \"Активный KZ\", en: \"Активный EN\" },\r\n    { id: LocMsgId.Column_InServing, ru: \"Пассивный режим\", kz: \"Пассивный режим KZ\", en: \"Пассивный режим EN\" },\r\n    { id: LocMsgId.Column_Subnet, ru: \"Подсеть\", kz: \"Подсеть KZ\", en: \"Подсеть EN\" },\r\n    { id: LocMsgId.Column_NetType, ru: \"Тип сети\", kz: \"Тип сети KZ\", en: \"Тип сети EN\" },\r\n    { id: LocMsgId.Column_Profile, ru: \"Профиль\", kz: \"Профиль KZ\", en: \"Профиль EN\" },\r\n    { id: LocMsgId.Column_TimeZoneOffset, ru: \"Часовой пояс\", kz: \"Часовой пояс KZ\", en: \"Часовой пояс EN\" },\r\n    { id: LocMsgId.Column_AvailabilitySchedules, ru: \"Режим доступности\", kz: \"Режим доступности KZ\", en: \"Режим доступности EN\" },\r\n    { id: LocMsgId.Column_WarrantyPeriod, ru: \"Гарантийный период\", kz: \"Гарантийный период KZ\", en: \"Гарантийный период EN\" },\r\n    { id: LocMsgId.Column_TechnicalSupportNumbers, ru: \"Номера технической поддержки\", kz: \"Номера технической поддержки KZ\", en: \"Номера технической поддержки EN\" },\r\n    { id: LocMsgId.Column_CallCenterNumbers, ru: \"Номера Call-центра\", kz: \"Номера Call-центра KZ\", en: \"Номера Call-центра EN\" },\r\n    { id: LocMsgId.Column_Dealer, ru: \"Филиал\", kz: \"Филиал KZ\", en: \"Филиал EN\" },\r\n    //#endregion\r\n\r\n    //#region Buttons\r\n    { id: LocMsgId.Button_Apply, ru: \"Применить\", kz: \"Применить KZ\", en: \"Применить EN\" },\r\n    { id: LocMsgId.Button_Cancel, ru: \"Отменить\", kz: \"Отменить KZ\", en: \"Отменить EN\" },\r\n    { id: LocMsgId.Button_Save, ru: \"Сохранить\", kz: \"Сохранить KZ\", en: \"Сохранить EN\" },\r\n    { id: LocMsgId.Button_AddDay, ru: \"Добавить день\", kz: \"Добавить день KZ\", en: \"Добавить день EN\" },\r\n    { id: LocMsgId.Button_SortAscending, ru: \"По возрастанию\", kz: \"По возрастанию KZ\", en: \"По возрастанию EN\" },\r\n    { id: LocMsgId.Button_SortDescending, ru: \"По убыванию\", kz: \"По убыванию KZ\", en: \"По убыванию EN\" },\r\n    { id: LocMsgId.Button_ClearSorting, ru: \"Очистить\", kz: \"Очистить KZ\", en: \"Очистить EN\" },\r\n    { id: LocMsgId.Button_Ok, ru: \"OK\", kz: \"OK KZ\", en: \"OK EN\" },\r\n    { id: LocMsgId.Button_Yes, ru: \"Да\", kz: \"Да KZ\", en: \"Да EN\" },\r\n    { id: LocMsgId.Button_No, ru: \"Нет\", kz: \"Нет KZ\", en: \"Нет EN\" },\r\n    { id: LocMsgId.Button_Close, ru: \"Закрыть\", kz: \"Закрыть KZ\", en: \"Закрыть EN\" },\r\n    { id: LocMsgId.Button_AddToGroup, ru: \"Добавить \\>\\>\", kz: \"Добавить \\>\\> KZ\", en: \"Добавить \\>\\> EN\" },\r\n    { id: LocMsgId.Button_RemoveFromGroup, ru: \"\\<\\< Удалить\", kz: \"\\<\\< Удалить KZ\", en: \"\\<\\< Удалить EN\" },\r\n    { id: LocMsgId.Button_EditEmailBody, ru: \"Редактировать текст письма\", kz: \"Редактировать текст письма KZ\", en: \"Редактировать текст письма EN\" },\r\n    { id: LocMsgId.Button_Add, ru: \"Добавить\", kz: \"Добавить KZ\", en: \"Добавить EN\" },\r\n    { id: LocMsgId.Button_Delete, ru: \"Удалить\", kz: \"Удалить KZ\", en: \"Удалить EN\" },\r\n    { id: LocMsgId.Button_Refresh, ru: \"Обновить\", kz: \"Обновить KZ\", en: \"Обновить EN\" },\r\n    { id: LocMsgId.Button_Edit, ru: \"Редактировать\", kz: \"Редактировать KZ\", en: \"Редактировать EN\" },\r\n    { id: LocMsgId.Button_AddSchedule, ru: \"Добавить расписание\", kz: \"Добавить расписание KZ\", en: \"Добавить расписание EN\" },\r\n    { id: LocMsgId.Button_DeleteSchedule, ru: \"Удалить расписание\", kz: \"Удалить расписание KZ\", en: \"Удалить расписание EN\" },\r\n    { id: LocMsgId.Button_EditSchedule, ru: \"Редактировать расписание\", kz: \"Редактировать расписание KZ\", en: \"Редактировать расписание EN\" },\r\n    { id: LocMsgId.Button_ChangeApiKey, ru: \"Сменить ApiKey\", kz: \"Сменить ApiKey KZ\", en: \"Сменить ApiKey EN\" },\r\n    { id: LocMsgId.Button_Update_Download, ru: \"Загрузить обновление\", kz: \"Загрузить обновление KZ\", en: \"Загрузить обновление EN\" },\r\n    { id: LocMsgId.Button_Update_Install, ru: \"Установить обновление\", kz: \"Установить обновление KZ\", en: \"Установить обновление EN\" },\r\n    { id: LocMsgId.Button_Update_CancelDownload, ru: \"Отменить загрузку\", kz: \"Отменить загрузку KZ\", en: \"Отменить загрузку EN\" },\r\n    { id: LocMsgId.Button_Update_Rollback, ru: \"Откатить до предыдущей версии\", kz: \"Откатить до предыдущей версии KZ\", en: \"Откатить до предыдущей версии EN\" },\r\n    { id: LocMsgId.Button_Update_CancelInstall, ru: \"Отменить запланированную установку\", kz: \"Отменить запланированную установку KZ\", en: \"Отменить запланированную установку EN\" },\r\n\r\n    //#endregion\r\n\r\n    //#region FormFields\r\n    { id: LocMsgId.FormField_Login, ru: \"Логин\", kz: \"Логин KZ\", en: \"Логин EN\" },\r\n    { id: LocMsgId.FormField_Password, ru: \"Пароль\", kz: \"Пароль KZ\", en: \"Пароль EN\" },\r\n    //#endregion\r\n\r\n    //#region Messages\r\n    { id: LocMsgId.Message_Deleting, ru: \"Вы действительно хотите удалить запись?\", kz: \"Вы действительно хотите удалить запись KZ?\", en: \"Вы действительно хотите удалить запись? EN\" },\r\n    { id: LocMsgId.Message_NoSelectedRow, ru: \"Не выбрана строка\", kz: \"Не выбрана строка KZ\", en: \"Не выбрана строка EN\" },\r\n    { id: LocMsgId.Message_NoSelectedAvailabilitySchedule, ru: \"Не выбран режим доступности\", kz: \"Не выбран режим доступности KZ\", en: \"Не выбран режим доступности EN\" },\r\n    { id: LocMsgId.Message_AddAvailabilitySchedule, ru: \"Добавление режима доступности\", kz: \"Добавление режима доступности KZ\", en: \"Добавление режима доступности EN\" },\r\n    { id: LocMsgId.Message_EditAvailabilitySchedule, ru: \"Редактирование режима доступности\", kz: \"Редактирование режима доступности KZ\", en: \"Редактирование режима доступности EN\" },\r\n    { id: LocMsgId.Message_AvailabilityScheduleDeleteError, ru: \"Нельзя удалить режим доступности. В системе существуют терминалы, связанные с данным режимом.\", kz: \"Нельзя удалить режим доступности. В системе существуют терминалы, связанные с данным режимом. KZ\", en: \"Нельзя удалить режим доступности. В системе существуют терминалы, связанные с данным режимом. EN\" },\r\n    { id: LocMsgId.Message_AvailabilityScheduleSaveError, ru: \"Наименование режима доступности должно быть уникальным\", kz: \"Наименование режима доступности должно быть уникальным KZ\", en: \"Наименование режима доступности должно быть уникальным EN\" },\r\n    { id: LocMsgId.Message_AvailabilityScheduleEditError, ru: \"Нельзя редактировать расписание режима доступности. В системе существуют терминалы, связанные с данным режимом.\", kz: \"Нельзя редактировать расписание режима доступности. В системе существуют терминалы, связанные с данным режимом. KZ\", en: \"Нельзя редактировать расписание режима доступности. В системе существуют терминалы, связанные с данным режимом. EN\" },\r\n    { id: LocMsgId.Message_ScheduleItemsRequired, ru: \"Заполните расписание\", kz: \"Заполните расписание KZ\", en: \"Заполните расписание EN\" },\r\n    { id: LocMsgId.Message_Required, ru: \"Поле обязательно для заполнения\", kz: \"Поле обязательно для заполнения KZ\", en: \"Поле обязательно для заполнения EN\" },\r\n    { id: LocMsgId.Message_InvalidTime, ru: \"Некорректное время\", kz: \"Некорректное время KZ\", en: \"Некорректное время EN\" },\r\n    { id: LocMsgId.Message_Success, ru: \"Действие выполнено успешно\", kz: \"Действие выполнено успешно KZ\", en: \"Действие выполнено успешно EN\" },\r\n    { id: LocMsgId.Message_Error, ru: \"Ошибка при выполнении действия\", kz: \"Ошибка при выполнении действия KZ\", en: \"Ошибка при выполнении действия EN\" },\r\n    { id: LocMsgId.Message_NeedSelect, ru: \"Выберите...\", kz: \"Выберите... KZ\", en: \"Выберите... EN\" },\r\n    { id: LocMsgId.Message_Confirm, ru: \"Подтверждение\", kz: \"Подтверждение KZ\", en: \"Подтверждение EN\" },\r\n    { id: LocMsgId.Message_ConfirmSaveTerminalSchedules, ru: \"Вы уверены, что хотите назначить расписание для выбранных терминалов? Количество терминалов: \", kz: \"Вы уверены, что хотите назначить расписание для выбранных терминалов? Количество терминалов: KZ\", en: \"Вы уверены, что хотите назначить расписание для выбранных терминалов? Количество терминалов: EN\" },\r\n    { id: LocMsgId.Message_ConfirmIssueImailTemplates, ru: \"Есть несохраненные изменения! Продолжить?\", kz: \"Есть несохраненные изменения! Продолжить? KZ\", en: \"Есть несохраненные изменения! Продолжить? EN\" },\r\n    { id: LocMsgId.Message_NameRequired, ru: \"Наименование обязательно для заполнения\", kz: \"Наименование обязательно для заполнения KZ\", en: \"Наименование обязательно для заполнения EN\" },\r\n    { id: LocMsgId.Message_SubjectRequired, ru: \"Заголовок письма обязателен для заполнения\", kz: \"Заголовок письма обязателен для заполнения KZ\", en: \"Заголовок письма обязателен для заполнения EN\" },\r\n    { id: LocMsgId.Message_BodyRequired, ru: \"Текст письма обязателен для заполнения\", kz: \"Текст письма обязателен для заполнения KZ\", en: \"Текст письма обязателен для заполнения EN\" },\r\n    { id: LocMsgId.Message_NoSelectedEmailTemplate, ru: \"Не выбран шаблон письма\", kz: \"Не выбран шаблон письма KZ\", en: \"Не выбран шаблон письма EN\" },\r\n    { id: LocMsgId.Message_EmailTemplateSaveError, ru: \"Название шаблона должно быть уникальным\", kz: \"Название шаблона должно быть уникальным KZ\", en: \"Название шаблона должно быть уникальным EN\" },\r\n    { id: LocMsgId.Message_Saving, ru: \"Вы хотите сохранить изменения ?\", kz: \"Вы хотите сохранить изменения ? KZ\", en: \"Вы хотите сохранить изменения ? EN\" },\r\n    { id: LocMsgId.Message_EMails_Incorrect, ru: \"Один из адресов указан неверно или адреса разделены не запятой!\", kz: \"Один из адресов указан неверно или адреса разделены не запятой! KZ\", en: \"Один из адресов указан неверно или адреса разделены не запятой! EN\" },\r\n    { id: LocMsgId.Message_DuplicateName, ru: \"Повторяющиеся имена не допускаются\", kz: \"Повторяющиеся имена не допускаются KZ\", en: \"Повторяющиеся имена не допускаются EN\" },\r\n    { id: LocMsgId.Message_DataIntegrityViolationError, ru: \"Нельзя удалять эту запись, данные используются в других местах\", kz: \"Нельзя удалять эту запись, данные используются в других местах KZ\", en: \"Нельзя удалять эту запись, данные используются в других местах EN\" },\r\n    { id: LocMsgId.Message_DirectoryNotAvailable, ru: \"На данный момент справочник недоступен\", kz: \"На данный момент справочник недоступен KZ\", en: \"На данный момент справочник недоступен EN\" },\r\n    { id: LocMsgId.Message_SelectWeekDay, ru: \"Выберите день недели\", kz: \"Выберите день недели KZ\", en: \"Выберите день недели EN\" },\r\n    { id: LocMsgId.Message_WeekDayRequired, ru: \"День недели обязателен для заполнения\", kz: \"День недели обязателен для заполнения KZ\", en: \"День недели обязателен для заполнения EN\" },\r\n    { id: LocMsgId.Message_StartTimeRequired, ru: \"Время начала обязательно для заполнения\", kz: \"Время начала обязательно для заполнения KZ\", en: \"Время начала обязательно для заполнения EN\" },\r\n    { id: LocMsgId.Message_EndTimeRequired, ru: \"Время завершения обязательно для заполнения\", kz: \"Время завершения обязательно для заполнения KZ\", en: \"Время завершения обязательно для заполнения EN\" },\r\n    { id: LocMsgId.Message_EditMode, ru: \"Сохраните или отмените изменения\", kz: \"Сохраните или отмените изменения KZ\", en: \"Сохраните или отмените изменения EN\" },\r\n    { id: LocMsgId.Message_Value_Incorrect, ru: \"Вы ввели некорректное значение\", kz: \"Вы ввели некорректное значение KZ\", en: \"Вы ввели некорректное значение EN\" },\r\n    { id: LocMsgId.Message_MinValue, ru: \"Минимальное значение\", kz: \"Минимальное значение KZ\", en: \"Минимальное значение EN\" },\r\n    { id: LocMsgId.Message_MaxValue, ru: \"Максимальное значение\", kz: \"Максимальное значение KZ\", en: \"Максимальное значение EN\" },\r\n    { id: LocMsgId.Message_AddressRegRus_Incorrect, ru: \"Введите адрес терминала на русском языке\", kz: \"Введите адрес терминала на русском языке KZ\", en: \"Введите адрес терминала на русском языке EN\" },\r\n    { id: LocMsgId.Message_Date_Incorrect, ru: \"Вы ввели некорректную дату\", kz: \"Вы ввели некорректную дату KZ\", en: \"Вы ввели некорректную дату EN\" },\r\n    { id: LocMsgId.Message_TerminalNameRequired, ru: \"Введите название терминала\", kz: \"Введите название терминала KZ\", en: \"Введите название терминала EN\" },\r\n    { id: LocMsgId.Message_TerminalAddressRequired, ru: \"Введите адрес терминала\", kz: \"Введите адрес терминала KZ\", en: \"Введите адрес терминала EN\" },\r\n    { id: LocMsgId.Message_TerminalKeyRequired, ru: \"Введите ключ терминала\", kz: \"Введите ключ терминала KZ\", en: \"Введите ключ терминала EN\" },\r\n    { id: LocMsgId.Message_DealerRequired, ru: \"Выберите филиал\", kz: \"Выберите филиал KZ\", en: \"Выберите филиал EN\" },\r\n    { id: LocMsgId.Message_TerminalTypeRequired, ru: \"Выберите тип терминала\", kz: \"Выберите тип терминала KZ\", en: \"Выберите тип терминала EN\" },\r\n    { id: LocMsgId.Message_SubnetRequired, ru: \"Выберите подсеть терминала\", kz: \"Выберите подсеть терминала KZ\", en: \"Выберите подсеть терминала EN\" },\r\n    { id: LocMsgId.Message_RnmRequired, ru: \"Введите РНМ терминала\", kz: \"Введите РНМ терминала KZ\", en: \"Введите РНМ терминала EN\" },\r\n    { id: LocMsgId.Message_DeviceCodeRequired, ru: \"Введите код устройства\", kz: \"Введите код устройства KZ\", en: \"Введите код устройства EN\" },\r\n    { id: LocMsgId.Message_TerminalSerialNumberRequired, ru: \"Введите серийный номер терминала\", kz: \"Введите серийный номер терминала KZ\", en: \"Введите серийный номер терминала EN\" },\r\n    { id: LocMsgId.Message_StackerCapacityRequired, ru: \"Вместимость купюрника должна быть больше нуля\", kz: \"Вместимость купюрника должна быть больше нуля KZ\", en: \"Вместимость купюрника должна быть больше нуля EN\" },\r\n    { id: LocMsgId.Message_ServiceNoteRequired, ru: \"Заполните комментарий\", kz: \"Заполните комментарий KZ\", en: \"Заполните комментарий EN\" },\r\n    { id: LocMsgId.Message_TerminalProfileRequired, ru: \"Выберите профиль терминала\", kz: \"Выберите профиль терминала KZ\", en: \"Выберите профиль терминала EN\" },\r\n    { id: LocMsgId.Message_TerminalTimezoneRequired, ru: \"Выберите часовой пояс\", kz: \"Выберите часовой пояс KZ\", en: \"Выберите часовой пояс EN\" },\r\n    { id: LocMsgId.Message_AvailabilityScheduleRequider, ru: \"Выберите режим доступности\", kz: \"Выберите режим доступности KZ\", en: \"Выберите режим доступности EN\" },\r\n    { id: LocMsgId.Message_TerminalLocationRequired, ru: \"Выберите местоположение\", kz: \"Выберите местоположение KZ\", en: \"Выберите местоположение EN\" },\r\n    { id: LocMsgId.Message_TerminalTypePointPlaceRequired, ru: \"Выберите тип точки установки\", kz: \"Выберите тип точки установки KZ\", en: \"Выберите тип точки установки EN\" },\r\n    { id: LocMsgId.Message_NetTypeRequired, ru: \"Выберите тип сети\", kz: \"Выберите тип сети KZ\", en: \"Выберите тип сети EN\" },\r\n    { id: LocMsgId.Message_TechnicalSupportNumberRequired, ru: \"Номер технической поддержки должен быть заполнен\", kz: \"Номер технической поддержки должен быть заполнен KZ\", en: \"Номер технической поддержки должен быть заполнен EN\" },\r\n    { id: LocMsgId.Message_TechnicalSupportNumbersRequired, ru: \"Номера технической поддержки должны быть заполнены\", kz: \"Номера технической поддержки должны быть заполнены KZ\", en: \"Номера технической поддержки должны быть заполнены EN\" },\r\n    { id: LocMsgId.Message_TechnicalSupportNumberMaxLength, ru: \"Длина номера технической поддержки должна быть не более 25 символов\", kz: \"Длина номера технической поддержки должна быть не более 25 символов KZ\", en: \"Длина номера технической поддержки должна быть не более 25 символов EN\" },\r\n    { id: LocMsgId.Message_TechnicalSupportNumberMaxCount, ru: \"Номеров технической поддержки должно быть не более 10\", kz: \"Номеров технической поддержки должно быть не более 10 KZ\", en: \"Номеров технической поддержки должно быть не более 10 EN\" },\r\n    { id: LocMsgId.Message_TechnicalSupportNumberUnique, ru: \"Номер технической поддержки должен быть уникальным\", kz: \"Номер технической поддержки должен быть уникальным KZ\", en: \"Номер технической поддержки должен быть уникальным EN\" },\r\n    { id: LocMsgId.Message_CallCenterNumberRequired, ru: \"Номер Call-центра должен быть заполнен\", kz: \"Номер Call-центра должен быть заполнен KZ\", en: \"Номер Call-центра должен быть заполнен EN\" },\r\n    { id: LocMsgId.Message_CallCenterNumbersRequired, ru: \"Номера Call-центра должны быть заполнены\", kz: \"Номера Call-центра должны быть заполнены KZ\", en: \"Номера Call-центра должны быть заполнены EN\" },\r\n    { id: LocMsgId.Message_CallCenterNumberMaxLength, ru: \"Длина номера Call-центра должна быть не более 25 символов\", kz: \"Длина номера Call-центра должна быть не более 25 символов KZ\", en: \"Длина номера Call-центра должна быть не более 25 символов EN\" },\r\n    { id: LocMsgId.Message_CallCenterNumberMaxCount, ru: \"Номеров Call-центра должно быть не более 10\", kz: \"Номеров Call-центра должно быть не более 10 KZ\", en: \"Номеров Call-центра должно быть не более 10 EN\" },\r\n    { id: LocMsgId.Message_CallCenterNumberUnique, ru: \"Номер Call-центра должен быть уникальным\", kz: \"Номер Call-центра должен быть уникальным KZ\", en: \"Номер Call-центра должен быть уникальным EN\" },\r\n    { id: LocMsgId.Message_ApiKeyRequired, ru: \"Заполните ApiKey терминала\", kz: \"Заполните ApiKey терминала KZ\", en: \"Заполните ApiKey терминала EN\" },\r\n    { id: LocMsgId.Message_CashDeskCodeRequired, ru: \"Заполните идентификатор ПФ\", kz: \"Заполните идентификатор ПФ KZ\", en: \"Заполните идентификатор ПФ EN\" },\r\n    { id: LocMsgId.Message_NewApiKey, ru: \"Новый ключ\", kz: \"Новый ключ KZ\", en: \"Новый ключ EN\" },\r\n    { id: LocMsgId.Message_TerminalNameUnique, ru: \"Наименование терминала должно быть уникальным\", kz: \"Наименование терминала должно быть уникальным KZ\", en: \"Наименование терминала должно быть уникальным EN\" },\r\n    { id: LocMsgId.Message_TerminalKeyUnique, ru: \"Ключ терминала должен быть уникальным\", kz: \"Ключ терминала должен быть уникальным KZ\", en: \"Ключ терминала должен быть уникальным EN\" },\r\n    { id: LocMsgId.Message_CashDeskCodeUnique, ru: \"Идентификатор ПФ должен быть уникальным\", kz: \"Идентификатор ПФ должен быть уникальным KZ\", en: \"Идентификатор ПФ должен быть уникальным EN\" },\r\n    //#endregion\r\n\r\n    //#region PopupTitles\r\n    { id: LocMsgId.PopupTitle_Warning, ru: \"Предупреждение\", kz: \"Предупреждение KZ\", en: \"Предупреждение EN\" },\r\n    { id: LocMsgId.PopupTitle_Error, ru: \"Ошибка\", kz: \"Ошибка KZ\", en: \"Ошибка EN\" },\r\n    { id: LocMsgId.PopupTitle_Information, ru: \"Уведомление\", kz: \"Уведомление KZ\", en: \"Уведомление EN\" },\r\n    { id: LocMsgId.PopupTitle_Login, ru: \"Введите логин и пароль\", kz: \"Введите логин и пароль KZ\", en: \"Введите логин и пароль EN\" },\r\n    { id: LocMsgId.PopupTitle_DeviceUsers, ru: \"Пользователи устройств\", kz: \"Пользователи устройств KZ\", en: \"Пользователи устройств EN\" },\r\n    //#endregion\r\n\r\n    //#region Week days\r\n    { id: LocMsgId.WeekDay_Monday, ru: \"Понедельник\", kz: \"Понедельник KZ\", en: \"Monday\" },\r\n    { id: LocMsgId.WeekDay_Tuesday, ru: \"Вторник\", kz: \"Вторник KZ\", en: \"Tuesday\" },\r\n    { id: LocMsgId.WeekDay_Wednesday, ru: \"Среда\", kz: \"Среда KZ\", en: \"Wednesday\" },\r\n    { id: LocMsgId.WeekDay_Thursday, ru: \"Четверг\", kz: \"Четверг KZ\", en: \"Thursday\" },\r\n    { id: LocMsgId.WeekDay_Friday, ru: \"Пятница\", kz: \"Пятница KZ\", en: \"Friday\" },\r\n    { id: LocMsgId.WeekDay_Saturday, ru: \"Суббота\", kz: \"Суббота KZ\", en: \"Saturday\" },\r\n    { id: LocMsgId.WeekDay_Sunday, ru: \"Воскресенье\", kz: \"Воскресенье KZ\", en: \"Sunday\" },\r\n    //#endregion\r\n];\r\n\r\nexport default function getLocMsg(msgId: LocMsgId): string {\r\n    let currLang: LangEnum = LangEnum.ru;\r\n    let st = store;\r\n    if (st) {\r\n        let appSet: AppSettingsState = st.getState().AppSettings;\r\n        currLang = appSet.Language;\r\n    }\r\n    let msgObj: LocMsg = locMessages.find(itm => itm.id === msgId) as LocMsg;\r\n    if (!msgObj) {\r\n        throw new Error(\"Error: message Id:\" + msgId + \"is not found\");\r\n    }\r\n    if (msgObj.hasOwnProperty(currLang)) {\r\n        let result: string = \"\";\r\n        switch (currLang) {\r\n            case LangEnum.ru:\r\n                result = msgObj.ru!;\r\n                break;\r\n            case LangEnum.kz:\r\n                result = msgObj.kz!;\r\n                break;\r\n            case LangEnum.en:\r\n                result = msgObj.en!;\r\n                break;\r\n            default:\r\n                result = msgObj.ru!;\r\n        }\r\n        return result;\r\n    }\r\n    return msgObj.ru;\r\n}"],"sourceRoot":""}